<!DOCTYPE html>
<!-- saved from url=(0065)https://deepwiki.com/search/_dd232342-720e-45e5-a4bd-016f04757a5f -->
<html lang="en" class="light" style="color-scheme: light;"><plasmo-csui><template shadowrootmode="open"><style>*,:before,:after,::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:#3b82f680;--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:before,:after{box-sizing:border-box;border:0 solid #e5e7eb}:before,:after{--tw-content:""}html,:host{-webkit-text-size-adjust:100%;tab-size:4;font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent;font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5}body{line-height:inherit;margin:0}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-feature-settings:normal;font-variation-settings:normal;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-feature-settings:inherit;font-variation-settings:inherit;font-family:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:#0000;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{margin:0;padding:0;list-style:none}dialog{padding:0}textarea{resize:vertical}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}:host(plasmo-csui){--background:0 0% 100%;--foreground:222.2 84% 4.9%;--card:0 0% 100%;--card-foreground:222.2 84% 4.9%;--popover:0 0% 100%;--popover-foreground:222.2 84% 4.9%;--primary:222.2 47.4% 11.2%;--primary-foreground:210 40% 98%;--secondary:210 40% 96.1%;--secondary-foreground:222.2 47.4% 11.2%;--muted:210 40% 96.1%;--muted-foreground:215.4 16.3% 46.9%;--accent:210 40% 96.1%;--accent-foreground:222.2 47.4% 11.2%;--destructive:0 84.2% 60.2%;--destructive-foreground:210 40% 98%;--border:214.3 31.8% 91.4%;--input:214.3 31.8% 91.4%;--ring:222.2 84% 4.9%;--radius:.5rem;--chart-1:12 76% 61%;--chart-2:173 58% 39%;--chart-3:197 37% 24%;--chart-4:43 74% 66%;--chart-5:27 87% 67%}.dark{--background:222.2 84% 4.9%;--foreground:210 40% 98%;--card:222.2 84% 4.9%;--card-foreground:210 40% 98%;--popover:222.2 84% 4.9%;--popover-foreground:210 40% 98%;--primary:210 40% 98%;--primary-foreground:222.2 47.4% 11.2%;--secondary:217.2 32.6% 17.5%;--secondary-foreground:210 40% 98%;--muted:217.2 32.6% 17.5%;--muted-foreground:215 20.2% 65.1%;--accent:217.2 32.6% 17.5%;--accent-foreground:210 40% 98%;--destructive:0 62.8% 30.6%;--destructive-foreground:210 40% 98%;--border:217.2 32.6% 17.5%;--input:217.2 32.6% 17.5%;--ring:212.7 26.8% 83.9%;--chart-1:220 70% 50%;--chart-2:160 60% 45%;--chart-3:30 80% 55%;--chart-4:280 65% 60%;--chart-5:340 75% 55%}*{border-color:hsl(var(--border))}body{background-color:hsl(var(--background));color:hsl(var(--foreground))}.container{width:100%;margin-left:auto;margin-right:auto;padding-left:2rem;padding-right:2rem}@media (width>=1400px){.container{max-width:1400px}}.sr-only{clip:rect(0,0,0,0);white-space:nowrap;border-width:0;width:1px;height:1px;margin:-1px;padding:0;position:absolute;overflow:hidden}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{inset:0}.inset-x-0{left:0;right:0}.inset-y-0{top:0;bottom:0}.-bottom-12{bottom:-3rem}.-left-12{left:-3rem}.-right-12{right:-3rem}.-top-12{top:-3rem}.bottom-0{bottom:0}.bottom-4{bottom:1rem}.left-0{left:0}.left-1{left:.25rem}.left-1\/2{left:50%}.left-2{left:.5rem}.left-\[50\%\]{left:50%}.right-0{right:0}.right-1{right:.25rem}.right-2{right:.5rem}.right-4{right:1rem}.right-8{right:2rem}.top-0{top:0}.top-1{top:.25rem}.top-1\/2{top:50%}.top-2{top:.5rem}.top-32{top:8rem}.top-4{top:1rem}.top-\[1px\]{top:1px}.top-\[50\%\]{top:50%}.top-\[60\%\]{top:60%}.top-full{top:100%}.z-10{z-index:10}.z-50{z-index:50}.z-\[100\]{z-index:100}.z-\[1\]{z-index:1}.-mx-1{margin-left:-.25rem;margin-right:-.25rem}.mx-auto{margin-left:auto;margin-right:auto}.my-0\.5{margin-top:.125rem;margin-bottom:.125rem}.my-1{margin-top:.25rem;margin-bottom:.25rem}.my-10{margin-top:2.5rem;margin-bottom:2.5rem}.my-4{margin-top:1rem;margin-bottom:1rem}.-ml-4{margin-left:-1rem}.-mt-4{margin-top:-1rem}.mb-1{margin-bottom:.25rem}.mb-2{margin-bottom:.5rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.ml-1{margin-left:.25rem}.ml-2{margin-left:.5rem}.ml-auto{margin-left:auto}.mr-1{margin-right:.25rem}.mr-2{margin-right:.5rem}.mr-3{margin-right:.75rem}.mt-1\.5{margin-top:.375rem}.mt-2{margin-top:.5rem}.mt-24{margin-top:6rem}.mt-4{margin-top:1rem}.mt-8{margin-top:2rem}.mt-auto{margin-top:auto}.block{display:block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.grid{display:grid}.contents{display:contents}.hidden{display:none}.aspect-square{aspect-ratio:1}.aspect-video{aspect-ratio:16/9}.h-1\.5{height:.375rem}.h-10{height:2.5rem}.h-11{height:2.75rem}.h-12{height:3rem}.h-16{height:4rem}.h-2{height:.5rem}.h-2\.5{height:.625rem}.h-24{height:6rem}.h-3{height:.75rem}.h-3\.5{height:.875rem}.h-4{height:1rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-64{height:16rem}.h-7{height:1.75rem}.h-8{height:2rem}.h-9{height:2.25rem}.h-\[1px\]{height:1px}.h-\[var\(--radix-navigation-menu-viewport-height\)\]{height:var(--radix-navigation-menu-viewport-height)}.h-\[var\(--radix-select-trigger-height\)\]{height:var(--radix-select-trigger-height)}.h-auto{height:auto}.h-full{height:100%}.h-px{height:1px}.max-h-96{max-height:24rem}.max-h-\[300px\]{max-height:300px}.max-h-\[960px\]{max-height:960px}.max-h-screen{max-height:100vh}.min-h-\[100px\]{min-height:100px}.min-h-\[300px\]{min-height:300px}.min-h-\[80px\]{min-height:80px}.w-0{width:0}.w-1{width:.25rem}.w-1\/2{width:50%}.w-10{width:2.5rem}.w-11{width:2.75rem}.w-12{width:3rem}.w-2{width:.5rem}.w-2\.5{width:.625rem}.w-20{width:5rem}.w-24{width:6rem}.w-3{width:.75rem}.w-3\.5{width:.875rem}.w-3\/4{width:75%}.w-4{width:1rem}.w-40{width:10rem}.w-5{width:1.25rem}.w-64{width:16rem}.w-7{width:1.75rem}.w-72{width:18rem}.w-8{width:2rem}.w-80{width:20rem}.w-9{width:2.25rem}.w-\[100px\]{width:100px}.w-\[1px\]{width:1px}.w-full{width:100%}.w-max{width:max-content}.w-px{width:1px}.min-w-0{min-width:0}.min-w-\[12rem\]{min-width:12rem}.min-w-\[8rem\]{min-width:8rem}.min-w-\[var\(--radix-select-trigger-width\)\]{min-width:var(--radix-select-trigger-width)}.max-w-lg{max-width:32rem}.max-w-max{max-width:max-content}.max-w-screen-lg{max-width:1024px}.flex-1{flex:1}.flex-shrink-0,.shrink-0{flex-shrink:0}.flex-grow,.grow{flex-grow:1}.grow-0{flex-grow:0}.basis-full{flex-basis:100%}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.-translate-x-1\/2{--tw-translate-x:-50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y))}.-translate-y-1\/2{--tw-translate-y:-50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y))}.translate-x-\[-50\%\]{--tw-translate-x:-50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y))}.translate-y-\[-50\%\]{--tw-translate-y:-50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y))}.rotate-45{--tw-rotate:45deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y))}.rotate-90{--tw-rotate:90deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y))}@keyframes pulse{50%{opacity:.5}}.animate-pulse{animation:2s cubic-bezier(.4,0,.6,1) infinite pulse}.cursor-default{cursor:default}.cursor-move{cursor:move}.cursor-pointer{cursor:pointer}.touch-none{touch-action:none}.select-none{user-select:none}.resize{resize:both}.list-none{list-style-type:none}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.flex-row{flex-direction:row}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-stretch{align-items:stretch}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1{gap:.25rem}.gap-1\.5{gap:.375rem}.gap-2{gap:.5rem}.gap-4{gap:1rem}.space-x-1>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-right:calc(.25rem*var(--tw-space-x-reverse));margin-left:calc(.25rem*calc(1 - var(--tw-space-x-reverse)))}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-right:calc(.5rem*var(--tw-space-x-reverse));margin-left:calc(.5rem*calc(1 - var(--tw-space-x-reverse)))}.space-x-4>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-right:calc(1rem*var(--tw-space-x-reverse));margin-left:calc(1rem*calc(1 - var(--tw-space-x-reverse)))}.space-y-1>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-top:calc(.25rem*calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.25rem*var(--tw-space-y-reverse))}.space-y-1\.5>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-top:calc(.375rem*calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.375rem*var(--tw-space-y-reverse))}.space-y-2>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-top:calc(.5rem*calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem*var(--tw-space-y-reverse))}.space-y-4>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-top:calc(1rem*calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem*var(--tw-space-y-reverse))}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.truncate{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.whitespace-nowrap{white-space:nowrap}.break-words{overflow-wrap:break-word}.rounded{border-radius:.25rem}.rounded-\[2px\]{border-radius:2px}.rounded-\[inherit\]{border-radius:inherit}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:var(--radius)}.rounded-md{border-radius:calc(var(--radius) - 2px)}.rounded-sm{border-radius:calc(var(--radius) - 4px)}.rounded-t-\[10px\]{border-top-left-radius:10px;border-top-right-radius:10px}.rounded-tl-sm{border-top-left-radius:calc(var(--radius) - 4px)}.border{border-width:1px}.border-2{border-width:2px}.border-\[1\.5px\]{border-width:1.5px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-t{border-top-width:1px}.border-dashed{border-style:dashed}.border-none{border-style:none}.border-\[--color-border\]{border-color:var(--color-border)}.border-border\/50{border-color:hsl(var(--border)/.5)}.border-destructive{border-color:hsl(var(--destructive))}.border-destructive\/50{border-color:hsl(var(--destructive)/.5)}.border-gray-300{--tw-border-opacity:1;border-color:rgb(209 213 219/var(--tw-border-opacity,1))}.border-input{border-color:hsl(var(--input))}.border-primary{border-color:hsl(var(--primary))}.border-transparent{border-color:#0000}.border-l-transparent{border-left-color:#0000}.border-t-transparent{border-top-color:#0000}.bg-\[--color-bg\]{background-color:var(--color-bg)}.bg-accent{background-color:hsl(var(--accent))}.bg-background{background-color:hsl(var(--background))}.bg-black\/80{background-color:#000c}.bg-blue-100{--tw-bg-opacity:1;background-color:rgb(219 234 254/var(--tw-bg-opacity,1))}.bg-border{background-color:hsl(var(--border))}.bg-card{background-color:hsl(var(--card))}.bg-destructive{background-color:hsl(var(--destructive))}.bg-foreground{background-color:hsl(var(--foreground))}.bg-muted{background-color:hsl(var(--muted))}.bg-muted\/50{background-color:hsl(var(--muted)/.5)}.bg-popover{background-color:hsl(var(--popover))}.bg-primary{background-color:hsl(var(--primary))}.bg-red-500{--tw-bg-opacity:1;background-color:rgb(239 68 68/var(--tw-bg-opacity,1))}.bg-secondary{background-color:hsl(var(--secondary))}.bg-slate-50{--tw-bg-opacity:1;background-color:rgb(248 250 252/var(--tw-bg-opacity,1))}.bg-transparent{background-color:#0000}.bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity,1))}.fill-current{fill:currentColor}.object-cover{object-fit:cover}.p-0{padding:0}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.p-\[1px\]{padding:1px}.px-2{padding-left:.5rem;padding-right:.5rem}.px-2\.5{padding-left:.625rem;padding-right:.625rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-5{padding-left:1.25rem;padding-right:1.25rem}.px-8{padding-left:2rem;padding-right:2rem}.py-0\.5{padding-top:.125rem;padding-bottom:.125rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-1\.5{padding-top:.375rem;padding-bottom:.375rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-20{padding-top:5rem;padding-bottom:5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-6{padding-top:1.5rem;padding-bottom:1.5rem}.pb-3{padding-bottom:.75rem}.pb-4{padding-bottom:1rem}.pl-2\.5{padding-left:.625rem}.pl-4{padding-left:1rem}.pl-8{padding-left:2rem}.pr-2{padding-right:.5rem}.pr-2\.5{padding-right:.625rem}.pr-8{padding-right:2rem}.pt-0{padding-top:0}.pt-1{padding-top:.25rem}.pt-3{padding-top:.75rem}.pt-4{padding-top:1rem}.text-left{text-align:left}.text-center{text-align:center}.align-middle{vertical-align:middle}.font-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.text-2xl{font-size:1.5rem;line-height:2rem}.text-\[0\.8rem\]{font-size:.8rem}.text-\[10px\]{font-size:10px}.text-\[12px\]{font-size:12px}.text-\[14px\]{font-size:14px}.text-\[16px\]{font-size:16px}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-normal{font-weight:400}.font-semibold{font-weight:600}.italic{font-style:italic}.tabular-nums{--tw-numeric-spacing:tabular-nums;font-variant-numeric:var(--tw-ordinal)var(--tw-slashed-zero)var(--tw-numeric-figure)var(--tw-numeric-spacing)var(--tw-numeric-fraction)}.leading-none{line-height:1}.tracking-tight{letter-spacing:-.025em}.tracking-widest{letter-spacing:.1em}.text-accent-foreground{color:hsl(var(--accent-foreground))}.text-blue-500{--tw-text-opacity:1;color:rgb(59 130 246/var(--tw-text-opacity,1))}.text-card-foreground{color:hsl(var(--card-foreground))}.text-current{color:currentColor}.text-destructive{color:hsl(var(--destructive))}.text-destructive-foreground{color:hsl(var(--destructive-foreground))}.text-foreground{color:hsl(var(--foreground))}.text-foreground\/50{color:hsl(var(--foreground)/.5)}.text-gray-400{--tw-text-opacity:1;color:rgb(156 163 175/var(--tw-text-opacity,1))}.text-gray-500{--tw-text-opacity:1;color:rgb(107 114 128/var(--tw-text-opacity,1))}.text-gray-600{--tw-text-opacity:1;color:rgb(75 85 99/var(--tw-text-opacity,1))}.text-gray-700{--tw-text-opacity:1;color:rgb(55 65 81/var(--tw-text-opacity,1))}.text-muted-foreground{color:hsl(var(--muted-foreground))}.text-popover-foreground{color:hsl(var(--popover-foreground))}.text-primary{color:hsl(var(--primary))}.text-primary-foreground{color:hsl(var(--primary-foreground))}.text-secondary-foreground{color:hsl(var(--secondary-foreground))}.text-slate-800{--tw-text-opacity:1;color:rgb(30 41 59/var(--tw-text-opacity,1))}.text-white{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity,1))}.underline{text-decoration-line:underline}.underline-offset-4{text-underline-offset:4px}.opacity-0{opacity:0}.opacity-50{opacity:.5}.opacity-60{opacity:.6}.opacity-70{opacity:.7}.opacity-80{opacity:.8}.opacity-90{opacity:.9}.shadow{--tw-shadow:0 1px 3px 0 #0000001a,0 1px 2px -1px #0000001a;--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color),0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow:0 4px 6px -1px #0000001a,0 2px 4px -2px #0000001a;--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 2px 0 #0000000d;--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.shadow-xl{--tw-shadow:0 20px 25px -5px #0000001a,0 8px 10px -6px #0000001a;--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color),0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.outline-none{outline-offset:2px;outline:2px solid #0000}.outline{outline-style:solid}.ring-0{--tw-ring-offset-shadow:var(--tw-ring-inset)0 0 0 var(--tw-ring-offset-width)var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset)0 0 0 calc(0px + var(--tw-ring-offset-width))var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.ring-2{--tw-ring-offset-shadow:var(--tw-ring-inset)0 0 0 var(--tw-ring-offset-width)var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.ring-ring{--tw-ring-color:hsl(var(--ring))}.ring-offset-background{--tw-ring-offset-color:hsl(var(--background))}.blur{--tw-blur:blur(8px);filter:var(--tw-blur)var(--tw-brightness)var(--tw-contrast)var(--tw-grayscale)var(--tw-hue-rotate)var(--tw-invert)var(--tw-saturate)var(--tw-sepia)var(--tw-drop-shadow)}.filter{filter:var(--tw-blur)var(--tw-brightness)var(--tw-contrast)var(--tw-grayscale)var(--tw-hue-rotate)var(--tw-invert)var(--tw-saturate)var(--tw-sepia)var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-all{transition-property:all;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-opacity{transition-property:opacity;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.transition-transform{transition-property:transform;transition-duration:.15s;transition-timing-function:cubic-bezier(.4,0,.2,1)}.duration-1000{transition-duration:1s}.duration-200{transition-duration:.2s}.duration-300{transition-duration:.3s}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}@keyframes enter{0%{opacity:var(--tw-enter-opacity,1);transform:translate3d(var(--tw-enter-translate-x,0),var(--tw-enter-translate-y,0),0)scale3d(var(--tw-enter-scale,1),var(--tw-enter-scale,1),var(--tw-enter-scale,1))rotate(var(--tw-enter-rotate,0))}}@keyframes exit{to{opacity:var(--tw-exit-opacity,1);transform:translate3d(var(--tw-exit-translate-x,0),var(--tw-exit-translate-y,0),0)scale3d(var(--tw-exit-scale,1),var(--tw-exit-scale,1),var(--tw-exit-scale,1))rotate(var(--tw-exit-rotate,0))}}.animate-in{--tw-enter-opacity:initial;--tw-enter-scale:initial;--tw-enter-rotate:initial;--tw-enter-translate-x:initial;--tw-enter-translate-y:initial;animation-name:enter;animation-duration:.15s}.fade-in-0{--tw-enter-opacity:0}.fade-in-80{--tw-enter-opacity:.8}.zoom-in-95{--tw-enter-scale:.95}.duration-1000{animation-duration:1s}.duration-200{animation-duration:.2s}.duration-300{animation-duration:.3s}.ease-in-out{animation-timing-function:cubic-bezier(.4,0,.2,1)}.file\:border-0::file-selector-button{border-width:0}.file\:bg-transparent::file-selector-button{background-color:#0000}.file\:text-sm::file-selector-button{font-size:.875rem;line-height:1.25rem}.file\:font-medium::file-selector-button{font-weight:500}.placeholder\:text-muted-foreground::placeholder{color:hsl(var(--muted-foreground))}.after\:absolute:after{content:var(--tw-content);position:absolute}.after\:inset-y-0:after{content:var(--tw-content);top:0;bottom:0}.after\:left-1\/2:after{content:var(--tw-content);left:50%}.after\:w-1:after{content:var(--tw-content);width:.25rem}.after\:-translate-x-1\/2:after{content:var(--tw-content);--tw-translate-x:-50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y))}.first\:rounded-l-md:first-child{border-top-left-radius:calc(var(--radius) - 2px);border-bottom-left-radius:calc(var(--radius) - 2px)}.first\:border-l:first-child{border-left-width:1px}.last\:rounded-r-md:last-child{border-top-right-radius:calc(var(--radius) - 2px);border-bottom-right-radius:calc(var(--radius) - 2px)}.focus-within\:relative:focus-within{position:relative}.focus-within\:z-20:focus-within{z-index:20}.hover\:scale-110:hover{--tw-scale-x:1.1;--tw-scale-y:1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y))}.hover\:bg-accent:hover{background-color:hsl(var(--accent))}.hover\:bg-destructive\/80:hover{background-color:hsl(var(--destructive)/.8)}.hover\:bg-destructive\/90:hover{background-color:hsl(var(--destructive)/.9)}.hover\:bg-gray-100:hover{--tw-bg-opacity:1;background-color:rgb(243 244 246/var(--tw-bg-opacity,1))}.hover\:bg-gray-200:hover{--tw-bg-opacity:1;background-color:rgb(229 231 235/var(--tw-bg-opacity,1))}.hover\:bg-muted:hover{background-color:hsl(var(--muted))}.hover\:bg-muted\/50:hover{background-color:hsl(var(--muted)/.5)}.hover\:bg-primary:hover{background-color:hsl(var(--primary))}.hover\:bg-primary\/80:hover{background-color:hsl(var(--primary)/.8)}.hover\:bg-primary\/90:hover{background-color:hsl(var(--primary)/.9)}.hover\:bg-secondary:hover{background-color:hsl(var(--secondary))}.hover\:bg-secondary\/80:hover{background-color:hsl(var(--secondary)/.8)}.hover\:bg-slate-100:hover{--tw-bg-opacity:1;background-color:rgb(241 245 249/var(--tw-bg-opacity,1))}.hover\:text-accent-foreground:hover{color:hsl(var(--accent-foreground))}.hover\:text-foreground:hover{color:hsl(var(--foreground))}.hover\:text-gray-700:hover{--tw-text-opacity:1;color:rgb(55 65 81/var(--tw-text-opacity,1))}.hover\:text-muted-foreground:hover{color:hsl(var(--muted-foreground))}.hover\:text-primary-foreground:hover{color:hsl(var(--primary-foreground))}.hover\:text-slate-900:hover{--tw-text-opacity:1;color:rgb(15 23 42/var(--tw-text-opacity,1))}.hover\:underline:hover{text-decoration-line:underline}.hover\:opacity-100:hover{opacity:1}.hover\:shadow-md:hover{--tw-shadow:0 4px 6px -1px #0000001a,0 2px 4px -2px #0000001a;--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.focus\:bg-accent:focus{background-color:hsl(var(--accent))}.focus\:bg-primary:focus{background-color:hsl(var(--primary))}.focus\:text-accent-foreground:focus{color:hsl(var(--accent-foreground))}.focus\:text-primary-foreground:focus{color:hsl(var(--primary-foreground))}.focus\:opacity-100:focus{opacity:1}.focus\:outline-none:focus{outline-offset:2px;outline:2px solid #0000}.focus\:ring-2:focus{--tw-ring-offset-shadow:var(--tw-ring-inset)0 0 0 var(--tw-ring-offset-width)var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.focus\:ring-ring:focus{--tw-ring-color:hsl(var(--ring))}.focus\:ring-offset-2:focus{--tw-ring-offset-width:2px}.focus-visible\:outline-none:focus-visible{outline-offset:2px;outline:2px solid #0000}.focus-visible\:ring-1:focus-visible{--tw-ring-offset-shadow:var(--tw-ring-inset)0 0 0 var(--tw-ring-offset-width)var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset)0 0 0 calc(1px + var(--tw-ring-offset-width))var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.focus-visible\:ring-2:focus-visible{--tw-ring-offset-shadow:var(--tw-ring-inset)0 0 0 var(--tw-ring-offset-width)var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.focus-visible\:ring-ring:focus-visible{--tw-ring-color:hsl(var(--ring))}.focus-visible\:ring-offset-1:focus-visible{--tw-ring-offset-width:1px}.focus-visible\:ring-offset-2:focus-visible{--tw-ring-offset-width:2px}.focus-visible\:ring-offset-background:focus-visible{--tw-ring-offset-color:hsl(var(--background))}.active\:scale-105:active{--tw-scale-x:1.05;--tw-scale-y:1.05;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y))}.disabled\:pointer-events-none:disabled{pointer-events:none}.disabled\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\:opacity-50:disabled{opacity:.5}.group:hover .group-hover\:opacity-100{opacity:1}.group:hover .group-hover\:opacity-80{opacity:.8}.group.destructive .group-\[\.destructive\]\:border-muted\/40{border-color:hsl(var(--muted)/.4)}.group.toaster .group-\[\.toaster\]\:border-border{border-color:hsl(var(--border))}.group.toast .group-\[\.toast\]\:bg-muted{background-color:hsl(var(--muted))}.group.toast .group-\[\.toast\]\:bg-primary{background-color:hsl(var(--primary))}.group.toaster .group-\[\.toaster\]\:bg-background{background-color:hsl(var(--background))}.group.destructive .group-\[\.destructive\]\:text-red-300{--tw-text-opacity:1;color:rgb(252 165 165/var(--tw-text-opacity,1))}.group.toast .group-\[\.toast\]\:text-muted-foreground{color:hsl(var(--muted-foreground))}.group.toast .group-\[\.toast\]\:text-primary-foreground{color:hsl(var(--primary-foreground))}.group.toaster .group-\[\.toaster\]\:text-foreground{color:hsl(var(--foreground))}.group.toaster .group-\[\.toaster\]\:shadow-lg{--tw-shadow:0 10px 15px -3px #0000001a,0 4px 6px -4px #0000001a;--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.group.destructive .group-\[\.destructive\]\:hover\:border-destructive\/30:hover{border-color:hsl(var(--destructive)/.3)}.group.destructive .group-\[\.destructive\]\:hover\:bg-destructive:hover{background-color:hsl(var(--destructive))}.group.destructive .group-\[\.destructive\]\:hover\:text-destructive-foreground:hover{color:hsl(var(--destructive-foreground))}.group.destructive .group-\[\.destructive\]\:hover\:text-red-50:hover{--tw-text-opacity:1;color:rgb(254 242 242/var(--tw-text-opacity,1))}.group.destructive .group-\[\.destructive\]\:focus\:ring-destructive:focus{--tw-ring-color:hsl(var(--destructive))}.group.destructive .group-\[\.destructive\]\:focus\:ring-red-400:focus{--tw-ring-opacity:1;--tw-ring-color:rgb(248 113 113/var(--tw-ring-opacity,1))}.group.destructive .group-\[\.destructive\]\:focus\:ring-offset-red-600:focus{--tw-ring-offset-color:#dc2626}.peer:disabled~.peer-disabled\:cursor-not-allowed{cursor:not-allowed}.peer:disabled~.peer-disabled\:opacity-70{opacity:.7}.has-\[\:disabled\]\:opacity-50:has(:disabled){opacity:.5}.aria-selected\:bg-accent[aria-selected=true]{background-color:hsl(var(--accent))}.aria-selected\:bg-accent\/50[aria-selected=true]{background-color:hsl(var(--accent)/.5)}.aria-selected\:text-accent-foreground[aria-selected=true]{color:hsl(var(--accent-foreground))}.aria-selected\:text-muted-foreground[aria-selected=true]{color:hsl(var(--muted-foreground))}.aria-selected\:opacity-100[aria-selected=true]{opacity:1}.aria-selected\:opacity-30[aria-selected=true]{opacity:.3}.data-\[disabled\=true\]\:pointer-events-none[data-disabled=true],.data-\[disabled\]\:pointer-events-none[data-disabled]{pointer-events:none}.data-\[state\=inactive\]\:hidden[data-state=inactive]{display:none}.data-\[panel-group-direction\=vertical\]\:h-px[data-panel-group-direction=vertical]{height:1px}.data-\[panel-group-direction\=vertical\]\:w-full[data-panel-group-direction=vertical]{width:100%}.data-\[side\=bottom\]\:translate-y-1[data-side=bottom]{--tw-translate-y:.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y))}.data-\[side\=left\]\:-translate-x-1[data-side=left]{--tw-translate-x:-.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y))}.data-\[side\=right\]\:translate-x-1[data-side=right]{--tw-translate-x:.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y))}.data-\[side\=top\]\:-translate-y-1[data-side=top]{--tw-translate-y:-.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y))}.data-\[state\=checked\]\:translate-x-5[data-state=checked]{--tw-translate-x:1.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y))}.data-\[state\=unchecked\]\:translate-x-0[data-state=unchecked],.data-\[swipe\=cancel\]\:translate-x-0[data-swipe=cancel]{--tw-translate-x:0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y))}.data-\[swipe\=end\]\:translate-x-\[var\(--radix-toast-swipe-end-x\)\][data-swipe=end]{--tw-translate-x:var(--radix-toast-swipe-end-x);transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y))}.data-\[swipe\=move\]\:translate-x-\[var\(--radix-toast-swipe-move-x\)\][data-swipe=move]{--tw-translate-x:var(--radix-toast-swipe-move-x);transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y))}@keyframes accordion-up{0%{height:var(--radix-accordion-content-height)}to{height:0}}.data-\[state\=closed\]\:animate-accordion-up[data-state=closed]{animation:.2s ease-out accordion-up}@keyframes accordion-down{0%{height:0}to{height:var(--radix-accordion-content-height)}}.data-\[state\=open\]\:animate-accordion-down[data-state=open]{animation:.2s ease-out accordion-down}.data-\[panel-group-direction\=vertical\]\:flex-col[data-panel-group-direction=vertical]{flex-direction:column}.data-\[active\]\:bg-accent\/50[data-active]{background-color:hsl(var(--accent)/.5)}.data-\[selected\=\'true\'\]\:bg-accent[data-selected=true]{background-color:hsl(var(--accent))}.data-\[state\=active\]\:bg-background[data-state=active]{background-color:hsl(var(--background))}.data-\[state\=checked\]\:bg-primary[data-state=checked]{background-color:hsl(var(--primary))}.data-\[state\=on\]\:bg-accent[data-state=on],.data-\[state\=open\]\:bg-accent[data-state=open]{background-color:hsl(var(--accent))}.data-\[state\=open\]\:bg-accent\/50[data-state=open]{background-color:hsl(var(--accent)/.5)}.data-\[state\=open\]\:bg-secondary[data-state=open]{background-color:hsl(var(--secondary))}.data-\[state\=selected\]\:bg-muted[data-state=selected]{background-color:hsl(var(--muted))}.data-\[state\=unchecked\]\:bg-input[data-state=unchecked]{background-color:hsl(var(--input))}.data-\[selected\=true\]\:text-accent-foreground[data-selected=true]{color:hsl(var(--accent-foreground))}.data-\[state\=active\]\:text-foreground[data-state=active]{color:hsl(var(--foreground))}.data-\[state\=checked\]\:text-primary-foreground[data-state=checked]{color:hsl(var(--primary-foreground))}.data-\[state\=on\]\:text-accent-foreground[data-state=on],.data-\[state\=open\]\:text-accent-foreground[data-state=open]{color:hsl(var(--accent-foreground))}.data-\[state\=open\]\:text-muted-foreground[data-state=open]{color:hsl(var(--muted-foreground))}.data-\[disabled\=true\]\:opacity-50[data-disabled=true],.data-\[disabled\]\:opacity-50[data-disabled]{opacity:.5}.data-\[state\=active\]\:shadow-sm[data-state=active]{--tw-shadow:0 1px 2px 0 #0000000d;--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.data-\[swipe\=move\]\:transition-none[data-swipe=move]{transition-property:none}.data-\[state\=closed\]\:duration-300[data-state=closed]{transition-duration:.3s}.data-\[state\=open\]\:duration-500[data-state=open]{transition-duration:.5s}.data-\[motion\^\=from-\]\:animate-in[data-motion^=from-],.data-\[state\=open\]\:animate-in[data-state=open],.data-\[state\=visible\]\:animate-in[data-state=visible]{--tw-enter-opacity:initial;--tw-enter-scale:initial;--tw-enter-rotate:initial;--tw-enter-translate-x:initial;--tw-enter-translate-y:initial;animation-name:enter;animation-duration:.15s}.data-\[motion\^\=to-\]\:animate-out[data-motion^=to-],.data-\[state\=closed\]\:animate-out[data-state=closed],.data-\[state\=hidden\]\:animate-out[data-state=hidden],.data-\[swipe\=end\]\:animate-out[data-swipe=end]{--tw-exit-opacity:initial;--tw-exit-scale:initial;--tw-exit-rotate:initial;--tw-exit-translate-x:initial;--tw-exit-translate-y:initial;animation-name:exit;animation-duration:.15s}.data-\[motion\^\=from-\]\:fade-in[data-motion^=from-]{--tw-enter-opacity:0}.data-\[motion\^\=to-\]\:fade-out[data-motion^=to-],.data-\[state\=closed\]\:fade-out-0[data-state=closed]{--tw-exit-opacity:0}.data-\[state\=closed\]\:fade-out-80[data-state=closed]{--tw-exit-opacity:.8}.data-\[state\=hidden\]\:fade-out[data-state=hidden]{--tw-exit-opacity:0}.data-\[state\=open\]\:fade-in-0[data-state=open],.data-\[state\=visible\]\:fade-in[data-state=visible]{--tw-enter-opacity:0}.data-\[state\=closed\]\:zoom-out-95[data-state=closed]{--tw-exit-scale:.95}.data-\[state\=open\]\:zoom-in-90[data-state=open]{--tw-enter-scale:.9}.data-\[state\=open\]\:zoom-in-95[data-state=open]{--tw-enter-scale:.95}.data-\[motion\=from-end\]\:slide-in-from-right-52[data-motion=from-end]{--tw-enter-translate-x:13rem}.data-\[motion\=from-start\]\:slide-in-from-left-52[data-motion=from-start]{--tw-enter-translate-x:-13rem}.data-\[motion\=to-end\]\:slide-out-to-right-52[data-motion=to-end]{--tw-exit-translate-x:13rem}.data-\[motion\=to-start\]\:slide-out-to-left-52[data-motion=to-start]{--tw-exit-translate-x:-13rem}.data-\[side\=bottom\]\:slide-in-from-top-2[data-side=bottom]{--tw-enter-translate-y:-.5rem}.data-\[side\=left\]\:slide-in-from-right-2[data-side=left]{--tw-enter-translate-x:.5rem}.data-\[side\=right\]\:slide-in-from-left-2[data-side=right]{--tw-enter-translate-x:-.5rem}.data-\[side\=top\]\:slide-in-from-bottom-2[data-side=top]{--tw-enter-translate-y:.5rem}.data-\[state\=closed\]\:slide-out-to-bottom[data-state=closed]{--tw-exit-translate-y:100%}.data-\[state\=closed\]\:slide-out-to-left[data-state=closed]{--tw-exit-translate-x:-100%}.data-\[state\=closed\]\:slide-out-to-left-1\/2[data-state=closed]{--tw-exit-translate-x:-50%}.data-\[state\=closed\]\:slide-out-to-right[data-state=closed],.data-\[state\=closed\]\:slide-out-to-right-full[data-state=closed]{--tw-exit-translate-x:100%}.data-\[state\=closed\]\:slide-out-to-top[data-state=closed]{--tw-exit-translate-y:-100%}.data-\[state\=closed\]\:slide-out-to-top-\[48\%\][data-state=closed]{--tw-exit-translate-y:-48%}.data-\[state\=open\]\:slide-in-from-bottom[data-state=open]{--tw-enter-translate-y:100%}.data-\[state\=open\]\:slide-in-from-left[data-state=open]{--tw-enter-translate-x:-100%}.data-\[state\=open\]\:slide-in-from-left-1\/2[data-state=open]{--tw-enter-translate-x:-50%}.data-\[state\=open\]\:slide-in-from-right[data-state=open]{--tw-enter-translate-x:100%}.data-\[state\=open\]\:slide-in-from-top[data-state=open]{--tw-enter-translate-y:-100%}.data-\[state\=open\]\:slide-in-from-top-\[48\%\][data-state=open]{--tw-enter-translate-y:-48%}.data-\[state\=open\]\:slide-in-from-top-full[data-state=open]{--tw-enter-translate-y:-100%}.data-\[state\=closed\]\:duration-300[data-state=closed]{animation-duration:.3s}.data-\[state\=open\]\:duration-500[data-state=open]{animation-duration:.5s}.data-\[panel-group-direction\=vertical\]\:after\:left-0[data-panel-group-direction=vertical]:after{content:var(--tw-content);left:0}.data-\[panel-group-direction\=vertical\]\:after\:h-1[data-panel-group-direction=vertical]:after{content:var(--tw-content);height:.25rem}.data-\[panel-group-direction\=vertical\]\:after\:w-full[data-panel-group-direction=vertical]:after{content:var(--tw-content);width:100%}.data-\[panel-group-direction\=vertical\]\:after\:-translate-y-1\/2[data-panel-group-direction=vertical]:after{content:var(--tw-content);--tw-translate-y:-50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y))}.data-\[panel-group-direction\=vertical\]\:after\:translate-x-0[data-panel-group-direction=vertical]:after{content:var(--tw-content);--tw-translate-x:0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y))}.group[data-state=open] .group-data-\[state\=open\]\:rotate-180{--tw-rotate:180deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y))}.dark\:border-destructive:is(.dark *){border-color:hsl(var(--destructive))}@media (width>=640px){.sm\:bottom-0{bottom:0}.sm\:right-0{right:0}.sm\:top-auto{top:auto}.sm\:mt-0{margin-top:0}.sm\:max-w-md{max-width:28rem}.sm\:max-w-sm{max-width:24rem}.sm\:flex-row{flex-direction:row}.sm\:flex-col{flex-direction:column}.sm\:justify-end{justify-content:flex-end}.sm\:gap-2\.5{gap:.625rem}.sm\:space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-right:calc(.5rem*var(--tw-space-x-reverse));margin-left:calc(.5rem*calc(1 - var(--tw-space-x-reverse)))}.sm\:space-x-4>:not([hidden])~:not([hidden]){--tw-space-x-reverse:0;margin-right:calc(1rem*var(--tw-space-x-reverse));margin-left:calc(1rem*calc(1 - var(--tw-space-x-reverse)))}.sm\:space-y-0>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-top:calc(0px*calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(0px*var(--tw-space-y-reverse))}.sm\:rounded-lg{border-radius:var(--radius)}.sm\:text-left{text-align:left}.data-\[state\=open\]\:sm\:slide-in-from-bottom-full[data-state=open]{--tw-enter-translate-y:100%}}@media (width>=768px){.md\:absolute{position:absolute}.md\:w-\[var\(--radix-navigation-menu-viewport-width\)\]{width:var(--radix-navigation-menu-viewport-width)}.md\:w-auto{width:auto}.md\:max-w-\[420px\]{max-width:420px}.md\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}}.\[\&\:has\(\[aria-selected\]\)\]\:bg-accent:has([aria-selected]){background-color:hsl(var(--accent))}.first\:\[\&\:has\(\[aria-selected\]\)\]\:rounded-l-md:has([aria-selected]):first-child{border-top-left-radius:calc(var(--radius) - 2px);border-bottom-left-radius:calc(var(--radius) - 2px)}.last\:\[\&\:has\(\[aria-selected\]\)\]\:rounded-r-md:has([aria-selected]):last-child{border-top-right-radius:calc(var(--radius) - 2px);border-bottom-right-radius:calc(var(--radius) - 2px)}.\[\&\:has\(\[aria-selected\]\.day-outside\)\]\:bg-accent\/50:has([aria-selected].day-outside){background-color:hsl(var(--accent)/.5)}.\[\&\:has\(\[aria-selected\]\.day-range-end\)\]\:rounded-r-md:has([aria-selected].day-range-end){border-top-right-radius:calc(var(--radius) - 2px);border-bottom-right-radius:calc(var(--radius) - 2px)}.\[\&\:has\(\[role\=checkbox\]\)\]\:pr-0:has([role=checkbox]){padding-right:0}.\[\&\>span\]\:line-clamp-1>span{-webkit-line-clamp:1;-webkit-box-orient:vertical;display:-webkit-box;overflow:hidden}.\[\&\>svg\+div\]\:translate-y-\[-3px\]>svg+div{--tw-translate-y:-3px;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y))}.\[\&\>svg\]\:absolute>svg{position:absolute}.\[\&\>svg\]\:left-4>svg{left:1rem}.\[\&\>svg\]\:top-4>svg{top:1rem}.\[\&\>svg\]\:size-3\.5>svg{width:.875rem;height:.875rem}.\[\&\>svg\]\:h-2\.5>svg{height:.625rem}.\[\&\>svg\]\:h-3>svg{height:.75rem}.\[\&\>svg\]\:w-2\.5>svg{width:.625rem}.\[\&\>svg\]\:w-3>svg{width:.75rem}.\[\&\>svg\]\:text-destructive>svg{color:hsl(var(--destructive))}.\[\&\>svg\]\:text-foreground>svg{color:hsl(var(--foreground))}.\[\&\>svg\]\:text-muted-foreground>svg{color:hsl(var(--muted-foreground))}.\[\&\>svg\~\*\]\:pl-7>svg~*{padding-left:1.75rem}.\[\&\>tr\]\:last\:border-b-0:last-child>tr{border-bottom-width:0}.\[\&\[data-panel-group-direction\=vertical\]\>div\]\:rotate-90[data-panel-group-direction=vertical]>div{--tw-rotate:90deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y))}.\[\&\[data-state\=open\]\>svg\]\:rotate-180[data-state=open]>svg{--tw-rotate:180deg;transform:translate(var(--tw-translate-x),var(--tw-translate-y))rotate(var(--tw-rotate))skewX(var(--tw-skew-x))skewY(var(--tw-skew-y))scaleX(var(--tw-scale-x))scaleY(var(--tw-scale-y))}.\[\&_\.recharts-cartesian-axis-tick_text\]\:fill-muted-foreground .recharts-cartesian-axis-tick text{fill:hsl(var(--muted-foreground))}.\[\&_\.recharts-cartesian-grid_line\[stroke\=\'\#ccc\'\]\]\:stroke-border\/50 .recharts-cartesian-grid line[stroke=\#ccc]{stroke:hsl(var(--border)/.5)}.\[\&_\.recharts-curve\.recharts-tooltip-cursor\]\:stroke-border .recharts-curve.recharts-tooltip-cursor{stroke:hsl(var(--border))}.\[\&_\.recharts-dot\[stroke\=\'\#fff\'\]\]\:stroke-transparent .recharts-dot[stroke=\#fff]{stroke:#0000}.\[\&_\.recharts-layer\]\:outline-none .recharts-layer{outline-offset:2px;outline:2px solid #0000}.\[\&_\.recharts-polar-grid_\[stroke\=\'\#ccc\'\]\]\:stroke-border .recharts-polar-grid [stroke=\#ccc]{stroke:hsl(var(--border))}.\[\&_\.recharts-radial-bar-background-sector\]\:fill-muted .recharts-radial-bar-background-sector,.\[\&_\.recharts-rectangle\.recharts-tooltip-cursor\]\:fill-muted .recharts-rectangle.recharts-tooltip-cursor{fill:hsl(var(--muted))}.\[\&_\.recharts-reference-line_\[stroke\=\'\#ccc\'\]\]\:stroke-border .recharts-reference-line [stroke=\#ccc]{stroke:hsl(var(--border))}.\[\&_\.recharts-sector\[stroke\=\'\#fff\'\]\]\:stroke-transparent .recharts-sector[stroke=\#fff]{stroke:#0000}.\[\&_\.recharts-sector\]\:outline-none .recharts-sector,.\[\&_\.recharts-surface\]\:outline-none .recharts-surface{outline-offset:2px;outline:2px solid #0000}.\[\&_\[cmdk-group-heading\]\]\:px-2 [cmdk-group-heading]{padding-left:.5rem;padding-right:.5rem}.\[\&_\[cmdk-group-heading\]\]\:py-1\.5 [cmdk-group-heading]{padding-top:.375rem;padding-bottom:.375rem}.\[\&_\[cmdk-group-heading\]\]\:text-xs [cmdk-group-heading]{font-size:.75rem;line-height:1rem}.\[\&_\[cmdk-group-heading\]\]\:font-medium [cmdk-group-heading]{font-weight:500}.\[\&_\[cmdk-group-heading\]\]\:text-muted-foreground [cmdk-group-heading]{color:hsl(var(--muted-foreground))}.\[\&_\[cmdk-group\]\:not\(\[hidden\]\)_\~\[cmdk-group\]\]\:pt-0 [cmdk-group]:not([hidden])~[cmdk-group]{padding-top:0}.\[\&_\[cmdk-group\]\]\:px-2 [cmdk-group]{padding-left:.5rem;padding-right:.5rem}.\[\&_\[cmdk-input-wrapper\]_svg\]\:h-5 [cmdk-input-wrapper] svg{height:1.25rem}.\[\&_\[cmdk-input-wrapper\]_svg\]\:w-5 [cmdk-input-wrapper] svg{width:1.25rem}.\[\&_\[cmdk-input\]\]\:h-12 [cmdk-input]{height:3rem}.\[\&_\[cmdk-item\]\]\:px-2 [cmdk-item]{padding-left:.5rem;padding-right:.5rem}.\[\&_\[cmdk-item\]\]\:py-3 [cmdk-item]{padding-top:.75rem;padding-bottom:.75rem}.\[\&_\[cmdk-item\]_svg\]\:h-5 [cmdk-item] svg{height:1.25rem}.\[\&_\[cmdk-item\]_svg\]\:w-5 [cmdk-item] svg{width:1.25rem}.\[\&_p\]\:leading-relaxed p{line-height:1.625}.\[\&_tr\:last-child\]\:border-0 tr:last-child{border-width:0}.\[\&_tr\]\:border-b tr{border-bottom-width:1px}</style><div id="plasmo-shadow-container" style="z-index: 2147483647; position: relative;"><div id="plasmo-overlay-0" class="plasmo-csui-container" style="display: flex; position: absolute; top: 0px; left: 0px;"></div></div></template></plasmo-csui><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="./DeepWiki _ AI documentation you can talk to, for every repo_files/f30152c0704fba31.css" data-precedence="next"><link rel="stylesheet" href="./DeepWiki _ AI documentation you can talk to, for every repo_files/a9b1eca4ad71d9b0.css" data-precedence="next"><link rel="stylesheet" href="./DeepWiki _ AI documentation you can talk to, for every repo_files/97aa57a0cb43847d.css" data-precedence="next"><link rel="preload" as="script" fetchpriority="low" href="./DeepWiki _ AI documentation you can talk to, for every repo_files/webpack-acbbbb548492d4a6.js.下载"><script src="./DeepWiki _ AI documentation you can talk to, for every repo_files/4bd1b696-cebf68b71ed1e85d.js.下载" async=""></script><script src="./DeepWiki _ AI documentation you can talk to, for every repo_files/1684-85f9241615d68cdf.js.下载" async=""></script><script src="./DeepWiki _ AI documentation you can talk to, for every repo_files/main-app-8ab5af3d6b81086e.js.下载" async=""></script><script src="./DeepWiki _ AI documentation you can talk to, for every repo_files/b1298b8d-549c141f97a3b262.js.下载" async=""></script><script src="./DeepWiki _ AI documentation you can talk to, for every repo_files/378e5a93-3b0f971d3611a8a5.js.下载" async=""></script><script src="./DeepWiki _ AI documentation you can talk to, for every repo_files/f7f68e2d-40290491c524df5c.js.下载" async=""></script><script src="./DeepWiki _ AI documentation you can talk to, for every repo_files/5009-cf1c1739f4eccbfa.js.下载" async=""></script><script src="./DeepWiki _ AI documentation you can talk to, for every repo_files/3377-d302682beb4206f6.js.下载" async=""></script><script src="./DeepWiki _ AI documentation you can talk to, for every repo_files/6671-b0da8a89e8d16b02.js.下载" async=""></script><script src="./DeepWiki _ AI documentation you can talk to, for every repo_files/3852-f786c46570f1c37a.js.下载" async=""></script><script src="./DeepWiki _ AI documentation you can talk to, for every repo_files/layout-069cb77866786652.js.下载" async=""></script><script src="./DeepWiki _ AI documentation you can talk to, for every repo_files/7bf36345-20a79815585d2583.js.下载" async=""></script><script src="./DeepWiki _ AI documentation you can talk to, for every repo_files/c16f53c3-c80d3b6d0c4af7a0.js.下载" async=""></script><script src="./DeepWiki _ AI documentation you can talk to, for every repo_files/537-d9d5e9261de3e69c.js.下载" async=""></script><script src="./DeepWiki _ AI documentation you can talk to, for every repo_files/5217-9d83ca492e50c5ed.js.下载" async=""></script><script src="./DeepWiki _ AI documentation you can talk to, for every repo_files/9514-78acba0a55208c16.js.下载" async=""></script><script src="./DeepWiki _ AI documentation you can talk to, for every repo_files/168-d8e567d7acd9a9f8.js.下载" async=""></script><script src="./DeepWiki _ AI documentation you can talk to, for every repo_files/6422-90b4a59eb579f66b.js.下载" async=""></script><script src="./DeepWiki _ AI documentation you can talk to, for every repo_files/7111-a7096d6b9901350a.js.下载" async=""></script><script src="./DeepWiki _ AI documentation you can talk to, for every repo_files/3239-be1b92c3873b597a.js.下载" async=""></script><script src="./DeepWiki _ AI documentation you can talk to, for every repo_files/page-5656bcf3c53e5305.js.下载" async=""></script><meta name="next-size-adjust" content=""><title>DeepWiki | AI documentation you can talk to, for every repo</title><meta name="description" content="DeepWiki provides up-to-date documentation you can talk to, for every repo in the world. Think Deep Research for GitHub - powered by Devin."><meta property="og:title" content="DeepWiki | AI documentation you can talk to, for every repo"><meta property="og:description" content="DeepWiki provides up-to-date documentation you can talk to, for every repo in the world. Think Deep Research for GitHub - powered by Devin."><meta property="og:url" content="https://deepwiki.com"><meta property="og:site_name" content="DeepWiki"><meta property="og:image:type" content="image/png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta property="og:image" content="https://deepwiki.com/opengraph-image.png?8391a278ea71bf13"><meta property="og:type" content="website"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="DeepWiki | AI documentation you can talk to, for every repo"><meta name="twitter:description" content="DeepWiki provides up-to-date documentation you can talk to, for every repo in the world. Think Deep Research for GitHub - powered by Devin."><meta name="twitter:image:type" content="image/png"><meta name="twitter:image:width" content="1200"><meta name="twitter:image:height" content="630"><meta name="twitter:image" content="https://deepwiki.com/opengraph-image.png?8391a278ea71bf13"><link rel="icon" href="https://deepwiki.com/favicon.ico" type="image/x-icon" sizes="48x48"><link rel="icon" href="https://deepwiki.com/icon.png?66aaf51e0e68c818" type="image/png" sizes="16x16"><link rel="apple-touch-icon" href="https://deepwiki.com/apple-icon.png?a4f658907db0ab87" type="image/png" sizes="180x180"><script>document.querySelectorAll('body link[rel="icon"], body link[rel="apple-touch-icon"]').forEach(el => document.head.appendChild(el))</script><script src="./DeepWiki _ AI documentation you can talk to, for every repo_files/polyfills-42372ed130431b0a.js.下载" nomodule=""></script><style type="text/css">[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}</style><link rel="preload" href="https://deepwiki.com/_next/static/media/569ce4b8f30dc480-s.p.woff2" as="font" crossorigin="" type="font/woff2"><link rel="preload" href="https://deepwiki.com/_next/static/media/93f479601ee12b01-s.p.woff2" as="font" crossorigin="" type="font/woff2"><link rel="preload" href="https://deepwiki.com/_next/static/media/3478b6abef19b3b3-s.p.woff2" as="font" crossorigin="" type="font/woff2"><script id="hotjar-init-script" crossorigin="anonymous">(function(h,o,t,j,a,r){h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};h._hjSettings={hjid:6382967,hjsv:6,hjdebug:false};a=o.getElementsByTagName('head')[0];r=o.createElement('script');r.async=1;r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;a.appendChild(r);})(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');</script><script async="" src="./DeepWiki _ AI documentation you can talk to, for every repo_files/hotjar-6382967.js.下载"></script><script async="" src="./DeepWiki _ AI documentation you can talk to, for every repo_files/modules.e8a4a0ad0c33518716fb.js.下载" charset="utf-8"></script></head><body class="__variable_5cfdac font-geist-sans relative min-h-screen __variable_9a8899 bg-background antialiased"><section aria-label="Notifications alt+T" tabindex="-1" aria-live="polite" aria-relevant="additions text" aria-atomic="false"></section><script>((e,t,r,n,a,o,i,s)=>{let u=document.documentElement,l=["light","dark"];function c(t){var r;(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,n=r&&o?a.map(e=>o[e]||e):a;r?(u.classList.remove(...n),u.classList.add(o&&o[t]?o[t]:t)):u.setAttribute(e,t)}),r=t,s&&l.includes(r)&&(u.style.colorScheme=r)}if(n)c(n);else try{let e=localStorage.getItem(t)||r,n=i&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;c(n)}catch(e){}})("class","theme","light",null,["light","dark"],null,true,true)</script><div class="flex min-h-full w-full flex-col scroll-smooth text-[#cbcbcb]" style="scrollbar-gutter:stable"><div class="bg-main border-b-border sticky top-0 z-30 border-b border-dashed"><div class="font-geist-mono relative flex h-8 items-center justify-center text-xs font-medium text-white sm:hidden"><div class="powered-by-devin-gradient absolute inset-0 z-[-1] h-8 w-full"></div><a target="_blank" rel="noopener noreferrer" class="flex items-center gap-2" href="https://devin.ai/"><svg class="size-3 [&amp;_path]:stroke-0 [&amp;_path]:animate-[custom-pulse_1.8s_infinite_var(--delay,0s)]" xmlns="http://www.w3.org/2000/svg" viewBox="110 110 460 500"><path style="fill:#21c19a" class="[--delay:0.6s]" d="M418.73,332.37c9.84-5.68,22.07-5.68,31.91,0l25.49,14.71c.82.48,1.69.8,2.58,1.06.19.06.37.11.55.16.87.21,1.76.34,2.65.35.04,0,.08.02.13.02.1,0,.19-.03.29-.04.83-.02,1.64-.13,2.45-.32.14-.03.28-.05.42-.09.87-.24,1.7-.59,2.5-1.03.08-.04.17-.06.25-.1l50.97-29.43c3.65-2.11,5.9-6.01,5.9-10.22v-58.86c0-4.22-2.25-8.11-5.9-10.22l-50.97-29.43c-3.65-2.11-8.15-2.11-11.81,0l-50.97,29.43c-.08.04-.13.11-.2.16-.78.48-1.51,1.02-2.15,1.66-.1.1-.18.21-.28.31-.57.6-1.08,1.26-1.51,1.97-.07.12-.15.22-.22.34-.44.77-.77,1.6-1.03,2.47-.05.19-.1.37-.14.56-.22.89-.37,1.81-.37,2.76v29.43c0,11.36-6.11,21.95-15.95,27.63-9.84,5.68-22.06,5.68-31.91,0l-25.49-14.71c-.82-.48-1.69-.8-2.57-1.06-.19-.06-.37-.11-.56-.16-.88-.21-1.76-.34-2.65-.34-.13,0-.26.02-.4.02-.84.02-1.66.13-2.47.32-.13.03-.27.05-.4.09-.87.24-1.71.6-2.51,1.04-.08.04-.16.06-.24.1l-50.97,29.43c-3.65,2.11-5.9,6.01-5.9,10.22v58.86c0,4.22,2.25,8.11,5.9,10.22l50.97,29.43c.08.04.17.06.24.1.8.44,1.64.79,2.5,1.03.14.04.28.06.42.09.81.19,1.62.3,2.45.32.1,0,.19.04.29.04.04,0,.08-.02.13-.02.89,0,1.77-.13,2.65-.35.19-.04.37-.1.56-.16.88-.26,1.75-.59,2.58-1.06l25.49-14.71c9.84-5.68,22.06-5.68,31.91,0,9.84,5.68,15.95,16.27,15.95,27.63v29.43c0,.95.15,1.87.37,2.76.05.19.09.37.14.56.25.86.59,1.69,1.03,2.47.07.12.15.22.22.34.43.71.94,1.37,1.51,1.97.1.1.18.21.28.31.65.63,1.37,1.18,2.15,1.66.07.04.13.11.2.16l50.97,29.43c1.83,1.05,3.86,1.58,5.9,1.58s4.08-.53,5.9-1.58l50.97-29.43c3.65-2.11,5.9-6.01,5.9-10.22v-58.86c0-4.22-2.25-8.11-5.9-10.22l-50.97-29.43c-.08-.04-.16-.06-.24-.1-.8-.44-1.64-.8-2.51-1.04-.13-.04-.26-.05-.39-.09-.82-.2-1.65-.31-2.49-.33-.13,0-.25-.02-.38-.02-.89,0-1.78.13-2.66.35-.18.04-.36.1-.54.15-.88.26-1.75.59-2.58,1.07l-25.49,14.72c-9.84,5.68-22.07,5.68-31.9,0-9.84-5.68-15.95-16.27-15.95-27.63s6.11-21.95,15.95-27.63Z"></path><path style="fill:#3969ca" d="M141.09,317.65l50.97,29.43c1.83,1.05,3.86,1.58,5.9,1.58s4.08-.53,5.9-1.58l50.97-29.43c.08-.04.13-.11.2-.16.78-.48,1.51-1.02,2.15-1.66.1-.1.18-.21.28-.31.57-.6,1.08-1.26,1.51-1.97.07-.12.15-.22.22-.34.44-.77.77-1.6,1.03-2.47.05-.19.1-.37.14-.56.22-.89.37-1.81.37-2.76v-29.43c0-11.36,6.11-21.95,15.96-27.63s22.06-5.68,31.91,0l25.49,14.71c.82.48,1.69.8,2.57,1.06.19.06.37.11.56.16.87.21,1.76.34,2.64.35.04,0,.09.02.13.02.1,0,.19-.04.29-.04.83-.02,1.65-.13,2.45-.32.14-.03.28-.05.41-.09.87-.24,1.71-.6,2.51-1.04.08-.04.16-.06.24-.1l50.97-29.43c3.65-2.11,5.9-6.01,5.9-10.22v-58.86c0-4.22-2.25-8.11-5.9-10.22l-50.97-29.43c-3.65-2.11-8.15-2.11-11.81,0l-50.97,29.43c-.08.04-.13.11-.2.16-.78.48-1.51,1.02-2.15,1.66-.1.1-.18.21-.28.31-.57.6-1.08,1.26-1.51,1.97-.07.12-.15.22-.22.34-.44.77-.77,1.6-1.03,2.47-.05.19-.1.37-.14.56-.22.89-.37,1.81-.37,2.76v29.43c0,11.36-6.11,21.95-15.95,27.63-9.84,5.68-22.07,5.68-31.91,0l-25.49-14.71c-.82-.48-1.69-.8-2.58-1.06-.19-.06-.37-.11-.55-.16-.88-.21-1.76-.34-2.65-.35-.13,0-.26.02-.4.02-.83.02-1.66.13-2.47.32-.13.03-.27.05-.4.09-.87.24-1.71.6-2.51,1.04-.08.04-.16.06-.24.1l-50.97,29.43c-3.65,2.11-5.9,6.01-5.9,10.22v58.86c0,4.22,2.25,8.11,5.9,10.22Z"></path><path style="fill:#0294de" class="[--delay:1.2s]" d="M396.88,484.35l-50.97-29.43c-.08-.04-.17-.06-.24-.1-.8-.44-1.64-.79-2.51-1.03-.14-.04-.27-.06-.41-.09-.81-.19-1.64-.3-2.47-.32-.13,0-.26-.02-.39-.02-.89,0-1.78.13-2.66.35-.18.04-.36.1-.54.15-.88.26-1.76.59-2.58,1.07l-25.49,14.72c-9.84,5.68-22.06,5.68-31.9,0-9.84-5.68-15.96-16.27-15.96-27.63v-29.43c0-.95-.15-1.87-.37-2.76-.05-.19-.09-.37-.14-.56-.25-.86-.59-1.69-1.03-2.47-.07-.12-.15-.22-.22-.34-.43-.71-.94-1.37-1.51-1.97-.1-.1-.18-.21-.28-.31-.65-.63-1.37-1.18-2.15-1.66-.07-.04-.13-.11-.2-.16l-50.97-29.43c-3.65-2.11-8.15-2.11-11.81,0l-50.97,29.43c-3.65,2.11-5.9,6.01-5.9,10.22v58.86c0,4.22,2.25,8.11,5.9,10.22l50.97,29.43c.08.04.17.06.25.1.8.44,1.63.79,2.5,1.03.14.04.29.06.43.09.8.19,1.61.3,2.43.32.1,0,.2.04.3.04.04,0,.09-.02.13-.02.88,0,1.77-.13,2.64-.34.19-.04.37-.1.56-.16.88-.26,1.75-.59,2.57-1.06l25.49-14.71c9.84-5.68,22.06-5.68,31.91,0,9.84,5.68,15.95,16.27,15.95,27.63v29.43c0,.95.15,1.87.37,2.76.05.19.09.37.14.56.25.86.59,1.69,1.03,2.47.07.12.15.22.22.34.43.71.94,1.37,1.51,1.97.1.1.18.21.28.31.65.63,1.37,1.18,2.15,1.66.07.04.13.11.2.16l50.97,29.43c1.83,1.05,3.86,1.58,5.9,1.58s4.08-.53,5.9-1.58l50.97-29.43c3.65-2.11,5.9-6.01,5.9-10.22v-58.86c0-4.22-2.25-8.11-5.9-10.22Z"></path></svg>Powered by Devin</a></div><div class="container-wrapper"><div class="container mx-auto flex w-full flex-row items-center gap-2 py-4 md:py-6"><a class="flex items-center gap-3" href="https://deepwiki.com/"><span class="text-base font-medium leading-none text-white md:text-lg">DeepWiki</span></a><div class="flex-1"></div><div class="flex items-center gap-4"><a href="https://devin.ai/" target="_blank" rel="noopener noreferrer" class="group hidden items-center gap-1.5 md:flex"><div class="relative"><span class="text-xs font-light text-white/70 transition-colors group-hover:text-white">powered by</span><div class="absolute bottom-0 left-0 h-[1px] w-0 bg-black/30 transition-all duration-300 group-hover:w-full dark:bg-white/30"></div></div><div class="flex items-center gap-1 transition-transform duration-300 group-hover:translate-x-0.5"><svg class="size-4 transform transition-transform duration-700 group-hover:rotate-180 [&amp;_path]:stroke-0" xmlns="http://www.w3.org/2000/svg" viewBox="110 110 460 500"><path style="fill:#21c19a" class="" d="M418.73,332.37c9.84-5.68,22.07-5.68,31.91,0l25.49,14.71c.82.48,1.69.8,2.58,1.06.19.06.37.11.55.16.87.21,1.76.34,2.65.35.04,0,.08.02.13.02.1,0,.19-.03.29-.04.83-.02,1.64-.13,2.45-.32.14-.03.28-.05.42-.09.87-.24,1.7-.59,2.5-1.03.08-.04.17-.06.25-.1l50.97-29.43c3.65-2.11,5.9-6.01,5.9-10.22v-58.86c0-4.22-2.25-8.11-5.9-10.22l-50.97-29.43c-3.65-2.11-8.15-2.11-11.81,0l-50.97,29.43c-.08.04-.13.11-.2.16-.78.48-1.51,1.02-2.15,1.66-.1.1-.18.21-.28.31-.57.6-1.08,1.26-1.51,1.97-.07.12-.15.22-.22.34-.44.77-.77,1.6-1.03,2.47-.05.19-.1.37-.14.56-.22.89-.37,1.81-.37,2.76v29.43c0,11.36-6.11,21.95-15.95,27.63-9.84,5.68-22.06,5.68-31.91,0l-25.49-14.71c-.82-.48-1.69-.8-2.57-1.06-.19-.06-.37-.11-.56-.16-.88-.21-1.76-.34-2.65-.34-.13,0-.26.02-.4.02-.84.02-1.66.13-2.47.32-.13.03-.27.05-.4.09-.87.24-1.71.6-2.51,1.04-.08.04-.16.06-.24.1l-50.97,29.43c-3.65,2.11-5.9,6.01-5.9,10.22v58.86c0,4.22,2.25,8.11,5.9,10.22l50.97,29.43c.08.04.17.06.24.1.8.44,1.64.79,2.5,1.03.14.04.28.06.42.09.81.19,1.62.3,2.45.32.1,0,.19.04.29.04.04,0,.08-.02.13-.02.89,0,1.77-.13,2.65-.35.19-.04.37-.1.56-.16.88-.26,1.75-.59,2.58-1.06l25.49-14.71c9.84-5.68,22.06-5.68,31.91,0,9.84,5.68,15.95,16.27,15.95,27.63v29.43c0,.95.15,1.87.37,2.76.05.19.09.37.14.56.25.86.59,1.69,1.03,2.47.07.12.15.22.22.34.43.71.94,1.37,1.51,1.97.1.1.18.21.28.31.65.63,1.37,1.18,2.15,1.66.07.04.13.11.2.16l50.97,29.43c1.83,1.05,3.86,1.58,5.9,1.58s4.08-.53,5.9-1.58l50.97-29.43c3.65-2.11,5.9-6.01,5.9-10.22v-58.86c0-4.22-2.25-8.11-5.9-10.22l-50.97-29.43c-.08-.04-.16-.06-.24-.1-.8-.44-1.64-.8-2.51-1.04-.13-.04-.26-.05-.39-.09-.82-.2-1.65-.31-2.49-.33-.13,0-.25-.02-.38-.02-.89,0-1.78.13-2.66.35-.18.04-.36.1-.54.15-.88.26-1.75.59-2.58,1.07l-25.49,14.72c-9.84,5.68-22.07,5.68-31.9,0-9.84-5.68-15.95-16.27-15.95-27.63s6.11-21.95,15.95-27.63Z"></path><path style="fill:#3969ca" d="M141.09,317.65l50.97,29.43c1.83,1.05,3.86,1.58,5.9,1.58s4.08-.53,5.9-1.58l50.97-29.43c.08-.04.13-.11.2-.16.78-.48,1.51-1.02,2.15-1.66.1-.1.18-.21.28-.31.57-.6,1.08-1.26,1.51-1.97.07-.12.15-.22.22-.34.44-.77.77-1.6,1.03-2.47.05-.19.1-.37.14-.56.22-.89.37-1.81.37-2.76v-29.43c0-11.36,6.11-21.95,15.96-27.63s22.06-5.68,31.91,0l25.49,14.71c.82.48,1.69.8,2.57,1.06.19.06.37.11.56.16.87.21,1.76.34,2.64.35.04,0,.09.02.13.02.1,0,.19-.04.29-.04.83-.02,1.65-.13,2.45-.32.14-.03.28-.05.41-.09.87-.24,1.71-.6,2.51-1.04.08-.04.16-.06.24-.1l50.97-29.43c3.65-2.11,5.9-6.01,5.9-10.22v-58.86c0-4.22-2.25-8.11-5.9-10.22l-50.97-29.43c-3.65-2.11-8.15-2.11-11.81,0l-50.97,29.43c-.08.04-.13.11-.2.16-.78.48-1.51,1.02-2.15,1.66-.1.1-.18.21-.28.31-.57.6-1.08,1.26-1.51,1.97-.07.12-.15.22-.22.34-.44.77-.77,1.6-1.03,2.47-.05.19-.1.37-.14.56-.22.89-.37,1.81-.37,2.76v29.43c0,11.36-6.11,21.95-15.95,27.63-9.84,5.68-22.07,5.68-31.91,0l-25.49-14.71c-.82-.48-1.69-.8-2.58-1.06-.19-.06-.37-.11-.55-.16-.88-.21-1.76-.34-2.65-.35-.13,0-.26.02-.4.02-.83.02-1.66.13-2.47.32-.13.03-.27.05-.4.09-.87.24-1.71.6-2.51,1.04-.08.04-.16.06-.24.1l-50.97,29.43c-3.65,2.11-5.9,6.01-5.9,10.22v58.86c0,4.22,2.25,8.11,5.9,10.22Z"></path><path style="fill:#0294de" class="" d="M396.88,484.35l-50.97-29.43c-.08-.04-.17-.06-.24-.1-.8-.44-1.64-.79-2.51-1.03-.14-.04-.27-.06-.41-.09-.81-.19-1.64-.3-2.47-.32-.13,0-.26-.02-.39-.02-.89,0-1.78.13-2.66.35-.18.04-.36.1-.54.15-.88.26-1.76.59-2.58,1.07l-25.49,14.72c-9.84,5.68-22.06,5.68-31.9,0-9.84-5.68-15.96-16.27-15.96-27.63v-29.43c0-.95-.15-1.87-.37-2.76-.05-.19-.09-.37-.14-.56-.25-.86-.59-1.69-1.03-2.47-.07-.12-.15-.22-.22-.34-.43-.71-.94-1.37-1.51-1.97-.1-.1-.18-.21-.28-.31-.65-.63-1.37-1.18-2.15-1.66-.07-.04-.13-.11-.2-.16l-50.97-29.43c-3.65-2.11-8.15-2.11-11.81,0l-50.97,29.43c-3.65,2.11-5.9,6.01-5.9,10.22v58.86c0,4.22,2.25,8.11,5.9,10.22l50.97,29.43c.08.04.17.06.25.1.8.44,1.63.79,2.5,1.03.14.04.29.06.43.09.8.19,1.61.3,2.43.32.1,0,.2.04.3.04.04,0,.09-.02.13-.02.88,0,1.77-.13,2.64-.34.19-.04.37-.1.56-.16.88-.26,1.75-.59,2.57-1.06l25.49-14.71c9.84-5.68,22.06-5.68,31.91,0,9.84,5.68,15.95,16.27,15.95,27.63v29.43c0,.95.15,1.87.37,2.76.05.19.09.37.14.56.25.86.59,1.69,1.03,2.47.07.12.15.22.22.34.43.71.94,1.37,1.51,1.97.1.1.18.21.28.31.65.63,1.37,1.18,2.15,1.66.07.04.13.11.2.16l50.97,29.43c1.83,1.05,3.86,1.58,5.9,1.58s4.08-.53,5.9-1.58l50.97-29.43c3.65-2.11,5.9-6.01,5.9-10.22v-58.86c0-4.22-2.25-8.11-5.9-10.22Z"></path></svg><span class="text-sm font-medium text-white">Devin</span></div></a><button class="border-border bg-surface hover:border-border-hover hover:bg-component ml-auto flex cursor-pointer items-center gap-1.5 rounded-md border px-3 py-1.5 text-sm font-medium text-white transition-all" aria-label="Share"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4"><circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line></svg><span>Share</span></button><button class="hover:bg-surface-hover flex h-8 w-8 cursor-pointer items-center justify-center rounded-md transition-colors" aria-label="Switch to dark mode"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-5 w-5 text-gray-700"><path d="M235.54,150.21a104.84,104.84,0,0,1-37,52.91A104,104,0,0,1,32,120,103.09,103.09,0,0,1,52.88,57.48a104.84,104.84,0,0,1,52.91-37,8,8,0,0,1,10,10,88.08,88.08,0,0,0,109.8,109.8,8,8,0,0,1,10,10Z"></path></svg></button></div></div></div></div><div class="absolute right-2 top-[50%] z-20 -translate-y-1/2 lg:block xl:right-8 2xl:right-12"><div class="relative"><div class="flex flex-col gap-3 px-1 py-4"><div class="h-0.5 w-4 cursor-pointer rounded-full shadow-sm transition-colors bg-neutral-400 shadow-neutral-400/70"></div><div class="h-0.5 w-4 cursor-pointer rounded-full shadow-sm transition-colors bg-white shadow-white/70"></div><div class="h-0.5 w-4 cursor-pointer rounded-full shadow-sm transition-colors bg-neutral-400 shadow-neutral-400/70"></div><div class="h-0.5 w-4 cursor-pointer rounded-full shadow-sm transition-colors bg-neutral-400 shadow-neutral-400/70"></div><div class="h-0.5 w-4 cursor-pointer rounded-full shadow-sm transition-colors bg-neutral-400 shadow-neutral-400/70"></div><div class="h-0.5 w-4 cursor-pointer rounded-full shadow-sm transition-colors bg-neutral-400 shadow-neutral-400/70"></div><div class="h-0.5 w-4 cursor-pointer rounded-full shadow-sm transition-colors bg-neutral-400 shadow-neutral-400/70"></div><div class="h-0.5 w-4 cursor-pointer rounded-full shadow-sm transition-colors bg-neutral-400 shadow-neutral-400/70"></div><div class="h-0.5 w-4 cursor-pointer rounded-full shadow-sm transition-colors bg-neutral-400 shadow-neutral-400/70"></div><div class="h-0.5 w-4 cursor-pointer rounded-full shadow-sm transition-colors bg-neutral-400 shadow-neutral-400/70"></div><div class="h-0.5 w-4 cursor-pointer rounded-full shadow-sm transition-colors bg-neutral-400 shadow-neutral-400/70"></div><div class="h-0.5 w-4 cursor-pointer rounded-full shadow-sm transition-colors bg-neutral-400 shadow-neutral-400/70"></div><div class="h-0.5 w-4 cursor-pointer rounded-full shadow-sm transition-colors bg-neutral-400 shadow-neutral-400/70"></div><div class="h-0.5 w-4 cursor-pointer rounded-full shadow-sm transition-colors bg-neutral-400 shadow-neutral-400/70"></div><div class="h-0.5 w-4 cursor-pointer rounded-full shadow-sm transition-colors bg-neutral-400 shadow-neutral-400/70"></div><div class="h-0.5 w-4 cursor-pointer rounded-full shadow-sm transition-colors bg-neutral-400 shadow-neutral-400/70"></div><div class="h-0.5 w-4 cursor-pointer rounded-full shadow-sm transition-colors bg-neutral-400 shadow-neutral-400/70"></div><div class="h-0.5 w-4 cursor-pointer rounded-full shadow-sm transition-colors bg-neutral-400 shadow-neutral-400/70"></div><div class="h-0.5 w-4 cursor-pointer rounded-full shadow-sm transition-colors bg-neutral-400 shadow-neutral-400/70"></div><div class="h-0.5 w-4 cursor-pointer rounded-full shadow-sm transition-colors bg-neutral-400 shadow-neutral-400/70"></div><div class="h-0.5 w-4 cursor-pointer rounded-full shadow-sm transition-colors bg-neutral-400 shadow-neutral-400/70"></div><div class="h-0.5 w-4 cursor-pointer rounded-full shadow-sm transition-colors bg-neutral-400 shadow-neutral-400/70"></div><div class="h-0.5 w-4 cursor-pointer rounded-full shadow-sm transition-colors bg-neutral-400 shadow-neutral-400/70"></div><div class="h-0.5 w-4 cursor-pointer rounded-full shadow-sm transition-colors bg-neutral-400 shadow-neutral-400/70"></div></div></div></div><div class="container-wrapper flex-1"><div class="container relative mx-auto"><div class="pb-36"><div id="1" class="flex flex-col gap-3 pt-8 lg:flex-row" data-query-display="true" data-query-index="0"><div class="flex max-h-fit min-w-0 flex-1 flex-shrink-0 flex-col xl:[flex-grow:2]"><div class=""><div class="flex flex-col"><a class="flex items-center gap-2 text-base text-neutral-400 transition-colors hover:text-black dark:hover:text-white" href="https://deepwiki.com/1211454975/crowdmarket"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"></path></svg>return to 1211454975/crowdmarket</a><div class="flex flex-col items-start gap-2 text-white"><div class="group relative flex items-center"><span class="text-xl xl:text-2xl">请考虑在这个框架下添加一个零代码表单管理模块，支持多租户，请先描述一下整体设计方案。<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to query"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></span></div></div></div><div class="py-3"><div class="text-primary/70 flex flex-col items-start justify-between text-sm"><div class="mb-1"><div class="inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" viewBox="0 0 256 256" class="mr-1"><path d="M213.85,125.46l-112,120a8,8,0,0,1-13.69-7l14.66-73.33L45.19,143.49a8,8,0,0,1-3-13l112-120a8,8,0,0,1,13.69,7L153.18,90.9l57.63,21.61a8,8,0,0,1,3,12.95Z"></path></svg>Fast</div></div><div class="flex w-full items-center justify-between gap-2"><div class="">Searched across 1211454975/crowdmarket</div><div><button class="flex min-w-max cursor-pointer items-center gap-1.5 whitespace-nowrap rounded-md bg-[#ef9541]/10 px-3 py-1.5 text-sm text-[#ef9541] transition-colors hover:bg-[#ef9541]/20 dark:bg-[#FFD700]/10 dark:text-[#FFD700] dark:hover:bg-[#FFD700]/20"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M248,124a56.11,56.11,0,0,0-32-50.61V72a48,48,0,0,0-88-26.49A48,48,0,0,0,40,72v1.39a56,56,0,0,0,0,101.2V176a48,48,0,0,0,88,26.49A48,48,0,0,0,216,176v-1.41A56.09,56.09,0,0,0,248,124ZM88,208a32,32,0,0,1-31.81-28.56A55.87,55.87,0,0,0,64,180h8a8,8,0,0,0,0-16H64A40,40,0,0,1,50.67,86.27,8,8,0,0,0,56,78.73V72a32,32,0,0,1,64,0v68.26A47.8,47.8,0,0,0,88,128a8,8,0,0,0,0,16,32,32,0,0,1,0,64Zm104-44h-8a8,8,0,0,0,0,16h8a55.87,55.87,0,0,0,7.81-.56A32,32,0,1,1,168,144a8,8,0,0,0,0-16,47.8,47.8,0,0,0-32,12.26V72a32,32,0,0,1,64,0v6.73a8,8,0,0,0,5.33,7.54A40,40,0,0,1,192,164Zm16-52a8,8,0,0,1-8,8h-4a36,36,0,0,1-36-36V80a8,8,0,0,1,16,0v4a20,20,0,0,0,20,20h4A8,8,0,0,1,208,112ZM60,120H56a8,8,0,0,1,0-16h4A20,20,0,0,0,80,84V80a8,8,0,0,1,16,0v4A36,36,0,0,1,60,120Z"></path></svg>Go deeper</button></div></div></div></div><div class="h-fit rounded-lg" style="scrollbar-width: thin; scrollbar-color: rgb(58, 58, 58) transparent;"><div class="dark:[&amp;_pre:has(code)]:bg-shade dark:[&amp;_code[data-lang]]:bg-shade relative flex flex-col gap-1 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-4 text-white [overflow-wrap:anywhere] dark:border-[#2F2F2F] dark:bg-[#141414] [&amp;_pre]:my-3"><div class="prose-custom prose-custom-md prose-custom-gray !max-w-none text-neutral-300 [overflow-wrap:anywhere]"><h1 class="group flex items-center">Answer  </h1>
<h2 class="group flex items-center">零代码表单管理模块设计方案（支持多租户）  </h2>
<p>基于CrowdMarket系统的现有架构，我将设计一个零代码表单管理模块，该模块支持多租户功能。该设计将充分利用系统现有的代码生成服务层和多租户架构。</p>
<h3 class="group flex items-center">1. 整体架构  </h3>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><div class="group relative cursor-pointer overflow-x-auto rounded-md bg-[#f2f1f0] p-4 transition-colors hover:bg-[#ededed] dark:bg-[#1f1f1f] dark:hover:bg-[#242424]" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«r3l»" data-state="closed"><div class="flex justify-center"><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 583 794" style="max-width: 583px;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-5uug4k17vi6"><style>#mermaid-5uug4k17vi6{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-5uug4k17vi6 .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-5uug4k17vi6 .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-5uug4k17vi6 .error-icon{fill:#dddddd;}#mermaid-5uug4k17vi6 .error-text{fill:#222222;stroke:#222222;}#mermaid-5uug4k17vi6 .edge-thickness-normal{stroke-width:1px;}#mermaid-5uug4k17vi6 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-5uug4k17vi6 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-5uug4k17vi6 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-5uug4k17vi6 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-5uug4k17vi6 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-5uug4k17vi6 .marker{fill:#999;stroke:#999;}#mermaid-5uug4k17vi6 .marker.cross{stroke:#999;}#mermaid-5uug4k17vi6 svg{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px;}#mermaid-5uug4k17vi6 p{margin:0;}#mermaid-5uug4k17vi6 .label{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;color:#333;}#mermaid-5uug4k17vi6 .cluster-label text{fill:#444;}#mermaid-5uug4k17vi6 .cluster-label span{color:#444;}#mermaid-5uug4k17vi6 .cluster-label span p{background-color:transparent;}#mermaid-5uug4k17vi6 .label text,#mermaid-5uug4k17vi6 span{fill:#333;color:#333;}#mermaid-5uug4k17vi6 .node rect,#mermaid-5uug4k17vi6 .node circle,#mermaid-5uug4k17vi6 .node ellipse,#mermaid-5uug4k17vi6 .node polygon,#mermaid-5uug4k17vi6 .node path{fill:#ffffff;stroke:#dddddd;stroke-width:1px;}#mermaid-5uug4k17vi6 .rough-node .label text,#mermaid-5uug4k17vi6 .node .label text,#mermaid-5uug4k17vi6 .image-shape .label,#mermaid-5uug4k17vi6 .icon-shape .label{text-anchor:middle;}#mermaid-5uug4k17vi6 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-5uug4k17vi6 .rough-node .label,#mermaid-5uug4k17vi6 .node .label,#mermaid-5uug4k17vi6 .image-shape .label,#mermaid-5uug4k17vi6 .icon-shape .label{text-align:center;}#mermaid-5uug4k17vi6 .node.clickable{cursor:pointer;}#mermaid-5uug4k17vi6 .root .anchor path{fill:#999!important;stroke-width:0;stroke:#999;}#mermaid-5uug4k17vi6 .arrowheadPath{fill:#0b0b0b;}#mermaid-5uug4k17vi6 .edgePath .path{stroke:#999;stroke-width:2.0px;}#mermaid-5uug4k17vi6 .flowchart-link{stroke:#999;fill:none;}#mermaid-5uug4k17vi6 .edgeLabel{background-color:#ffffff;text-align:center;}#mermaid-5uug4k17vi6 .edgeLabel p{background-color:#ffffff;}#mermaid-5uug4k17vi6 .edgeLabel rect{opacity:0.5;background-color:#ffffff;fill:#ffffff;}#mermaid-5uug4k17vi6 .labelBkg{background-color:rgba(255, 255, 255, 0.5);}#mermaid-5uug4k17vi6 .cluster rect{fill:#f8f8f8;stroke:#dddddd;stroke-width:1px;}#mermaid-5uug4k17vi6 .cluster text{fill:#444;}#mermaid-5uug4k17vi6 .cluster span{color:#444;}#mermaid-5uug4k17vi6 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:12px;background:#dddddd;border:1px solid hsl(0, 0%, 76.6666666667%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-5uug4k17vi6 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-5uug4k17vi6 rect.text{fill:none;stroke-width:0;}#mermaid-5uug4k17vi6 .icon-shape,#mermaid-5uug4k17vi6 .image-shape{background-color:#ffffff;text-align:center;}#mermaid-5uug4k17vi6 .icon-shape p,#mermaid-5uug4k17vi6 .image-shape p{background-color:#ffffff;padding:2px;}#mermaid-5uug4k17vi6 .icon-shape rect,#mermaid-5uug4k17vi6 .image-shape rect{opacity:0.5;background-color:#ffffff;fill:#ffffff;}#mermaid-5uug4k17vi6 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-5uug4k17vi6_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-5uug4k17vi6_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-5uug4k17vi6_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-5uug4k17vi6_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-5uug4k17vi6_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-5uug4k17vi6_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"><g data-look="classic" id="subGraph1" class="cluster"><rect height="104" width="543" y="8" x="14" style=""></rect><g transform="translate(237.5, 8)" class="cluster-label"><foreignobject height="24" width="96"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>现有系统组件</p></span></div></foreignobject></g></g><g data-look="classic" id="subGraph0" class="cluster"><rect height="624" width="567" y="162" x="8" style=""></rect><g transform="translate(243.5, 162)" class="cluster-label"><foreignobject height="24" width="96"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>表单管理模块</p></span></div></foreignobject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid-5uug4k17vi6_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M117,449L117,453.167C117,457.333,117,465.667,125.449,473.721C133.898,481.776,150.795,489.552,159.244,493.44L167.693,497.328"></path><path marker-end="url(#mermaid-5uug4k17vi6_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_C_0" d="M230,553L230,557.167C230,561.333,230,569.667,234.037,577.549C238.073,585.43,246.147,592.861,250.184,596.576L254.22,600.291"></path><path marker-end="url(#mermaid-5uug4k17vi6_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_D_0" d="M286.5,657L286.5,661.167C286.5,665.333,286.5,673.667,290.537,681.549C294.573,689.43,302.647,696.861,306.684,700.576L310.72,704.291"></path><path marker-end="url(#mermaid-5uug4k17vi6_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_A_0" d="M162,342.508L147.417,347.09C132.833,351.672,103.667,360.836,92.067,369.068C80.467,377.301,86.434,384.602,89.418,388.252L92.401,391.903"></path><path marker-end="url(#mermaid-5uug4k17vi6_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_C_0" d="M318,338.079L338.667,343.399C359.333,348.719,400.667,359.36,421.333,373.347C442,387.333,442,404.667,442,422C442,439.333,442,456.667,442,474C442,491.333,442,508.667,442,526C442,543.333,442,560.667,429.716,573.441C417.431,586.216,392.862,594.432,380.578,598.54L368.294,602.648"></path><path marker-end="url(#mermaid-5uug4k17vi6_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_B_0" d="M400.596,241L392.663,245.167C384.731,249.333,368.865,257.667,360.933,270.5C353,283.333,353,300.667,353,318C353,335.333,353,352.667,353,370C353,387.333,353,404.667,353,422C353,439.333,353,456.667,343.758,469.24C334.517,481.814,316.033,489.628,306.791,493.535L297.55,497.442"></path><path marker-end="url(#mermaid-5uug4k17vi6_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_D_0" d="M481.337,241L485.864,245.167C490.391,249.333,499.446,257.667,503.973,270.5C508.5,283.333,508.5,300.667,508.5,318C508.5,335.333,508.5,352.667,508.5,370C508.5,387.333,508.5,404.667,508.5,422C508.5,439.333,508.5,456.667,508.5,474C508.5,491.333,508.5,508.667,508.5,526C508.5,543.333,508.5,560.667,508.5,578C508.5,595.333,508.5,612.667,508.5,630C508.5,647.333,508.5,664.667,494.553,677.716C480.605,690.764,452.711,699.529,438.763,703.911L424.816,708.293"></path><path marker-end="url(#mermaid-5uug4k17vi6_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_E_0" d="M382,231.17L358.333,236.975C334.667,242.78,287.333,254.39,263.667,263.695C240,273,240,280,240,283.5L240,287"></path><path marker-end="url(#mermaid-5uug4k17vi6_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G_A_0" d="M127,87L127,91.167C127,95.333,127,103.667,127,112C127,120.333,127,128.667,127,137C127,145.333,127,153.667,127,166.5C127,179.333,127,196.667,127,214C127,231.333,127,248.667,127,266C127,283.333,127,300.667,127,318C127,335.333,127,352.667,126.325,364.845C125.649,377.024,124.298,384.048,123.623,387.56L122.948,391.072"></path><path marker-end="url(#mermaid-5uug4k17vi6_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_H_F_0" d="M452,87L452,91.167C452,95.333,452,103.667,452,112C452,120.333,452,128.667,452,137C452,145.333,452,153.667,452,161.333C452,169,452,176,452,179.5L452,183"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g></g><g class="nodes"><g transform="translate(117, 422)" id="flowchart-A-0" class="node default"><rect height="54" width="140" y="-27" x="-70" style="" class="basic label-container"></rect><g transform="translate(-40, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="80"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>表单设计器</p></span></div></foreignobject></g></g><g transform="translate(230, 526)" id="flowchart-B-1" class="node default"><rect height="54" width="156" y="-27" x="-78" style="" class="basic label-container"></rect><g transform="translate(-48, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="96"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>表单定义存储</p></span></div></foreignobject></g></g><g transform="translate(286.5, 630)" id="flowchart-C-3" class="node default"><rect height="54" width="156" y="-27" x="-78" style="" class="basic label-container"></rect><g transform="translate(-48, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="96"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>表单渲染引擎</p></span></div></foreignobject></g></g><g transform="translate(343, 734)" id="flowchart-D-5" class="node default"><rect height="54" width="156" y="-27" x="-78" style="" class="basic label-container"></rect><g transform="translate(-48, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="96"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>表单数据存储</p></span></div></foreignobject></g></g><g transform="translate(240, 318)" id="flowchart-E-6" class="node default"><rect height="54" width="156" y="-27" x="-78" style="" class="basic label-container"></rect><g transform="translate(-48, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="96"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>表单权限管理</p></span></div></foreignobject></g></g><g transform="translate(452, 214)" id="flowchart-F-10" class="node default"><rect height="54" width="140" y="-27" x="-70" style="" class="basic label-container"></rect><g transform="translate(-40, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="80"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>多租户隔离</p></span></div></foreignobject></g></g><g transform="translate(127, 60)" id="flowchart-G-16" class="node default"><rect height="54" width="156" y="-27" x="-78" style="" class="basic label-container"></rect><g transform="translate(-48, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="96"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>代码生成服务</p></span></div></foreignobject></g></g><g transform="translate(452, 60)" id="flowchart-H-18" class="node default"><rect height="54" width="140" y="-27" x="-70" style="" class="basic label-container"></rect><g transform="translate(-40, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="80"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>多租户管理</p></span></div></foreignobject></g></g></g></g></g></svg></div><div class="bg-input-dark absolute right-2 top-2 rounded-sm p-1 opacity-0 transition-opacity group-hover:opacity-100"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="light:text-gray-800 text-white dark:text-white"><path d="M216,48V96a8,8,0,0,1-16,0V67.31l-42.34,42.35a8,8,0,0,1-11.32-11.32L188.69,56H160a8,8,0,0,1,0-16h48A8,8,0,0,1,216,48ZM98.34,146.34,56,188.69V160a8,8,0,0,0-16,0v48a8,8,0,0,0,8,8H96a8,8,0,0,0,0-16H67.31l42.35-42.34a8,8,0,0,0-11.32-11.32ZM208,152a8,8,0,0,0-8,8v28.69l-42.34-42.35a8,8,0,0,0-11.32,11.32L188.69,200H160a8,8,0,0,0,0,16h48a8,8,0,0,0,8-8V160A8,8,0,0,0,208,152ZM67.31,56H96a8,8,0,0,0,0-16H48a8,8,0,0,0-8,8V96a8,8,0,0,0,16,0V67.31l42.34,42.35a8,8,0,0,0,11.32-11.32Z"></path></svg></div></div></pre>
<h3 class="group flex items-center">2. 数据库设计  </h3>
<p>需要创建以下核心表：</p>
<h4 class="group flex items-center">2.1 表单定义表 (form_definition)</h4>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `form_definition` (  
</span><span>  `form_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'表单ID'</span><span>,  
</span><span>  `form_name` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'表单名称'</span><span>,  
</span><span>  `form_desc` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">500</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'表单描述'</span><span>,  
</span><span>  `form_config` text </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'表单配置JSON'</span><span>,  
</span><span>  `form_status` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'状态(0草稿,1发布,2停用)'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  `create_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建者'</span><span>,  
</span><span>  `create_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建时间'</span><span>,  
</span><span>  `update_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新者'</span><span>,  
</span><span>  `update_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新时间'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`form_id`)  
</span><span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'表单定义表'</span><span>;</span></code></pre></pre>
<h4 class="group flex items-center">2.2 表单字段表 (form_field)</h4>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `form_field` (  
</span><span>  `field_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'字段ID'</span><span>,  
</span><span>  `form_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'表单ID'</span><span>,  
</span><span>  `field_name` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">50</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'字段名称'</span><span>,  
</span><span>  `field_label` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'字段标签'</span><span>,  
</span><span>  `field_type` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'字段类型'</span><span>,  
</span><span>  `field_options` text COMMENT </span><span style="color: rgb(221, 17, 68);">'字段选项JSON'</span><span>,  
</span><span>  `is_required` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'是否必填(0否1是)'</span><span>,  
</span><span>  `field_order` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">int</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'排序'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`field_id`),  
</span>  KEY `idx_form_id` (`form_id`)  
<span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'表单字段表'</span><span>;</span></code></pre></pre>
<h4 class="group flex items-center">2.3 表单数据表 (form_data)</h4>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `form_data` (  
</span><span>  `data_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'数据ID'</span><span>,  
</span><span>  `form_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'表单ID'</span><span>,  
</span><span>  `data_content` text </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'表单数据JSON'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  `create_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建者'</span><span>,  
</span><span>  `create_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建时间'</span><span>,  
</span><span>  `update_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新者'</span><span>,  
</span><span>  `update_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新时间'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`data_id`),  
</span>  KEY `idx_form_id` (`form_id`)  
<span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'表单数据表'</span><span>;</span></code></pre></pre>
<h4 class="group flex items-center">2.4 表单权限表 (form_permission)</h4>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `form_permission` (  
</span><span>  `permission_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'权限ID'</span><span>,  
</span><span>  `form_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'表单ID'</span><span>,  
</span><span>  `role_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">bigint</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'角色ID'</span><span>,  
</span><span>  `can_view` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'查看权限(0否1是)'</span><span>,  
</span><span>  `can_add` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'添加权限(0否1是)'</span><span>,  
</span><span>  `can_edit` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'编辑权限(0否1是)'</span><span>,  
</span><span>  `can_delete` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'删除权限(0否1是)'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`permission_id`),  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">UNIQUE</span><span> KEY `uk_form_role` (`form_id`,`role_id`,`tenant_id`)  
</span><span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'表单权限表'</span><span>;</span></code></pre></pre>
<h3 class="group flex items-center">3. 核心功能模块  </h3>
<h4 class="group flex items-center">3.1 表单设计器</h4>
<p>表单设计器将提供拖拽式界面，允许用户通过拖拽组件的方式创建表单。设计器将支持以下功能：</p>
<ul>
<li>基础表单组件（文本框、数字框、下拉框、单选框、多选框、日期选择器等）</li>
<li>高级组件（附件上传、图片上传、富文本编辑器等）</li>
<li>布局组件（分栏、分组、标签页等）</li>
<li>表单验证规则配置</li>
<li>表单样式配置</li>
<li>表单逻辑配置（条件显示、计算公式等）</li>
</ul>
<p>表单设计器将生成JSON格式的表单配置，存储在<code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">form_definition</code>表的<code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">form_config</code>字段中。</p>
<h4 class="group flex items-center">3.2 表单渲染引擎</h4>
<p>表单渲染引擎负责根据表单配置动态渲染表单界面，支持以下功能：</p>
<ul>
<li>根据JSON配置动态渲染表单</li>
<li>处理表单验证</li>
<li>处理表单提交</li>
<li>处理表单数据加载</li>
<li>支持表单逻辑（条件显示、计算公式等）</li>
</ul>
<h4 class="group flex items-center">3.3 多租户支持</h4>
<p>利用系统现有的多租户架构，确保表单数据在不同租户之间完全隔离：</p>
<ul>
<li>所有表单相关表都包含<code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">tenant_id</code>字段</li>
<li>所有查询都会自动添加租户过滤条件</li>
<li>表单权限与系统现有的角色权限体系集成</li>
</ul>
<p>这将基于现有的<code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">sys_company</code>表 <span role="link" tabindex="0" class="bg-pacific/10 text-pacific active:bg-pacific/20 hover:bg-pacific/20 cursor-pointer rounded-md px-[0.25rem] py-[0.12rem] text-xs font-normal leading-[15px] transition-colors duration-100 before:hidden after:hidden" style="font-family: &quot;IBM Plex Mono&quot;, &quot;IBM Plex Mono Fallback&quot;; font-weight: 400; font-style: normal;">multi_tenant.sql:332-348</span> 来实现租户隔离，每个租户（公司）拥有自己的表单定义和数据。</p>
<h4 class="group flex items-center">3.4 权限管理</h4>
<p>表单权限管理将与系统现有的角色权限体系集成，通过<code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">form_permission</code>表控制不同角色对表单的访问权限：</p>
<ul>
<li>查看权限：允许用户查看表单和表单数据</li>
<li>添加权限：允许用户添加新的表单数据</li>
<li>编辑权限：允许用户编辑表单数据</li>
<li>删除权限：允许用户删除表单数据</li>
</ul>
<p>这将与现有的<code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">sys_role</code>和<code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">sys_user_role</code>表集成，确保权限控制的一致性。</p>
<h3 class="group flex items-center">4. 技术实现  </h3>
<h4 class="group flex items-center">4.1 后端实现</h4>
<p>后端将采用与现有系统相同的技术栈，基于Spring Boot框架实现。核心服务包括：</p>
<ol>
<li><strong>表单定义服务</strong>：负责表单的创建、修改、删除和查询</li>
<li><strong>表单数据服务</strong>：负责表单数据的提交、查询、修改和删除</li>
<li><strong>表单权限服务</strong>：负责表单权限的管理</li>
</ol>
<p>我们可以利用现有的代码生成服务 <span role="link" tabindex="0" class="bg-pacific/10 text-pacific active:bg-pacific/20 hover:bg-pacific/20 cursor-pointer rounded-md px-[0.25rem] py-[0.12rem] text-xs font-normal leading-[15px] transition-colors duration-100 before:hidden after:hidden" style="font-family: &quot;IBM Plex Mono&quot;, &quot;IBM Plex Mono Fallback&quot;; font-weight: 400; font-style: normal;">GenTableServiceImpl.java:42-51</span> 来快速生成这些服务的基础代码，然后进行定制化开发。</p>
<h4 class="group flex items-center">4.2 前端实现</h4>
<p>前端将基于Vue.js框架实现，包括以下组件：</p>
<ol>
<li><strong>表单设计器组件</strong>：提供拖拽式界面，用于设计表单</li>
<li><strong>表单渲染组件</strong>：根据表单配置动态渲染表单</li>
<li><strong>表单管理界面</strong>：用于管理表单定义</li>
<li><strong>表单数据管理界面</strong>：用于管理表单数据</li>
</ol>
<p>前端组件将通过API与后端服务交互，实现表单的设计、渲染和数据管理功能。</p>
<h3 class="group flex items-center">5. 与现有系统的集成  </h3>
<h4 class="group flex items-center">5.1 与代码生成服务的集成</h4>
<p>我们可以扩展现有的代码生成服务 <span role="link" tabindex="0" class="bg-pacific/10 text-pacific active:bg-pacific/20 hover:bg-pacific/20 cursor-pointer rounded-md px-[0.25rem] py-[0.12rem] text-xs font-normal leading-[15px] transition-colors duration-100 before:hidden after:hidden" style="font-family: &quot;IBM Plex Mono&quot;, &quot;IBM Plex Mono Fallback&quot;; font-weight: 400; font-style: normal;">VelocityUtils.java:88-107</span> ，添加表单模板，使其能够生成表单相关的代码。这样，用户可以通过代码生成服务快速创建表单，然后通过表单设计器进行定制。</p>
<h4 class="group flex items-center">5.2 与多租户系统的集成</h4>
<p>表单管理模块将与现有的多租户系统集成，确保表单数据在不同租户之间完全隔离。每个租户只能访问自己的表单和表单数据。</p>
<p>系统将利用现有的<code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">sys_company</code>表 <span role="link" tabindex="0" class="bg-pacific/10 text-pacific active:bg-pacific/20 hover:bg-pacific/20 cursor-pointer rounded-md px-[0.25rem] py-[0.12rem] text-xs font-normal leading-[15px] transition-colors duration-100 before:hidden after:hidden" style="font-family: &quot;IBM Plex Mono&quot;, &quot;IBM Plex Mono Fallback&quot;; font-weight: 400; font-style: normal;">multi_tenant.sql:332-348</span> 和<code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">sys_user</code>表 <span role="link" tabindex="0" class="bg-pacific/10 text-pacific active:bg-pacific/20 hover:bg-pacific/20 cursor-pointer rounded-md px-[0.25rem] py-[0.12rem] text-xs font-normal leading-[15px] transition-colors duration-100 before:hidden after:hidden" style="font-family: &quot;IBM Plex Mono&quot;, &quot;IBM Plex Mono Fallback&quot;; font-weight: 400; font-style: normal;">multi_tenant.sql:853-877</span> 来实现租户隔离和用户认证。</p>
<h4 class="group flex items-center">5.3 与菜单系统的集成</h4>
<p>表单管理模块将添加以下菜单项：</p>
<ol>
<li><strong>表单设计</strong>：用于设计和管理表单</li>
<li><strong>表单数据</strong>：用于管理表单数据</li>
<li><strong>表单权限</strong>：用于管理表单权限</li>
</ol>
<p>这些菜单项将通过现有的菜单管理系统 <span role="link" tabindex="0" class="bg-pacific/10 text-pacific active:bg-pacific/20 hover:bg-pacific/20 cursor-pointer rounded-md px-[0.25rem] py-[0.12rem] text-xs font-normal leading-[15px] transition-colors duration-100 before:hidden after:hidden" style="font-family: &quot;IBM Plex Mono&quot;, &quot;IBM Plex Mono Fallback&quot;; font-weight: 400; font-style: normal;">multi_tenant.sql:601-614</span> 添加到系统中。</p>
<h3 class="group flex items-center">6. 部署和配置  </h3>
<p>表单管理模块将作为CrowdMarket系统的一个组件进行部署，不需要额外的部署步骤。配置方面，需要在系统配置中添加以下配置项：</p>
<ol>
<li><strong>表单附件存储路径</strong>：用于存储表单附件</li>
<li><strong>表单数据导出路径</strong>：用于存储导出的表单数据</li>
<li><strong>表单模板路径</strong>：用于存储表单模板</li>
</ol>
<h3 class="group flex items-center">7. 扩展性考虑  </h3>
<p>为了确保表单管理模块的扩展性，我们将采用以下设计：</p>
<ol>
<li><strong>插件机制</strong>：支持通过插件扩展表单组件和表单功能</li>
<li><strong>API接口</strong>：提供完整的API接口，方便第三方系统集成</li>
<li><strong>事件机制</strong>：提供表单生命周期事件，方便扩展表单行为</li>
<li><strong>模板机制</strong>：支持自定义表单模板，方便快速创建表单</li>
</ol>
<h2 class="group flex items-center">Notes  </h2>
<p>本设计方案基于CrowdMarket系统的现有架构，特别是代码生成服务层和多租户架构。设计充分考虑了系统的扩展性和与现有系统的集成。表单管理模块将作为一个零代码解决方案，允许用户通过拖拽方式创建和管理表单，同时支持多租户隔离，确保不同租户的数据安全。</p>
<p>Wiki pages you might want to explore:</p>
<ul>
<li><a href="https://deepwiki.com/1211454975/crowdmarket/2.3-code-generation-service-layer">Code Generation Service Layer (1211454975/crowdmarket)</a></li>
</ul></div><div class="flex items-center gap-1 text-neutral-300"><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M234,80.12A24,24,0,0,0,216,72H160V56a40,40,0,0,0-40-40,8,8,0,0,0-7.16,4.42L75.06,96H32a16,16,0,0,0-16,16v88a16,16,0,0,0,16,16H204a24,24,0,0,0,23.82-21l12-96A24,24,0,0,0,234,80.12ZM32,112H72v88H32ZM223.94,97l-12,96a8,8,0,0,1-7.94,7H88V105.89l36.71-73.43A24,24,0,0,1,144,56V80a8,8,0,0,0,8,8h64a8,8,0,0,1,7.94,9Z"></path></svg></button><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M239.82,157l-12-96A24,24,0,0,0,204,40H32A16,16,0,0,0,16,56v88a16,16,0,0,0,16,16H75.06l37.78,75.58A8,8,0,0,0,120,240a40,40,0,0,0,40-40V184h56a24,24,0,0,0,23.82-27ZM72,144H32V56H72Zm150,21.29a7.88,7.88,0,0,1-6,2.71H152a8,8,0,0,0-8,8v24a24,24,0,0,1-19.29,23.54L88,150.11V56H204a8,8,0,0,1,7.94,7l12,96A7.87,7.87,0,0,1,222,165.29Z"></path></svg></button></div></div></div></div></div><div class="min-w-0 flex-1 scroll-smooth xl:[flex-grow:3]" style="scrollbar-width: thin; scrollbar-color: rgb(90, 90, 90) transparent; min-height: unset;"><div class="sticky left-0 top-0 overflow-y-auto rounded-md" style="max-height: calc(-55px + 100vh);"><div class="flex flex-col gap-3 p-0 pb-[90px]"><div id="file-Repo 1211454975/crowdmarket: sql/multi_tenant.sql" class="flex flex-col gap-2 scroll-smooth rounded-md" style="content-visibility: auto;"><div class="scrollbar-hide relative w-full p-0 ring-1 ring-neutral-800 rounded-sm"><div class="bg-secondary dark:bg-surface sticky top-0 z-10 flex w-full items-center justify-between px-3 py-1.5 text-sm text-neutral-300 rounded-t-sm"><div class="flex min-w-0 grow items-center gap-2"><button><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z"></path></svg></button><div class="[&amp;_svg_path]:fill-current size-4 flex-shrink-0" style="fill: rgb(245, 83, 133); height: 20px; width: 20px;"><svg viewBox="0 0 32 32"><path d="M16.4 14c-2.4 0-4.7-.1-7-.6-.6-.1-1.1-.4-1.7-.6-.3-.1-.4-.3-.4-.6V8.7c0-.2.1-.4.3-.4.7-.3 1.3-.6 2-.7C12.1 7 14.5 7 17 7c2 0 4.1.2 6 .7.4.1.9.3 1.3.5.3.1.4.3.4.6v3.5c0 .2-.2.4-.3.5-.4.2-.8.4-1.2.5-1.4.2-2.8.5-4.2.6-.9.1-1.8 0-2.6.1zm8.3.2v3.6c0 .2-.3.5-.5.5-.6.2-1.3.5-1.9.6-2.8.5-5.7.6-8.6.5-1.6-.1-3.3-.2-4.9-.7-.4-.1-.8-.3-1.2-.5-.2-.1-.3-.3-.3-.5v-3.5c2.9 1 5.8 1.1 8.7 1.1 2.9.1 5.8-.1 8.7-1.1zm0 5.6v3.5c0 .2-.3.5-.5.6-.8.3-1.6.6-2.4.7-4 .6-8 .6-12.1-.1-.7-.1-1.4-.4-2-.6-.3-.1-.4-.3-.4-.7v-3.4c2.8 1 5.7 1.1 8.7 1.1 2.9 0 5.8-.1 8.7-1.1z"></path></svg></div><a href="https://github.com/1211454975/crowdmarket" target="_blank" rel="noreferrer" class="cursor-pointer truncate text-neutral-500 hover:underline">1211454975/crowdmarket</a><a href="https://github.com/1211454975/crowdmarket/blob/f24a6f5e/sql/multi_tenant.sql" target="_blank" rel="noreferrer" class="cursor-pointer truncate text-black dark:text-neutral-300 hover:underline">sql/multi_tenant.sql</a><button><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4 text-neutral-500"><path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z"></path></svg></button></div></div><div class="scrollbar-hide grid overflow-auto scroll-smooth"><button class="h-5 w-full cursor-pointer bg-[#f0f0f0] hover:bg-[#e0e0e0] dark:bg-neutral-800 dark:hover:bg-neutral-700/80"><div class="flex h-full items-center gap-1.5 pl-[1.3rem] text-xs font-light text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M205.66,138.34a8,8,0,0,1-11.32,11.32L136,91.31V224a8,8,0,0,1-16,0V91.31L61.66,149.66a8,8,0,0,1-11.32-11.32l72-72a8,8,0,0,1,11.32,0ZM216,32H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"></path></svg></div></button><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-neutral-800/80"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">329</span><span class="token" style="color: rgb(0, 128, 0); font-style: italic;">-- ----------------------------</span><span>
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">330</span><span></span><span class="token" style="color: rgb(0, 128, 0); font-style: italic;">-- Table structure for sys_company</span><span>
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">331</span><span></span><span class="token" style="color: rgb(0, 128, 0); font-style: italic;">-- ----------------------------</span></span></code></pre></div><div class="citation-0-0 citation-0-0"><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-[#6096FF]/10 clickable-snippet cursor-pointer"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">332</span><span class="token" style="color: rgb(0, 0, 255);">DROP</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">TABLE</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">IF</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">EXISTS</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_company</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">333</span><span></span><span class="token" style="color: rgb(0, 0, 255);">CREATE</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">TABLE</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_company</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span>  </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">334</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">id</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">varchar</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">20</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CHARACTER</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">SET</span><span> utf8 </span><span class="token" style="color: rgb(0, 0, 255);">COLLATE</span><span> utf8_general_ci </span><span class="token" style="color: rgb(57, 58, 52);">NOT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">335</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">company_name</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">varchar</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">100</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CHARACTER</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">SET</span><span> utf8 </span><span class="token" style="color: rgb(0, 0, 255);">COLLATE</span><span> utf8_general_ci </span><span class="token" style="color: rgb(57, 58, 52);">NOT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'公司名'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">336</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">address</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">varchar</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">200</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CHARACTER</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">SET</span><span> utf8 </span><span class="token" style="color: rgb(0, 0, 255);">COLLATE</span><span> utf8_general_ci </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'地址'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">337</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">phone</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">varchar</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">20</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CHARACTER</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">SET</span><span> utf8 </span><span class="token" style="color: rgb(0, 0, 255);">COLLATE</span><span> utf8_general_ci </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'电话'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">338</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">email</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">varchar</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">50</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CHARACTER</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">SET</span><span> utf8 </span><span class="token" style="color: rgb(0, 0, 255);">COLLATE</span><span> utf8_general_ci </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'邮箱'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">339</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">create_time</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">timestamp</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">0</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">NOT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CURRENT_TIMESTAMP</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">0</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">ON</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">UPDATE</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CURRENT_TIMESTAMP</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">0</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'添加时间'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">340</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">active_time</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">timestamp</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">0</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'有效截止时间'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">341</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">active_flag</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">tinyint</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'备注'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">342</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">temp_id</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">varchar</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">20</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CHARACTER</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">SET</span><span> utf8 </span><span class="token" style="color: rgb(0, 0, 255);">COLLATE</span><span> utf8_general_ci </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'备注'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">343</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">com_code</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">mediumint</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">NOT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'公司代码'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">344</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">region_codes</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">varchar</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">50</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CHARACTER</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">SET</span><span> utf8 </span><span class="token" style="color: rgb(0, 0, 255);">COLLATE</span><span> utf8_general_ci </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'行政区域编码'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">345</span><span>  </span><span class="token" style="color: rgb(0, 0, 255);">PRIMARY</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">KEY</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">id</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">USING</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">BTREE</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">346</span><span>  </span><span class="token" style="color: rgb(0, 0, 255);">UNIQUE</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INDEX</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_company_comCode_uindex</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">com_code</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">USING</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">BTREE</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">347</span><span>  </span><span class="token" style="color: rgb(0, 0, 255);">UNIQUE</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INDEX</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_company_com_code_uindex</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">com_code</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">USING</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">BTREE</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">348</span><span></span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">ENGINE</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">=</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">InnoDB</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CHARACTER</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">SET</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">=</span><span> utf8 </span><span class="token" style="color: rgb(0, 0, 255);">COLLATE</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">=</span><span> utf8_general_ci </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">=</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'公司信息表'</span><span> ROW_FORMAT </span><span class="token" style="color: rgb(57, 58, 52);">=</span><span> Dynamic</span><span class="token" style="color: rgb(57, 58, 52);">;</span></span></code></pre></div></div><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-neutral-800/80"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">349</span><span>
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">350</span><span></span><span class="token" style="color: rgb(0, 128, 0); font-style: italic;">-- ----------------------------</span><span>
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">351</span><span></span><span class="token" style="color: rgb(0, 128, 0); font-style: italic;">-- Records of sys_company</span></span></code></pre></div><button class="h-5 w-full cursor-pointer bg-[#f0f0f0] hover:bg-[#e0e0e0] dark:bg-neutral-800 dark:hover:bg-neutral-700/80"><div class="flex h-full items-center gap-1.5 pl-[1.3rem] text-xs font-light text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M50.34,117.66a8,8,0,0,1,11.32-11.32L120,164.69V32a8,8,0,0,1,16,0V164.69l58.34-58.35a8,8,0,0,1,11.32,11.32l-72,72a8,8,0,0,1-11.32,0ZM216,208H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"></path></svg></div></button><button class="h-5 w-full cursor-pointer bg-[#f0f0f0] hover:bg-[#e0e0e0] dark:bg-neutral-800 dark:hover:bg-neutral-700/80"><div class="flex h-full items-center gap-1.5 pl-[1.3rem] text-xs font-light text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M205.66,138.34a8,8,0,0,1-11.32,11.32L136,91.31V224a8,8,0,0,1-16,0V91.31L61.66,149.66a8,8,0,0,1-11.32-11.32l72-72a8,8,0,0,1,11.32,0ZM216,32H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"></path></svg></div></button><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-neutral-800/80"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">598</span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">3</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'系统工具'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">0</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">120</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'tool'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'M'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">''</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'tool'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2020-07-23 17:57:45'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'系统工具目录'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">599</span><span></span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">100</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'用户列表'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">2006</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'user'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'selfcom/user/index'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'C'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'selfcom:user:list'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'user'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2020-08-10 21:15:23'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'用户管理菜单'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">0</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">600</span><span></span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">101</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'角色管理'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">2006</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">2</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'role'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'selfcom/role/index'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'C'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'selfcom:role:list'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'peoples'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'ry'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'角色管理菜单'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">0</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span></span></code></pre></div><div class="citation-0-4"><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-[#6096FF]/10 clickable-snippet cursor-pointer"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">601</span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">102</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'菜单管理'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">3</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'menu'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'system/menu/index'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'C'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'system:menu:list'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'tree-table'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'ry'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'菜单管理菜单'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">602</span><span></span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">103</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'部门管理'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">2006</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">4</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'dept'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'selfcom/dept/index'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'C'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'1'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'selfcom:dept:list'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'tree'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2020-08-10 21:04:24'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'部门管理菜单'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">0</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">603</span><span></span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">104</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'岗位管理'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">2006</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">5</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'post'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'selfcom/post/index'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'C'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'1'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'selfcom:post:list'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'post'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2020-08-10 21:04:38'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'岗位管理菜单'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">0</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">604</span><span></span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">105</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'字典管理'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">6</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'dict'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'system/dict/index'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'C'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'system:dict:list'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'dict'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'ry'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'字典管理菜单'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">605</span><span></span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">106</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'参数设置'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">7</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'config'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'system/config/index'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'C'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'system:config:list'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'edit'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'ry'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'参数设置菜单'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">606</span><span></span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">107</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'通知公告'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">8</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'notice'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'system/notice/index'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'C'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'system:notice:list'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'message'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'ry'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'通知公告菜单'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">607</span><span></span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">108</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'日志管理'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">9</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'log'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'system/log/index'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'M'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">''</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'log'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'ry'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'日志管理菜单'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">608</span><span></span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">109</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'在线用户'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">2</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'online'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'monitor/online/index'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'C'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'monitor:online:list'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'online'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'ry'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'在线用户菜单'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">609</span><span></span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">110</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'定时任务'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">2</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">2</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'job'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'monitor/job/index'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'C'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'monitor:job:list'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'job'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'ry'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'定时任务菜单'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">610</span><span></span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">111</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'数据监控'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">2</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">3</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'druid'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'monitor/druid/index'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'C'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'monitor:druid:list'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'druid'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'ry'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'数据监控菜单'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">611</span><span></span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">112</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'服务监控'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">2</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">4</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'server'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'monitor/server/index'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'C'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'monitor:server:list'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'server'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'ry'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'服务监控菜单'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">612</span><span></span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">113</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'表单构建'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">3</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'build'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'tool/build/index'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'C'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'tool:build:list'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'build'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'ry'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'表单构建菜单'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">613</span><span></span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">114</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'代码生成'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">3</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">2</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'gen'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'tool/gen/index'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'C'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'tool:gen:list'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'code'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'ry'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'代码生成菜单'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">614</span><span></span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">115</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'系统接口'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">3</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">3</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'swagger'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'tool/swagger/index'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'C'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'tool:swagger:list'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'swagger'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'ry'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'系统接口菜单'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span></span></code></pre></div></div><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-neutral-800/80"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">615</span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">500</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'操作日志'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">108</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'operlog'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'monitor/operlog/index'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'C'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'monitor:operlog:list'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'form'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'ry'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'操作日志菜单'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">616</span><span></span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">501</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'登录日志'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">108</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">2</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'logininfor'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'monitor/logininfor/index'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'C'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'monitor:logininfor:list'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'logininfor'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'ry'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'登录日志菜单'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">617</span><span></span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">1001</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'用户查询'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">100</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">''</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">''</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'F'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'selfcom:user:query'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'#'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'ry'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">''</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">0</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span></span></code></pre></div><button class="h-5 w-full cursor-pointer bg-[#f0f0f0] hover:bg-[#e0e0e0] dark:bg-neutral-800 dark:hover:bg-neutral-700/80"><div class="flex h-full items-center gap-1.5 pl-[1.3rem] text-xs font-light text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M50.34,117.66a8,8,0,0,1,11.32-11.32L120,164.69V32a8,8,0,0,1,16,0V164.69l58.34-58.35a8,8,0,0,1,11.32,11.32l-72,72a8,8,0,0,1-11.32,0ZM216,208H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"></path></svg></div></button><button class="h-5 w-full cursor-pointer bg-[#f0f0f0] hover:bg-[#e0e0e0] dark:bg-neutral-800 dark:hover:bg-neutral-700/80"><div class="flex h-full items-center gap-1.5 pl-[1.3rem] text-xs font-light text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M205.66,138.34a8,8,0,0,1-11.32,11.32L136,91.31V224a8,8,0,0,1-16,0V91.31L61.66,149.66a8,8,0,0,1-11.32-11.32l72-72a8,8,0,0,1,11.32,0ZM216,32H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"></path></svg></div></button><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-neutral-800/80"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">850</span><span class="token" style="color: rgb(0, 128, 0); font-style: italic;">-- ----------------------------</span><span>
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">851</span><span></span><span class="token" style="color: rgb(0, 128, 0); font-style: italic;">-- Table structure for sys_user</span><span>
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">852</span><span></span><span class="token" style="color: rgb(0, 128, 0); font-style: italic;">-- ----------------------------</span></span></code></pre></div><div class="citation-0-3"><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-[#6096FF]/10 clickable-snippet cursor-pointer"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">853</span><span class="token" style="color: rgb(0, 0, 255);">DROP</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">TABLE</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">IF</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">EXISTS</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_user</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">854</span><span></span><span class="token" style="color: rgb(0, 0, 255);">CREATE</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">TABLE</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_user</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span>  </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">855</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">user_id</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">bigint</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">NOT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">AUTO_INCREMENT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'用户ID'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">856</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">dept_id</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">bigint</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'部门ID'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">857</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">user_name</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">varchar</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">30</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CHARACTER</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">SET</span><span> utf8 </span><span class="token" style="color: rgb(0, 0, 255);">COLLATE</span><span> utf8_general_ci </span><span class="token" style="color: rgb(57, 58, 52);">NOT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'用户账号'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">858</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">nick_name</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">varchar</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">30</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CHARACTER</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">SET</span><span> utf8 </span><span class="token" style="color: rgb(0, 0, 255);">COLLATE</span><span> utf8_general_ci </span><span class="token" style="color: rgb(57, 58, 52);">NOT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'用户昵称'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">859</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">user_type</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">varchar</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">2</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CHARACTER</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">SET</span><span> utf8 </span><span class="token" style="color: rgb(0, 0, 255);">COLLATE</span><span> utf8_general_ci </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'00'</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'用户类型（00系统用户）'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">860</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">email</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">varchar</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">50</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CHARACTER</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">SET</span><span> utf8 </span><span class="token" style="color: rgb(0, 0, 255);">COLLATE</span><span> utf8_general_ci </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">''</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'用户邮箱'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">861</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">phonenumber</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">varchar</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">11</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CHARACTER</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">SET</span><span> utf8 </span><span class="token" style="color: rgb(0, 0, 255);">COLLATE</span><span> utf8_general_ci </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">''</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'手机号码'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">862</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sex</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">char</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CHARACTER</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">SET</span><span> utf8 </span><span class="token" style="color: rgb(0, 0, 255);">COLLATE</span><span> utf8_general_ci </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'用户性别（0男 1女 2未知）'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">863</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">avatar</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">varchar</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">100</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CHARACTER</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">SET</span><span> utf8 </span><span class="token" style="color: rgb(0, 0, 255);">COLLATE</span><span> utf8_general_ci </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">''</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'头像地址'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">864</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">password</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">varchar</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">100</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CHARACTER</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">SET</span><span> utf8 </span><span class="token" style="color: rgb(0, 0, 255);">COLLATE</span><span> utf8_general_ci </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">''</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'密码'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">865</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">status</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">char</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CHARACTER</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">SET</span><span> utf8 </span><span class="token" style="color: rgb(0, 0, 255);">COLLATE</span><span> utf8_general_ci </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'帐号状态（0正常 1停用）'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">866</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">del_flag</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">char</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CHARACTER</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">SET</span><span> utf8 </span><span class="token" style="color: rgb(0, 0, 255);">COLLATE</span><span> utf8_general_ci </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'删除标志（0代表存在 2代表删除）'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">867</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">login_ip</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">varchar</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">50</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CHARACTER</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">SET</span><span> utf8 </span><span class="token" style="color: rgb(0, 0, 255);">COLLATE</span><span> utf8_general_ci </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">''</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'最后登陆IP'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">868</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">login_date</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">datetime</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">0</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'最后登陆时间'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">869</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">create_by</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">varchar</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">64</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CHARACTER</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">SET</span><span> utf8 </span><span class="token" style="color: rgb(0, 0, 255);">COLLATE</span><span> utf8_general_ci </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">''</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'创建者'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">870</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">create_time</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">datetime</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">0</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'创建时间'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">871</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">update_by</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">varchar</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">64</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CHARACTER</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">SET</span><span> utf8 </span><span class="token" style="color: rgb(0, 0, 255);">COLLATE</span><span> utf8_general_ci </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">''</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'更新者'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">872</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">update_time</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">datetime</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">0</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'更新时间'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">873</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">remark</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">varchar</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">500</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CHARACTER</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">SET</span><span> utf8 </span><span class="token" style="color: rgb(0, 0, 255);">COLLATE</span><span> utf8_general_ci </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'备注'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">874</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">com_id</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">varchar</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">20</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CHARACTER</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">SET</span><span> utf8 </span><span class="token" style="color: rgb(0, 0, 255);">COLLATE</span><span> utf8_general_ci </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'公司ID'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">875</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">admin_flag</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">tinyint</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">NOT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">0</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'是否公司管理员，0否1是，默认否'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">876</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">super_admin_flag</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">tinyint</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">0</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'是否系统超级管理员。0否1是'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">877</span><span>  </span><span class="token" style="color: rgb(0, 0, 255);">PRIMARY</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">KEY</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">user_id</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">USING</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">BTREE</span></span></code></pre></div></div><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-neutral-800/80"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">878</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">ENGINE</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">=</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">InnoDB</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">AUTO_INCREMENT</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">=</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">126</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CHARACTER</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">SET</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">=</span><span> utf8 </span><span class="token" style="color: rgb(0, 0, 255);">COLLATE</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">=</span><span> utf8_general_ci </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">=</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'用户信息表'</span><span> ROW_FORMAT </span><span class="token" style="color: rgb(57, 58, 52);">=</span><span> Dynamic</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">879</span>
</span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">880</span><span></span><span class="token" style="color: rgb(0, 128, 0); font-style: italic;">-- ----------------------------</span></span></code></pre></div><button class="h-5 w-full cursor-pointer bg-[#f0f0f0] hover:bg-[#e0e0e0] dark:bg-neutral-800 dark:hover:bg-neutral-700/80"><div class="flex h-full items-center gap-1.5 pl-[1.3rem] text-xs font-light text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M50.34,117.66a8,8,0,0,1,11.32-11.32L120,164.69V32a8,8,0,0,1,16,0V164.69l58.34-58.35a8,8,0,0,1,11.32,11.32l-72,72a8,8,0,0,1-11.32,0ZM216,208H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"></path></svg></div></button></div></div></div><div id="file-Repo 1211454975/crowdmarket: crowdmarket-server/ruoyi-tool/src/main/java/com/ruoyi/tool/gen/service/GenTableServiceImpl.java" class="flex flex-col gap-2 scroll-smooth rounded-md" style="content-visibility: auto;"><div class="scrollbar-hide relative w-full p-0 ring-1 ring-neutral-800 rounded-sm"><div class="bg-secondary dark:bg-surface sticky top-0 z-10 flex w-full items-center justify-between px-3 py-1.5 text-sm text-neutral-300 rounded-t-sm"><div class="flex min-w-0 grow items-center gap-2"><button><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z"></path></svg></button><div class="[&amp;_svg_path]:fill-current size-4 flex-shrink-0" style="fill: rgb(204, 62, 68); height: 20px; width: 20px;"><svg viewBox="-4 -4 20 20"><path d="M6 0a6 6 0 106 6 6 6 0 00-6-6zm2.14 6.8a2.16 2.16 0 01-2.29 2.41 2.5 2.5 0 01-2-.87l.73-.92a1.52 1.52 0 001.23.59c.66 0 1.06-.42 1.06-1.32V2.8h1.26z" class="cls-1"></path></svg></div><a href="https://github.com/1211454975/crowdmarket" target="_blank" rel="noreferrer" class="cursor-pointer truncate text-neutral-500 hover:underline">1211454975/crowdmarket</a><a href="https://github.com/1211454975/crowdmarket/blob/f24a6f5e/crowdmarket-server/ruoyi-tool/src/main/java/com/ruoyi/tool/gen/service/GenTableServiceImpl.java" target="_blank" rel="noreferrer" class="cursor-pointer truncate text-black dark:text-neutral-300 hover:underline">crowdmarket-server/ruoyi-tool/src/main/java/com/ruoyi/tool/gen/service/GenTableServiceImpl.java</a><button><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4 text-neutral-500"><path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z"></path></svg></button></div></div><div class="scrollbar-hide grid overflow-auto scroll-smooth"><button class="h-5 w-full cursor-pointer bg-[#f0f0f0] hover:bg-[#e0e0e0] dark:bg-neutral-800 dark:hover:bg-neutral-700/80"><div class="flex h-full items-center gap-1.5 pl-[1.3rem] text-xs font-light text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M205.66,138.34a8,8,0,0,1-11.32,11.32L136,91.31V224a8,8,0,0,1-16,0V91.31L61.66,149.66a8,8,0,0,1-11.32-11.32l72-72a8,8,0,0,1,11.32,0ZM216,32H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"></path></svg></div></button><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-neutral-800/80"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">39</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">*</span><span> 
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">40</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">*</span><span> </span><span class="token annotation" style="color: rgb(57, 58, 52);">@author</span><span> ruoyi
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">41</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">*</span><span class="token" style="color: rgb(57, 58, 52);">/</span></span></code></pre></div><div class="citation-0-1"><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-[#6096FF]/10 clickable-snippet cursor-pointer"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">42</span><span class="token annotation" style="color: rgb(57, 58, 52);">@Service</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">43</span><span></span><span class="token" style="color: rgb(0, 0, 255);">public</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">class</span><span> </span><span class="token" style="color: rgb(43, 145, 175);">GenTableServiceImpl</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">implements</span><span> </span><span class="token" style="color: rgb(43, 145, 175);">IGenTableService</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">44</span><span></span><span class="token" style="color: rgb(57, 58, 52);">{</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">45</span><span>    </span><span class="token" style="color: rgb(0, 0, 255);">private</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">static</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">final</span><span> </span><span class="token" style="color: rgb(43, 145, 175);">Logger</span><span> log </span><span class="token" style="color: rgb(57, 58, 52);">=</span><span> </span><span class="token" style="color: rgb(43, 145, 175);">LoggerFactory</span><span class="token" style="color: rgb(57, 58, 52);">.</span><span class="token" style="color: rgb(57, 58, 52);">getLogger</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(43, 145, 175);">GenTableServiceImpl</span><span class="token" style="color: rgb(57, 58, 52);">.</span><span class="token" style="color: rgb(0, 0, 255);">class</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">46</span>
</span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">47</span><span>    </span><span class="token annotation" style="color: rgb(57, 58, 52);">@Autowired</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">48</span><span>    </span><span class="token" style="color: rgb(0, 0, 255);">private</span><span> </span><span class="token" style="color: rgb(43, 145, 175);">GenTableMapper</span><span> genTableMapper</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">49</span>
</span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">50</span><span>    </span><span class="token annotation" style="color: rgb(57, 58, 52);">@Autowired</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">51</span><span>    </span><span class="token" style="color: rgb(0, 0, 255);">private</span><span> </span><span class="token" style="color: rgb(43, 145, 175);">GenTableColumnMapper</span><span> genTableColumnMapper</span><span class="token" style="color: rgb(57, 58, 52);">;</span></span></code></pre></div></div><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-neutral-800/80"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">52</span><span>
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">53</span><span>    </span><span class="token doc-comment" style="color: rgb(0, 128, 0); font-style: italic;">/**
</span></span><span class="token doc-comment" style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px; color: rgb(0, 128, 0); font-style: italic;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">54</span>     * 查询业务信息</span></code></pre></div><button class="h-5 w-full cursor-pointer bg-[#f0f0f0] hover:bg-[#e0e0e0] dark:bg-neutral-800 dark:hover:bg-neutral-700/80"><div class="flex h-full items-center gap-1.5 pl-[1.3rem] text-xs font-light text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M50.34,117.66a8,8,0,0,1,11.32-11.32L120,164.69V32a8,8,0,0,1,16,0V164.69l58.34-58.35a8,8,0,0,1,11.32,11.32l-72,72a8,8,0,0,1-11.32,0ZM216,208H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"></path></svg></div></button></div></div></div><div id="file-Repo 1211454975/crowdmarket: crowdmarket-server/ruoyi-tool/src/main/java/com/ruoyi/tool/gen/util/VelocityUtils.java" class="flex flex-col gap-2 scroll-smooth rounded-md" style="content-visibility: auto;"><div class="scrollbar-hide relative w-full p-0 ring-1 ring-neutral-800 rounded-sm"><div class="bg-secondary dark:bg-surface sticky top-0 z-10 flex w-full items-center justify-between px-3 py-1.5 text-sm text-neutral-300 rounded-t-sm"><div class="flex min-w-0 grow items-center gap-2"><button><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z"></path></svg></button><div class="[&amp;_svg_path]:fill-current size-4 flex-shrink-0" style="fill: rgb(204, 62, 68); height: 20px; width: 20px;"><svg viewBox="-4 -4 20 20"><path d="M6 0a6 6 0 106 6 6 6 0 00-6-6zm2.14 6.8a2.16 2.16 0 01-2.29 2.41 2.5 2.5 0 01-2-.87l.73-.92a1.52 1.52 0 001.23.59c.66 0 1.06-.42 1.06-1.32V2.8h1.26z" class="cls-1"></path></svg></div><a href="https://github.com/1211454975/crowdmarket" target="_blank" rel="noreferrer" class="cursor-pointer truncate text-neutral-500 hover:underline">1211454975/crowdmarket</a><a href="https://github.com/1211454975/crowdmarket/blob/f24a6f5e/crowdmarket-server/ruoyi-tool/src/main/java/com/ruoyi/tool/gen/util/VelocityUtils.java" target="_blank" rel="noreferrer" class="cursor-pointer truncate text-black dark:text-neutral-300 hover:underline">crowdmarket-server/ruoyi-tool/src/main/java/com/ruoyi/tool/gen/util/VelocityUtils.java</a><button><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4 text-neutral-500"><path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z"></path></svg></button></div></div><div class="scrollbar-hide grid overflow-auto scroll-smooth"><button class="h-5 w-full cursor-pointer bg-[#f0f0f0] hover:bg-[#e0e0e0] dark:bg-neutral-800 dark:hover:bg-neutral-700/80"><div class="flex h-full items-center gap-1.5 pl-[1.3rem] text-xs font-light text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M205.66,138.34a8,8,0,0,1-11.32,11.32L136,91.31V224a8,8,0,0,1-16,0V91.31L61.66,149.66a8,8,0,0,1-11.32-11.32l72-72a8,8,0,0,1,11.32,0ZM216,32H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"></path></svg></div></button><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-neutral-800/80"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">85</span><span>     </span><span class="token" style="color: rgb(57, 58, 52);">*</span><span> 
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">86</span><span>     </span><span class="token" style="color: rgb(57, 58, 52);">*</span><span> </span><span class="token annotation" style="color: rgb(57, 58, 52);">@return</span><span> 模板列表
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">87</span><span>     </span><span class="token" style="color: rgb(57, 58, 52);">*</span><span class="token" style="color: rgb(57, 58, 52);">/</span></span></code></pre></div><div class="citation-0-2"><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-[#6096FF]/10 clickable-snippet cursor-pointer"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">88</span><span>    </span><span class="token" style="color: rgb(0, 0, 255);">public</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">static</span><span> </span><span class="token" style="color: rgb(43, 145, 175);">List</span><span class="token generics" style="color: rgb(57, 58, 52);">&lt;</span><span class="token generics" style="color: rgb(43, 145, 175);">String</span><span class="token generics" style="color: rgb(57, 58, 52);">&gt;</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">getTemplateList</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(43, 145, 175);">String</span><span> tplCategory</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">89</span><span>    </span><span class="token" style="color: rgb(57, 58, 52);">{</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">90</span><span>        </span><span class="token" style="color: rgb(43, 145, 175);">List</span><span class="token generics" style="color: rgb(57, 58, 52);">&lt;</span><span class="token generics" style="color: rgb(43, 145, 175);">String</span><span class="token generics" style="color: rgb(57, 58, 52);">&gt;</span><span> templates </span><span class="token" style="color: rgb(57, 58, 52);">=</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">new</span><span> </span><span class="token" style="color: rgb(43, 145, 175);">ArrayList</span><span class="token generics" style="color: rgb(57, 58, 52);">&lt;</span><span class="token generics" style="color: rgb(43, 145, 175);">String</span><span class="token generics" style="color: rgb(57, 58, 52);">&gt;</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">91</span><span>        templates</span><span class="token" style="color: rgb(57, 58, 52);">.</span><span class="token" style="color: rgb(57, 58, 52);">add</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(163, 21, 21);">"vm/java/domain.java.vm"</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">92</span><span>        templates</span><span class="token" style="color: rgb(57, 58, 52);">.</span><span class="token" style="color: rgb(57, 58, 52);">add</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(163, 21, 21);">"vm/java/mapper.java.vm"</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">93</span><span>        templates</span><span class="token" style="color: rgb(57, 58, 52);">.</span><span class="token" style="color: rgb(57, 58, 52);">add</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(163, 21, 21);">"vm/java/service.java.vm"</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">94</span><span>        templates</span><span class="token" style="color: rgb(57, 58, 52);">.</span><span class="token" style="color: rgb(57, 58, 52);">add</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(163, 21, 21);">"vm/java/serviceImpl.java.vm"</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">95</span><span>        templates</span><span class="token" style="color: rgb(57, 58, 52);">.</span><span class="token" style="color: rgb(57, 58, 52);">add</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(163, 21, 21);">"vm/java/controller.java.vm"</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">96</span><span>        templates</span><span class="token" style="color: rgb(57, 58, 52);">.</span><span class="token" style="color: rgb(57, 58, 52);">add</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(163, 21, 21);">"vm/xml/mapper.xml.vm"</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">97</span><span>        templates</span><span class="token" style="color: rgb(57, 58, 52);">.</span><span class="token" style="color: rgb(57, 58, 52);">add</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(163, 21, 21);">"vm/sql/sql.vm"</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">98</span><span>        templates</span><span class="token" style="color: rgb(57, 58, 52);">.</span><span class="token" style="color: rgb(57, 58, 52);">add</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(163, 21, 21);">"vm/js/api.js.vm"</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">99</span><span>        </span><span class="token" style="color: rgb(0, 0, 255);">if</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(43, 145, 175);">GenConstants</span><span class="token" style="color: rgb(57, 58, 52);">.</span><span>TPL_CRUD</span><span class="token" style="color: rgb(57, 58, 52);">.</span><span class="token" style="color: rgb(57, 58, 52);">equals</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span>tplCategory</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">100</span><span>        </span><span class="token" style="color: rgb(57, 58, 52);">{</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">101</span><span>            templates</span><span class="token" style="color: rgb(57, 58, 52);">.</span><span class="token" style="color: rgb(57, 58, 52);">add</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(163, 21, 21);">"vm/vue/index.vue.vm"</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">102</span><span>        </span><span class="token" style="color: rgb(57, 58, 52);">}</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">103</span><span>        </span><span class="token" style="color: rgb(0, 0, 255);">else</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">if</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(43, 145, 175);">GenConstants</span><span class="token" style="color: rgb(57, 58, 52);">.</span><span>TPL_TREE</span><span class="token" style="color: rgb(57, 58, 52);">.</span><span class="token" style="color: rgb(57, 58, 52);">equals</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span>tplCategory</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">104</span><span>        </span><span class="token" style="color: rgb(57, 58, 52);">{</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">105</span><span>            templates</span><span class="token" style="color: rgb(57, 58, 52);">.</span><span class="token" style="color: rgb(57, 58, 52);">add</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(163, 21, 21);">"vm/vue/index-tree.vue.vm"</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">106</span><span>        </span><span class="token" style="color: rgb(57, 58, 52);">}</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">107</span><span>        </span><span class="token" style="color: rgb(0, 0, 255);">return</span><span> templates</span><span class="token" style="color: rgb(57, 58, 52);">;</span></span></code></pre></div></div><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-neutral-800/80"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">108</span><span>    </span><span class="token" style="color: rgb(57, 58, 52);">}</span><span>
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">109</span>
</span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">110</span><span>    </span><span class="token" style="color: rgb(0, 128, 0); font-style: italic;">/**</span></span></code></pre></div><button class="h-5 w-full cursor-pointer bg-[#f0f0f0] hover:bg-[#e0e0e0] dark:bg-neutral-800 dark:hover:bg-neutral-700/80"><div class="flex h-full items-center gap-1.5 pl-[1.3rem] text-xs font-light text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M50.34,117.66a8,8,0,0,1,11.32-11.32L120,164.69V32a8,8,0,0,1,16,0V164.69l58.34-58.35a8,8,0,0,1,11.32,11.32l-72,72a8,8,0,0,1-11.32,0ZM216,208H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"></path></svg></div></button></div></div></div></div></div></div></div><div class="mb-8 mt-16 h-px w-full bg-neutral-300 dark:bg-neutral-700"></div><div id="2" class="flex flex-col gap-3 pt-8 lg:flex-row" data-query-display="true" data-query-index="1"><div class="flex max-h-fit min-w-0 flex-1 flex-shrink-0 flex-col xl:[flex-grow:2]"><div class=""><div class="flex flex-col"><a class="flex items-center gap-2 text-base text-neutral-400 transition-colors hover:text-black dark:hover:text-white" href="https://deepwiki.com/1211454975/crowdmarket"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"></path></svg>return to 1211454975/crowdmarket</a><div class="flex flex-col items-start gap-2 text-white"><div class="group relative flex items-center"><span class="text-xl xl:text-2xl">表单设计器部分，请调整一下，直接使用表格管理模式，支持各种元数据的管理<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to query"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></span></div></div></div><div class="py-3"><div class="text-primary/70 flex flex-col items-start justify-between text-sm"><div class="mb-1"><div class="inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" viewBox="0 0 256 256" class="mr-1"><path d="M213.85,125.46l-112,120a8,8,0,0,1-13.69-7l14.66-73.33L45.19,143.49a8,8,0,0,1-3-13l112-120a8,8,0,0,1,13.69,7L153.18,90.9l57.63,21.61a8,8,0,0,1,3,12.95Z"></path></svg>Fast</div></div><div class="flex w-full items-center justify-between gap-2"><div class="">Searched across 1211454975/crowdmarket</div></div></div></div><div class="h-fit rounded-lg" style="scrollbar-width: thin; scrollbar-color: rgb(58, 58, 58) transparent;"><div class="dark:[&amp;_pre:has(code)]:bg-shade dark:[&amp;_code[data-lang]]:bg-shade relative flex flex-col gap-1 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-4 text-white [overflow-wrap:anywhere] dark:border-[#2F2F2F] dark:bg-[#141414] [&amp;_pre]:my-3"><div class="prose-custom prose-custom-md prose-custom-gray !max-w-none text-neutral-300 [overflow-wrap:anywhere]"><h1 class="group flex items-center">Answer  </h1>
<h2 class="group flex items-center">表格管理模式的表单设计器设计方案  </h2>
<p>根据您的要求，我将调整表单设计器部分，采用表格管理模式来支持各种元数据的管理。这种方式更适合于数据驱动的表单设计，可以更好地管理表单的元数据。</p>
<h3 class="group flex items-center">1. 表格管理模式概述  </h3>
<p>表格管理模式将表单设计转变为对元数据的管理，通过定义和配置元数据来生成表单，而不是通过拖拽组件的方式。这种方式更加结构化，适合于企业级应用中的表单管理。</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><div class="group relative cursor-pointer overflow-x-auto rounded-md bg-[#f2f1f0] p-4 transition-colors hover:bg-[#ededed] dark:bg-[#1f1f1f] dark:hover:bg-[#242424]" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«r3o»" data-state="closed"><div class="flex justify-center"><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1065.5 561" style="max-width: 1065.5px;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-sz4mm5i185"><style>#mermaid-sz4mm5i185{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-sz4mm5i185 .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-sz4mm5i185 .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-sz4mm5i185 .error-icon{fill:#dddddd;}#mermaid-sz4mm5i185 .error-text{fill:#222222;stroke:#222222;}#mermaid-sz4mm5i185 .edge-thickness-normal{stroke-width:1px;}#mermaid-sz4mm5i185 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-sz4mm5i185 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-sz4mm5i185 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-sz4mm5i185 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-sz4mm5i185 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-sz4mm5i185 .marker{fill:#999;stroke:#999;}#mermaid-sz4mm5i185 .marker.cross{stroke:#999;}#mermaid-sz4mm5i185 svg{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px;}#mermaid-sz4mm5i185 p{margin:0;}#mermaid-sz4mm5i185 .label{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;color:#333;}#mermaid-sz4mm5i185 .cluster-label text{fill:#444;}#mermaid-sz4mm5i185 .cluster-label span{color:#444;}#mermaid-sz4mm5i185 .cluster-label span p{background-color:transparent;}#mermaid-sz4mm5i185 .label text,#mermaid-sz4mm5i185 span{fill:#333;color:#333;}#mermaid-sz4mm5i185 .node rect,#mermaid-sz4mm5i185 .node circle,#mermaid-sz4mm5i185 .node ellipse,#mermaid-sz4mm5i185 .node polygon,#mermaid-sz4mm5i185 .node path{fill:#ffffff;stroke:#dddddd;stroke-width:1px;}#mermaid-sz4mm5i185 .rough-node .label text,#mermaid-sz4mm5i185 .node .label text,#mermaid-sz4mm5i185 .image-shape .label,#mermaid-sz4mm5i185 .icon-shape .label{text-anchor:middle;}#mermaid-sz4mm5i185 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-sz4mm5i185 .rough-node .label,#mermaid-sz4mm5i185 .node .label,#mermaid-sz4mm5i185 .image-shape .label,#mermaid-sz4mm5i185 .icon-shape .label{text-align:center;}#mermaid-sz4mm5i185 .node.clickable{cursor:pointer;}#mermaid-sz4mm5i185 .root .anchor path{fill:#999!important;stroke-width:0;stroke:#999;}#mermaid-sz4mm5i185 .arrowheadPath{fill:#0b0b0b;}#mermaid-sz4mm5i185 .edgePath .path{stroke:#999;stroke-width:2.0px;}#mermaid-sz4mm5i185 .flowchart-link{stroke:#999;fill:none;}#mermaid-sz4mm5i185 .edgeLabel{background-color:#ffffff;text-align:center;}#mermaid-sz4mm5i185 .edgeLabel p{background-color:#ffffff;}#mermaid-sz4mm5i185 .edgeLabel rect{opacity:0.5;background-color:#ffffff;fill:#ffffff;}#mermaid-sz4mm5i185 .labelBkg{background-color:rgba(255, 255, 255, 0.5);}#mermaid-sz4mm5i185 .cluster rect{fill:#f8f8f8;stroke:#dddddd;stroke-width:1px;}#mermaid-sz4mm5i185 .cluster text{fill:#444;}#mermaid-sz4mm5i185 .cluster span{color:#444;}#mermaid-sz4mm5i185 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:12px;background:#dddddd;border:1px solid hsl(0, 0%, 76.6666666667%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-sz4mm5i185 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-sz4mm5i185 rect.text{fill:none;stroke-width:0;}#mermaid-sz4mm5i185 .icon-shape,#mermaid-sz4mm5i185 .image-shape{background-color:#ffffff;text-align:center;}#mermaid-sz4mm5i185 .icon-shape p,#mermaid-sz4mm5i185 .image-shape p{background-color:#ffffff;padding:2px;}#mermaid-sz4mm5i185 .icon-shape rect,#mermaid-sz4mm5i185 .image-shape rect{opacity:0.5;background-color:#ffffff;fill:#ffffff;}#mermaid-sz4mm5i185 :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-sz4mm5i185_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-sz4mm5i185_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-sz4mm5i185_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-sz4mm5i185_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-sz4mm5i185_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-sz4mm5i185_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"><g data-look="classic" id="subGraph2" class="cluster"><rect height="104" width="226" y="8" x="427.5" style=""></rect><g transform="translate(492.5, 8)" class="cluster-label"><foreignobject height="24" width="96"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>代码生成集成</p></span></div></foreignobject></g></g><g data-look="classic" id="subGraph1" class="cluster"><rect height="104" width="384" y="8" x="673.5" style=""></rect><g transform="translate(833.5, 8)" class="cluster-label"><foreignobject height="24" width="64"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>数据存储</p></span></div></foreignobject></g></g><g data-look="classic" id="subGraph0" class="cluster"><rect height="545" width="399.5" y="8" x="8" style=""></rect><g transform="translate(159.75, 8)" class="cluster-label"><foreignobject height="24" width="96"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>表格管理模式</p></span></div></foreignobject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid-sz4mm5i185_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M244,216L244,220.167C244,224.333,244,232.667,240.267,240.531C236.534,248.395,229.068,255.79,225.335,259.488L221.602,263.185"></path><path marker-end="url(#mermaid-sz4mm5i185_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_C_0" d="M191.5,320L191.5,324.167C191.5,328.333,191.5,336.667,191.5,344.333C191.5,352,191.5,359,191.5,362.5L191.5,366"></path><path marker-end="url(#mermaid-sz4mm5i185_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_D_0" d="M191.5,424L191.5,428.167C191.5,432.333,191.5,440.667,195.233,448.531C198.966,456.395,206.432,463.79,210.165,467.488L213.898,471.185"></path><path marker-end="url(#mermaid-sz4mm5i185_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_A_0" d="M102.779,87L98.732,91.167C94.686,95.333,86.593,103.667,82.546,112C78.5,120.333,78.5,128.667,93.781,137.635C109.061,146.602,139.623,156.205,154.903,161.006L170.184,165.807"></path><path marker-end="url(#mermaid-sz4mm5i185_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_B_0" d="M134.192,87L134.994,91.167C135.795,95.333,137.397,103.667,138.199,112C139,120.333,139,128.667,139,141.5C139,154.333,139,171.667,139,189C139,206.333,139,223.667,142.733,236.031C146.466,248.395,153.932,255.79,157.665,259.488L161.398,263.185"></path><path marker-end="url(#mermaid-sz4mm5i185_flowchart-v2-pointEnd)" marker-start="url(#mermaid-sz4mm5i185_flowchart-v2-pointStart)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_A_0" d="M770.5,91L770.5,94.5C770.5,98,770.5,105,691.5,112.667C612.5,120.333,454.5,128.667,371.767,136.531C289.034,144.395,281.568,151.79,277.835,155.488L274.102,159.185"></path><path marker-end="url(#mermaid-sz4mm5i185_flowchart-v2-pointEnd)" marker-start="url(#mermaid-sz4mm5i185_flowchart-v2-pointStart)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G_D_0" d="M952.5,91L952.5,94.5C952.5,98,952.5,105,851.917,112.667C751.333,120.333,550.167,128.667,449.583,141.5C349,154.333,349,171.667,349,189C349,206.333,349,223.667,349,241C349,258.333,349,275.667,349,293C349,310.333,349,327.667,349,345C349,362.333,349,379.667,349,397C349,414.333,349,431.667,341.184,444.204C333.368,456.742,317.736,464.483,309.92,468.354L302.104,472.225"></path><path marker-end="url(#mermaid-sz4mm5i185_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_H_A_0" d="M540.5,87L540.5,91.167C540.5,95.333,540.5,103.667,491.083,112C441.667,120.333,342.833,128.667,293.417,136.333C244,144,244,151,244,154.5L244,158"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g></g><g class="nodes"><g transform="translate(244, 189)" id="flowchart-A-0" class="node default"><rect height="54" width="140" y="-27" x="-70" style="" class="basic label-container"></rect><g transform="translate(-40, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="80"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>元数据定义</p></span></div></foreignobject></g></g><g transform="translate(191.5, 293)" id="flowchart-B-1" class="node default"><rect height="54" width="140" y="-27" x="-70" style="" class="basic label-container"></rect><g transform="translate(-40, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="80"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>元数据配置</p></span></div></foreignobject></g></g><g transform="translate(191.5, 397)" id="flowchart-C-3" class="node default"><rect height="54" width="124" y="-27" x="-62" style="" class="basic label-container"></rect><g transform="translate(-32, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="64"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>表单生成</p></span></div></foreignobject></g></g><g transform="translate(244, 501)" id="flowchart-D-5" class="node default"><rect height="54" width="124" y="-27" x="-62" style="" class="basic label-container"></rect><g transform="translate(-32, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="64"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>表单渲染</p></span></div></foreignobject></g></g><g transform="translate(129, 60)" id="flowchart-E-6" class="node default"><rect height="54" width="172" y="-27" x="-86" style="" class="basic label-container"></rect><g transform="translate(-56, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="112"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>元数据管理界面</p></span></div></foreignobject></g></g><g transform="translate(770.5, 60)" id="flowchart-F-10" class="node default"><rect height="54" width="124" y="-27" x="-62" style="" class="basic label-container"></rect><g transform="translate(-32, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="64"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>元数据表</p></span></div></foreignobject></g></g><g transform="translate(952.5, 60)" id="flowchart-G-12" class="node default"><rect height="54" width="140" y="-27" x="-70" style="" class="basic label-container"></rect><g transform="translate(-40, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="80"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>表单数据表</p></span></div></foreignobject></g></g><g transform="translate(540.5, 60)" id="flowchart-H-14" class="node default"><rect height="54" width="156" y="-27" x="-78" style="" class="basic label-container"></rect><g transform="translate(-48, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="96"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>代码生成服务</p></span></div></foreignobject></g></g></g></g></g></svg></div><div class="bg-input-dark absolute right-2 top-2 rounded-sm p-1 opacity-0 transition-opacity group-hover:opacity-100"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="light:text-gray-800 text-white dark:text-white"><path d="M216,48V96a8,8,0,0,1-16,0V67.31l-42.34,42.35a8,8,0,0,1-11.32-11.32L188.69,56H160a8,8,0,0,1,0-16h48A8,8,0,0,1,216,48ZM98.34,146.34,56,188.69V160a8,8,0,0,0-16,0v48a8,8,0,0,0,8,8H96a8,8,0,0,0,0-16H67.31l42.35-42.34a8,8,0,0,0-11.32-11.32ZM208,152a8,8,0,0,0-8,8v28.69l-42.34-42.35a8,8,0,0,0-11.32,11.32L188.69,200H160a8,8,0,0,0,0,16h48a8,8,0,0,0,8-8V160A8,8,0,0,0,208,152ZM67.31,56H96a8,8,0,0,0,0-16H48a8,8,0,0,0-8,8V96a8,8,0,0,0,16,0V67.31l42.34,42.35a8,8,0,0,0,11.32-11.32Z"></path></svg></div></div></pre>
<h3 class="group flex items-center">2. 元数据管理数据库设计  </h3>
<p>为了支持表格管理模式，我们需要调整数据库设计，重点关注元数据的管理：</p>
<h4 class="group flex items-center">2.1 表单元数据表 (form_metadata)</h4>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `form_metadata` (  
</span><span>  `metadata_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'元数据ID'</span><span>,  
</span><span>  `metadata_name` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'元数据名称'</span><span>,  
</span><span>  `metadata_desc` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">500</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'元数据描述'</span><span>,  
</span><span>  `table_name` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'关联表名'</span><span>,  
</span><span>  `status` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'状态(0草稿,1发布,2停用)'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  `create_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建者'</span><span>,  
</span><span>  `create_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建时间'</span><span>,  
</span><span>  `update_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新者'</span><span>,  
</span><span>  `update_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新时间'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`metadata_id`),  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">UNIQUE</span><span> KEY `uk_metadata_name_tenant` (`metadata_name`,`tenant_id`)  
</span><span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'表单元数据表'</span><span>;</span></code></pre></pre>
<h4 class="group flex items-center">2.2 表单字段元数据表 (form_field_metadata)</h4>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `form_field_metadata` (  
</span><span>  `field_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'字段ID'</span><span>,  
</span><span>  `metadata_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'元数据ID'</span><span>,  
</span><span>  `field_name` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">50</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'字段名称'</span><span>,  
</span><span>  `field_label` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'字段标签'</span><span>,  
</span><span>  `field_type` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'字段类型'</span><span>,  
</span><span>  `column_name` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">50</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'数据库列名'</span><span>,  
</span><span>  `column_type` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">50</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'数据库列类型'</span><span>,  
</span><span>  `is_required` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'是否必填(0否1是)'</span><span>,  
</span><span>  `is_pk` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'是否主键(0否1是)'</span><span>,  
</span><span>  `is_list` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'1'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'是否列表显示(0否1是)'</span><span>,  
</span><span>  `is_query` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'是否查询条件(0否1是)'</span><span>,  
</span><span>  `query_type` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'EQ'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'查询方式(EQ等于,NE不等于,GT大于,LT小于,LIKE模糊,BETWEEN范围)'</span><span>,  
</span><span>  `html_type` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">50</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'input'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'显示类型(input文本框,textarea文本域,select下拉框,checkbox复选框,radio单选框,datetime日期控件)'</span><span>,  
</span><span>  `dict_type` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'字典类型'</span><span>,  
</span><span>  `sort_order` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">int</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'排序'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`field_id`),  
</span>  KEY `idx_metadata_id` (`metadata_id`)  
<span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'表单字段元数据表'</span><span>;</span></code></pre></pre>
<h4 class="group flex items-center">2.3 表单视图配置表 (form_view_config)</h4>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `form_view_config` (  
</span><span>  `view_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'视图ID'</span><span>,  
</span><span>  `metadata_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'元数据ID'</span><span>,  
</span><span>  `view_name` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'视图名称'</span><span>,  
</span><span>  `view_type` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'视图类型(form表单,list列表,detail详情)'</span><span>,  
</span><span>  `view_config` text </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'视图配置JSON'</span><span>,  
</span><span>  `is_default` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'是否默认视图(0否1是)'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  `create_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建者'</span><span>,  
</span><span>  `create_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建时间'</span><span>,  
</span><span>  `update_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新者'</span><span>,  
</span><span>  `update_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新时间'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`view_id`),  
</span>  KEY `idx_metadata_id` (`metadata_id`)  
<span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'表单视图配置表'</span><span>;</span></code></pre></pre>
<h3 class="group flex items-center">3. 元数据管理功能设计  </h3>
<h4 class="group flex items-center">3.1 元数据定义管理</h4>
<p>元数据定义管理将允许用户定义表单的基本信息和字段结构，包括：</p>
<ol>
<li><strong>元数据基本信息管理</strong>：定义表单的名称、描述、关联表等基本信息</li>
<li><strong>字段元数据管理</strong>：定义表单的字段结构，包括字段名称、类型、验证规则等</li>
<li><strong>数据库映射管理</strong>：定义表单字段与数据库表字段的映射关系</li>
</ol>
<p>这部分功能将利用CrowdMarket系统现有的代码生成功能，特别是<code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">GenTable</code>和<code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">GenTableColumn</code>实体 <span role="link" tabindex="0" class="bg-pacific/10 text-pacific active:bg-pacific/20 hover:bg-pacific/20 cursor-pointer rounded-md px-[0.25rem] py-[0.12rem] text-xs font-normal leading-[15px] transition-colors duration-100 before:hidden after:hidden" style="font-family: &quot;IBM Plex Mono&quot;, &quot;IBM Plex Mono Fallback&quot;; font-weight: 400; font-style: normal;">GenTable.java:16-23</span> 和 <span role="link" tabindex="0" class="bg-pacific/10 text-pacific active:bg-pacific/20 hover:bg-pacific/20 cursor-pointer rounded-md px-[0.25rem] py-[0.12rem] text-xs font-normal leading-[15px] transition-colors duration-100 before:hidden after:hidden" style="font-family: &quot;IBM Plex Mono&quot;, &quot;IBM Plex Mono Fallback&quot;; font-weight: 400; font-style: normal;">GenTableColumn.java:12-19</span> ，这些实体已经包含了表和字段的元数据信息。</p>
<h4 class="group flex items-center">3.2 表单视图配置管理</h4>
<p>表单视图配置管理将允许用户基于元数据定义配置不同的表单视图，包括：</p>
<ol>
<li><strong>表单视图配置</strong>：配置表单的布局、样式、验证规则等</li>
<li><strong>列表视图配置</strong>：配置列表的显示字段、排序、过滤条件等</li>
<li><strong>详情视图配置</strong>：配置详情页的显示字段、布局等</li>
</ol>
<p>视图配置将以JSON格式存储在<code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">form_view_config</code>表的<code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">view_config</code>字段中，前端可以根据这些配置动态渲染不同的视图。</p>
<h4 class="group flex items-center">3.3 元数据管理界面</h4>
<p>元数据管理界面将提供友好的用户界面，允许用户管理表单元数据，包括：</p>
<ol>
<li><strong>元数据列表</strong>：显示所有的表单元数据，支持搜索、筛选、排序等功能</li>
<li><strong>元数据编辑器</strong>：提供表格式的界面，用于编辑元数据定义和字段配置</li>
<li><strong>视图配置器</strong>：提供可视化的界面，用于配置不同的表单视图</li>
<li><strong>预览功能</strong>：允许用户预览基于元数据生成的表单、列表和详情页</li>
</ol>
<h3 class="group flex items-center">4. 与代码生成服务的集成  </h3>
<p>表格管理模式将与CrowdMarket系统现有的代码生成服务紧密集成，利用代码生成服务的功能来简化元数据的管理。</p>
<h4 class="group flex items-center">4.1 从数据库表导入元数据</h4>
<p>用户可以从现有的数据库表导入元数据，系统将自动解析表结构，生成对应的元数据定义和字段配置。这将利用<code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">GenTableMapper</code>和<code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">GenTableColumnMapper</code>接口 <span role="link" tabindex="0" class="bg-pacific/10 text-pacific active:bg-pacific/20 hover:bg-pacific/20 cursor-pointer rounded-md px-[0.25rem] py-[0.12rem] text-xs font-normal leading-[15px] transition-colors duration-100 before:hidden after:hidden" style="font-family: &quot;IBM Plex Mono&quot;, &quot;IBM Plex Mono Fallback&quot;; font-weight: 400; font-style: normal;">GenTableMapper.java:27-35</span> 和 <span role="link" tabindex="0" class="bg-pacific/10 text-pacific active:bg-pacific/20 hover:bg-pacific/20 cursor-pointer rounded-md px-[0.25rem] py-[0.12rem] text-xs font-normal leading-[15px] transition-colors duration-100 before:hidden after:hidden" style="font-family: &quot;IBM Plex Mono&quot;, &quot;IBM Plex Mono Fallback&quot;; font-weight: 400; font-style: normal;">GenTableColumnMapper.java:19-27</span> 来获取数据库表的元数据信息。</p>
<h4 class="group flex items-center">4.2 生成数据库表和代码</h4>
<p>用户可以基于元数据定义生成数据库表和相应的代码，包括实体类、Mapper、Service和Controller等。这将利用<code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">GenUtils</code>类 <span role="link" tabindex="0" class="bg-pacific/10 text-pacific active:bg-pacific/20 hover:bg-pacific/20 cursor-pointer rounded-md px-[0.25rem] py-[0.12rem] text-xs font-normal leading-[15px] transition-colors duration-100 before:hidden after:hidden" style="font-family: &quot;IBM Plex Mono&quot;, &quot;IBM Plex Mono Fallback&quot;; font-weight: 400; font-style: normal;">GenUtils.java:21-30</span> 来初始化表信息，并使用<code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">VelocityUtils</code>类  来生成代码。</p>
<h3 class="group flex items-center">5. 多租户支持  </h3>
<p>表格管理模式将继续支持多租户功能，确保不同租户的元数据和表单数据完全隔离：</p>
<ol>
<li><strong>元数据隔离</strong>：每个租户只能访问自己的元数据定义和配置</li>
<li><strong>数据隔离</strong>：每个租户只能访问自己的表单数据</li>
<li><strong>视图隔离</strong>：每个租户可以为相同的元数据定义不同的视图配置</li>
</ol>
<p>这将基于现有的<code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">sys_company</code>表 <span role="link" tabindex="0" class="bg-pacific/10 text-pacific active:bg-pacific/20 hover:bg-pacific/20 cursor-pointer rounded-md px-[0.25rem] py-[0.12rem] text-xs font-normal leading-[15px] transition-colors duration-100 before:hidden after:hidden" style="font-family: &quot;IBM Plex Mono&quot;, &quot;IBM Plex Mono Fallback&quot;; font-weight: 400; font-style: normal;">multi_tenant.sql:332-348</span> 来实现租户隔离，每个租户（公司）拥有自己的元数据定义和表单数据。</p>
<h3 class="group flex items-center">6. 表单数据管理  </h3>
<p>表单数据管理将基于元数据定义和视图配置，提供统一的界面来管理表单数据：</p>
<ol>
<li><strong>数据列表</strong>：基于列表视图配置显示表单数据，支持搜索、筛选、排序等功能</li>
<li><strong>数据编辑</strong>：基于表单视图配置编辑表单数据，支持验证、计算等功能</li>
<li><strong>数据详情</strong>：基于详情视图配置显示表单数据详情</li>
<li><strong>数据导入导出</strong>：支持表单数据的批量导入和导出</li>
</ol>
<h3 class="group flex items-center">7. 与现有系统的集成  </h3>
<h4 class="group flex items-center">7.1 与菜单系统的集成</h4>
<p>表格管理模式将添加以下菜单项：</p>
<ol>
<li><strong>元数据管理</strong>：用于管理表单元数据定义</li>
<li><strong>视图配置</strong>：用于配置表单视图</li>
<li><strong>表单数据</strong>：用于管理表单数据</li>
</ol>
<p>这些菜单项将通过现有的菜单管理系统 <span role="link" tabindex="0" class="bg-pacific/10 text-pacific active:bg-pacific/20 hover:bg-pacific/20 cursor-pointer rounded-md px-[0.25rem] py-[0.12rem] text-xs font-normal leading-[15px] transition-colors duration-100 before:hidden after:hidden" style="font-family: &quot;IBM Plex Mono&quot;, &quot;IBM Plex Mono Fallback&quot;; font-weight: 400; font-style: normal;">multi_tenant.sql:601-614</span> 添加到系统中。</p>
<h4 class="group flex items-center">7.2 与权限系统的集成</h4>
<p>表格管理模式将与现有的权限系统集成，确保用户只能访问有权限的元数据和表单数据：</p>
<ol>
<li><strong>元数据权限</strong>：控制用户对元数据的访问权限</li>
<li><strong>视图权限</strong>：控制用户对视图配置的访问权限</li>
<li><strong>数据权限</strong>：控制用户对表单数据的访问权限</li>
</ol>
<p>这将与现有的<code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">sys_role</code>和<code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">sys_user_role</code>表集成，确保权限控制的一致性。</p>
<h3 class="group flex items-center">8. 技术实现  </h3>
<h4 class="group flex items-center">8.1 后端实现</h4>
<p>后端将采用与现有系统相同的技术栈，基于Spring Boot框架实现。核心服务包括：</p>
<ol>
<li><strong>元数据服务</strong>：负责元数据的管理，包括元数据定义、字段配置等</li>
<li><strong>视图服务</strong>：负责视图配置的管理，包括表单视图、列表视图、详情视图等</li>
<li><strong>数据服务</strong>：负责表单数据的管理，包括数据的增删改查、导入导出等</li>
</ol>
<p>这些服务将利用MyBatis作为ORM框架，与数据库进行交互。服务层的实现将参考现有的<code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">GenTableServiceImpl</code>类  的设计。</p>
<h4 class="group flex items-center">8.2 前端实现</h4>
<p>前端将基于Vue.js框架实现，包括以下组件：</p>
<ol>
<li><strong>元数据管理组件</strong>：提供表格式界面，用于管理元数据定义和字段配置</li>
<li><strong>视图配置组件</strong>：提供可视化界面，用于配置不同的表单视图</li>
<li><strong>表单渲染组件</strong>：根据元数据和视图配置动态渲染表单</li>
<li><strong>数据管理组件</strong>：提供统一的界面，用于管理表单数据</li>
</ol>
<p>前端组件将通过API与后端服务交互，实现元数据管理、视图配置和数据管理功能。</p>
<h2 class="group flex items-center">Notes  </h2>
<p>本设计方案调整了表单设计器部分，采用表格管理模式来支持各种元数</p>
<p>Wiki pages you might want to explore:</p>
<ul>
<li><a href="https://deepwiki.com/1211454975/crowdmarket/1-crowdmarket-system-overview">CrowdMarket System Overview (1211454975/crowdmarket)</a></li>
<li><a href="https://deepwiki.com/1211454975/crowdmarket/2.1-code-generation-data-model">Code Generation Data Model (1211454975/crowdmarket)</a></li>
<li><a href="https://deepwiki.com/1211454975/crowdmarket/2.2-code-generation-data-access-layer">Code Generation Data Access Layer (1211454975/crowdmarket)</a></li>
</ul></div><div class="flex items-center gap-1 text-neutral-300"><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M234,80.12A24,24,0,0,0,216,72H160V56a40,40,0,0,0-40-40,8,8,0,0,0-7.16,4.42L75.06,96H32a16,16,0,0,0-16,16v88a16,16,0,0,0,16,16H204a24,24,0,0,0,23.82-21l12-96A24,24,0,0,0,234,80.12ZM32,112H72v88H32ZM223.94,97l-12,96a8,8,0,0,1-7.94,7H88V105.89l36.71-73.43A24,24,0,0,1,144,56V80a8,8,0,0,0,8,8h64a8,8,0,0,1,7.94,9Z"></path></svg></button><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M239.82,157l-12-96A24,24,0,0,0,204,40H32A16,16,0,0,0,16,56v88a16,16,0,0,0,16,16H75.06l37.78,75.58A8,8,0,0,0,120,240a40,40,0,0,0,40-40V184h56a24,24,0,0,0,23.82-27ZM72,144H32V56H72Zm150,21.29a7.88,7.88,0,0,1-6,2.71H152a8,8,0,0,0-8,8v24a24,24,0,0,1-19.29,23.54L88,150.11V56H204a8,8,0,0,1,7.94,7l12,96A7.87,7.87,0,0,1,222,165.29Z"></path></svg></button></div></div></div></div></div><div class="min-w-0 flex-1 scroll-smooth xl:[flex-grow:3]" style="scrollbar-width: thin; scrollbar-color: rgb(90, 90, 90) transparent; min-height: unset;"><div class="sticky left-0 top-0 overflow-y-auto rounded-md" style="max-height: calc(-55px + 100vh);"><div class="flex flex-col gap-3 p-0 pb-[90px]"><div id="file-Repo 1211454975/crowdmarket: crowdmarket-server/ruoyi-tool/src/main/java/com/ruoyi/tool/gen/domain/GenTable.java" class="flex flex-col gap-2 scroll-smooth rounded-md" style="content-visibility: auto;"><div class="scrollbar-hide relative w-full p-0 ring-1 ring-neutral-800 rounded-sm"><div class="bg-secondary dark:bg-surface sticky top-0 z-10 flex w-full items-center justify-between px-3 py-1.5 text-sm text-neutral-300 rounded-t-sm"><div class="flex min-w-0 grow items-center gap-2"><button><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z"></path></svg></button><div class="[&amp;_svg_path]:fill-current size-4 flex-shrink-0" style="fill: rgb(204, 62, 68); height: 20px; width: 20px;"><svg viewBox="-4 -4 20 20"><path d="M6 0a6 6 0 106 6 6 6 0 00-6-6zm2.14 6.8a2.16 2.16 0 01-2.29 2.41 2.5 2.5 0 01-2-.87l.73-.92a1.52 1.52 0 001.23.59c.66 0 1.06-.42 1.06-1.32V2.8h1.26z" class="cls-1"></path></svg></div><a href="https://github.com/1211454975/crowdmarket" target="_blank" rel="noreferrer" class="cursor-pointer truncate text-neutral-500 hover:underline">1211454975/crowdmarket</a><a href="https://github.com/1211454975/crowdmarket/blob/f24a6f5e/crowdmarket-server/ruoyi-tool/src/main/java/com/ruoyi/tool/gen/domain/GenTable.java" target="_blank" rel="noreferrer" class="cursor-pointer truncate text-black dark:text-neutral-300 hover:underline">crowdmarket-server/ruoyi-tool/src/main/java/com/ruoyi/tool/gen/domain/GenTable.java</a><button><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4 text-neutral-500"><path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z"></path></svg></button></div></div><div class="scrollbar-hide grid overflow-auto scroll-smooth"><button class="h-5 w-full cursor-pointer bg-[#f0f0f0] hover:bg-[#e0e0e0] dark:bg-neutral-800 dark:hover:bg-neutral-700/80"><div class="flex h-full items-center gap-1.5 pl-[1.3rem] text-xs font-light text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M205.66,138.34a8,8,0,0,1-11.32,11.32L136,91.31V224a8,8,0,0,1-16,0V91.31L61.66,149.66a8,8,0,0,1-11.32-11.32l72-72a8,8,0,0,1,11.32,0ZM216,32H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"></path></svg></div></button><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-neutral-800/80"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">13</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">*</span><span> 
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">14</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">*</span><span> </span><span class="token annotation" style="color: rgb(57, 58, 52);">@author</span><span> ruoyi
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">15</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">*</span><span class="token" style="color: rgb(57, 58, 52);">/</span></span></code></pre></div><div class="citation-1-0"><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-[#6096FF]/10 clickable-snippet cursor-pointer"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">16</span><span class="token" style="color: rgb(0, 0, 255);">public</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">class</span><span> </span><span class="token" style="color: rgb(43, 145, 175);">GenTable</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">extends</span><span> </span><span class="token" style="color: rgb(43, 145, 175);">BaseEntity</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">17</span><span></span><span class="token" style="color: rgb(57, 58, 52);">{</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">18</span><span>    </span><span class="token" style="color: rgb(0, 0, 255);">private</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">static</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">final</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">long</span><span> serialVersionUID </span><span class="token" style="color: rgb(57, 58, 52);">=</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1L</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">19</span>
</span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">20</span><span>    </span><span class="token doc-comment" style="color: rgb(0, 128, 0); font-style: italic;">/** 编号 */</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">21</span><span>    </span><span class="token" style="color: rgb(0, 0, 255);">private</span><span> </span><span class="token" style="color: rgb(43, 145, 175);">Long</span><span> tableId</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">22</span>
</span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">23</span><span>    </span><span class="token doc-comment" style="color: rgb(0, 128, 0); font-style: italic;">/** 表名称 */</span></span></code></pre></div></div><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-neutral-800/80"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">24</span><span>    </span><span class="token annotation" style="color: rgb(57, 58, 52);">@NotBlank</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span>message </span><span class="token" style="color: rgb(57, 58, 52);">=</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">"表名称不能为空"</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span>
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">25</span><span>    </span><span class="token" style="color: rgb(0, 0, 255);">private</span><span> </span><span class="token" style="color: rgb(43, 145, 175);">String</span><span> tableName</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">26</span></span></code></pre></div><button class="h-5 w-full cursor-pointer bg-[#f0f0f0] hover:bg-[#e0e0e0] dark:bg-neutral-800 dark:hover:bg-neutral-700/80"><div class="flex h-full items-center gap-1.5 pl-[1.3rem] text-xs font-light text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M50.34,117.66a8,8,0,0,1,11.32-11.32L120,164.69V32a8,8,0,0,1,16,0V164.69l58.34-58.35a8,8,0,0,1,11.32,11.32l-72,72a8,8,0,0,1-11.32,0ZM216,208H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"></path></svg></div></button></div></div></div><div id="file-Repo 1211454975/crowdmarket: crowdmarket-server/ruoyi-tool/src/main/java/com/ruoyi/tool/gen/domain/GenTableColumn.java" class="flex flex-col gap-2 scroll-smooth rounded-md" style="content-visibility: auto;"><div class="scrollbar-hide relative w-full p-0 ring-1 ring-neutral-800 rounded-sm"><div class="bg-secondary dark:bg-surface sticky top-0 z-10 flex w-full items-center justify-between px-3 py-1.5 text-sm text-neutral-300 rounded-t-sm"><div class="flex min-w-0 grow items-center gap-2"><button><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z"></path></svg></button><div class="[&amp;_svg_path]:fill-current size-4 flex-shrink-0" style="fill: rgb(204, 62, 68); height: 20px; width: 20px;"><svg viewBox="-4 -4 20 20"><path d="M6 0a6 6 0 106 6 6 6 0 00-6-6zm2.14 6.8a2.16 2.16 0 01-2.29 2.41 2.5 2.5 0 01-2-.87l.73-.92a1.52 1.52 0 001.23.59c.66 0 1.06-.42 1.06-1.32V2.8h1.26z" class="cls-1"></path></svg></div><a href="https://github.com/1211454975/crowdmarket" target="_blank" rel="noreferrer" class="cursor-pointer truncate text-neutral-500 hover:underline">1211454975/crowdmarket</a><a href="https://github.com/1211454975/crowdmarket/blob/f24a6f5e/crowdmarket-server/ruoyi-tool/src/main/java/com/ruoyi/tool/gen/domain/GenTableColumn.java" target="_blank" rel="noreferrer" class="cursor-pointer truncate text-black dark:text-neutral-300 hover:underline">crowdmarket-server/ruoyi-tool/src/main/java/com/ruoyi/tool/gen/domain/GenTableColumn.java</a><button><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4 text-neutral-500"><path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z"></path></svg></button></div></div><div class="scrollbar-hide grid overflow-auto scroll-smooth"><button class="h-5 w-full cursor-pointer bg-[#f0f0f0] hover:bg-[#e0e0e0] dark:bg-neutral-800 dark:hover:bg-neutral-700/80"><div class="flex h-full items-center gap-1.5 pl-[1.3rem] text-xs font-light text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M205.66,138.34a8,8,0,0,1-11.32,11.32L136,91.31V224a8,8,0,0,1-16,0V91.31L61.66,149.66a8,8,0,0,1-11.32-11.32l72-72a8,8,0,0,1,11.32,0ZM216,32H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"></path></svg></div></button><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-neutral-800/80"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">9</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">*</span><span> 
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">10</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">*</span><span> </span><span class="token annotation" style="color: rgb(57, 58, 52);">@author</span><span> ruoyi
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">11</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">*</span><span class="token" style="color: rgb(57, 58, 52);">/</span></span></code></pre></div><div class="citation-1-1"><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-[#6096FF]/10 clickable-snippet cursor-pointer"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">12</span><span class="token" style="color: rgb(0, 0, 255);">public</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">class</span><span> </span><span class="token" style="color: rgb(43, 145, 175);">GenTableColumn</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">extends</span><span> </span><span class="token" style="color: rgb(43, 145, 175);">BaseEntity</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">13</span><span></span><span class="token" style="color: rgb(57, 58, 52);">{</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">14</span><span>    </span><span class="token" style="color: rgb(0, 0, 255);">private</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">static</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">final</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">long</span><span> serialVersionUID </span><span class="token" style="color: rgb(57, 58, 52);">=</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1L</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">15</span>
</span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">16</span><span>    </span><span class="token doc-comment" style="color: rgb(0, 128, 0); font-style: italic;">/** 编号 */</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">17</span><span>    </span><span class="token" style="color: rgb(0, 0, 255);">private</span><span> </span><span class="token" style="color: rgb(43, 145, 175);">Long</span><span> columnId</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">18</span>
</span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">19</span><span>    </span><span class="token doc-comment" style="color: rgb(0, 128, 0); font-style: italic;">/** 归属表编号 */</span></span></code></pre></div></div><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-neutral-800/80"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">20</span><span>    </span><span class="token" style="color: rgb(0, 0, 255);">private</span><span> </span><span class="token" style="color: rgb(43, 145, 175);">Long</span><span> tableId</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">21</span>
</span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">22</span><span>    </span><span class="token doc-comment" style="color: rgb(0, 128, 0); font-style: italic;">/** 列名称 */</span></span></code></pre></div><button class="h-5 w-full cursor-pointer bg-[#f0f0f0] hover:bg-[#e0e0e0] dark:bg-neutral-800 dark:hover:bg-neutral-700/80"><div class="flex h-full items-center gap-1.5 pl-[1.3rem] text-xs font-light text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M50.34,117.66a8,8,0,0,1,11.32-11.32L120,164.69V32a8,8,0,0,1,16,0V164.69l58.34-58.35a8,8,0,0,1,11.32,11.32l-72,72a8,8,0,0,1-11.32,0ZM216,208H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"></path></svg></div></button></div></div></div><div id="file-Repo 1211454975/crowdmarket: crowdmarket-server/ruoyi-tool/src/main/java/com/ruoyi/tool/gen/mapper/GenTableMapper.java" class="flex flex-col gap-2 scroll-smooth rounded-md" style="content-visibility: auto;"><div class="scrollbar-hide relative w-full p-0 ring-1 ring-neutral-800 rounded-sm"><div class="bg-secondary dark:bg-surface sticky top-0 z-10 flex w-full items-center justify-between px-3 py-1.5 text-sm text-neutral-300 rounded-t-sm"><div class="flex min-w-0 grow items-center gap-2"><button><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z"></path></svg></button><div class="[&amp;_svg_path]:fill-current size-4 flex-shrink-0" style="fill: rgb(204, 62, 68); height: 20px; width: 20px;"><svg viewBox="-4 -4 20 20"><path d="M6 0a6 6 0 106 6 6 6 0 00-6-6zm2.14 6.8a2.16 2.16 0 01-2.29 2.41 2.5 2.5 0 01-2-.87l.73-.92a1.52 1.52 0 001.23.59c.66 0 1.06-.42 1.06-1.32V2.8h1.26z" class="cls-1"></path></svg></div><a href="https://github.com/1211454975/crowdmarket" target="_blank" rel="noreferrer" class="cursor-pointer truncate text-neutral-500 hover:underline">1211454975/crowdmarket</a><a href="https://github.com/1211454975/crowdmarket/blob/f24a6f5e/crowdmarket-server/ruoyi-tool/src/main/java/com/ruoyi/tool/gen/mapper/GenTableMapper.java" target="_blank" rel="noreferrer" class="cursor-pointer truncate text-black dark:text-neutral-300 hover:underline">crowdmarket-server/ruoyi-tool/src/main/java/com/ruoyi/tool/gen/mapper/GenTableMapper.java</a><button><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4 text-neutral-500"><path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z"></path></svg></button></div></div><div class="scrollbar-hide grid overflow-auto scroll-smooth"><button class="h-5 w-full cursor-pointer bg-[#f0f0f0] hover:bg-[#e0e0e0] dark:bg-neutral-800 dark:hover:bg-neutral-700/80"><div class="flex h-full items-center gap-1.5 pl-[1.3rem] text-xs font-light text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M205.66,138.34a8,8,0,0,1-11.32,11.32L136,91.31V224a8,8,0,0,1-16,0V91.31L61.66,149.66a8,8,0,0,1-11.32-11.32l72-72a8,8,0,0,1,11.32,0ZM216,32H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"></path></svg></div></button><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-neutral-800/80"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">24</span><span>     </span><span class="token" style="color: rgb(57, 58, 52);">*</span><span> </span><span class="token annotation" style="color: rgb(57, 58, 52);">@param</span><span> genTable 业务信息
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">25</span><span>     </span><span class="token" style="color: rgb(57, 58, 52);">*</span><span> </span><span class="token annotation" style="color: rgb(57, 58, 52);">@return</span><span> 数据库表集合
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">26</span><span>     </span><span class="token" style="color: rgb(57, 58, 52);">*</span><span class="token" style="color: rgb(57, 58, 52);">/</span></span></code></pre></div><div class="citation-1-2"><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-[#6096FF]/10 clickable-snippet cursor-pointer"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">27</span><span>    </span><span class="token" style="color: rgb(0, 0, 255);">public</span><span> </span><span class="token" style="color: rgb(43, 145, 175);">List</span><span class="token generics" style="color: rgb(57, 58, 52);">&lt;</span><span class="token generics" style="color: rgb(43, 145, 175);">GenTable</span><span class="token generics" style="color: rgb(57, 58, 52);">&gt;</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">selectDbTableList</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(43, 145, 175);">GenTable</span><span> genTable</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">28</span>
</span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">29</span><span>    </span><span class="token doc-comment" style="color: rgb(0, 128, 0); font-style: italic;">/**
</span></span><span class="token doc-comment" style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px; color: rgb(0, 128, 0); font-style: italic;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">30</span>     * 查询据库列表
</span><span class="token doc-comment" style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px; color: rgb(0, 128, 0); font-style: italic;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">31</span>     * 
</span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">32</span><span class="token doc-comment" style="color: rgb(0, 128, 0); font-style: italic;">     * </span><span class="token doc-comment" style="color: rgb(0, 0, 255); font-style: italic;">@param</span><span class="token doc-comment" style="color: rgb(0, 128, 0); font-style: italic;"> </span><span class="token doc-comment parameter" style="color: rgb(0, 128, 0); font-style: italic;">tableNames</span><span class="token doc-comment" style="color: rgb(0, 128, 0); font-style: italic;"> 表名称组
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">33</span><span class="token doc-comment" style="color: rgb(0, 128, 0); font-style: italic;">     * </span><span class="token doc-comment" style="color: rgb(0, 0, 255); font-style: italic;">@return</span><span class="token doc-comment" style="color: rgb(0, 128, 0); font-style: italic;"> 数据库表集合
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">34</span><span class="token doc-comment" style="color: rgb(0, 128, 0); font-style: italic;">     */</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">35</span><span>    </span><span class="token" style="color: rgb(0, 0, 255);">public</span><span> </span><span class="token" style="color: rgb(43, 145, 175);">List</span><span class="token generics" style="color: rgb(57, 58, 52);">&lt;</span><span class="token generics" style="color: rgb(43, 145, 175);">GenTable</span><span class="token generics" style="color: rgb(57, 58, 52);">&gt;</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">selectDbTableListByNames</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(43, 145, 175);">String</span><span class="token" style="color: rgb(57, 58, 52);">[</span><span class="token" style="color: rgb(57, 58, 52);">]</span><span> tableNames</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span></span></code></pre></div></div><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-neutral-800/80"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">36</span><span>
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">37</span><span>    </span><span class="token doc-comment" style="color: rgb(0, 128, 0); font-style: italic;">/**
</span></span><span class="token doc-comment" style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px; color: rgb(0, 128, 0); font-style: italic;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">38</span>     * 查询表ID业务信息</span></code></pre></div><button class="h-5 w-full cursor-pointer bg-[#f0f0f0] hover:bg-[#e0e0e0] dark:bg-neutral-800 dark:hover:bg-neutral-700/80"><div class="flex h-full items-center gap-1.5 pl-[1.3rem] text-xs font-light text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M50.34,117.66a8,8,0,0,1,11.32-11.32L120,164.69V32a8,8,0,0,1,16,0V164.69l58.34-58.35a8,8,0,0,1,11.32,11.32l-72,72a8,8,0,0,1-11.32,0ZM216,208H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"></path></svg></div></button></div></div></div><div id="file-Repo 1211454975/crowdmarket: crowdmarket-server/ruoyi-tool/src/main/java/com/ruoyi/tool/gen/mapper/GenTableColumnMapper.java" class="flex flex-col gap-2 scroll-smooth rounded-md" style="content-visibility: auto;"><div class="scrollbar-hide relative w-full p-0 ring-1 ring-neutral-800 rounded-sm"><div class="bg-secondary dark:bg-surface sticky top-0 z-10 flex w-full items-center justify-between px-3 py-1.5 text-sm text-neutral-300 rounded-t-sm"><div class="flex min-w-0 grow items-center gap-2"><button><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z"></path></svg></button><div class="[&amp;_svg_path]:fill-current size-4 flex-shrink-0" style="fill: rgb(204, 62, 68); height: 20px; width: 20px;"><svg viewBox="-4 -4 20 20"><path d="M6 0a6 6 0 106 6 6 6 0 00-6-6zm2.14 6.8a2.16 2.16 0 01-2.29 2.41 2.5 2.5 0 01-2-.87l.73-.92a1.52 1.52 0 001.23.59c.66 0 1.06-.42 1.06-1.32V2.8h1.26z" class="cls-1"></path></svg></div><a href="https://github.com/1211454975/crowdmarket" target="_blank" rel="noreferrer" class="cursor-pointer truncate text-neutral-500 hover:underline">1211454975/crowdmarket</a><a href="https://github.com/1211454975/crowdmarket/blob/f24a6f5e/crowdmarket-server/ruoyi-tool/src/main/java/com/ruoyi/tool/gen/mapper/GenTableColumnMapper.java" target="_blank" rel="noreferrer" class="cursor-pointer truncate text-black dark:text-neutral-300 hover:underline">crowdmarket-server/ruoyi-tool/src/main/java/com/ruoyi/tool/gen/mapper/GenTableColumnMapper.java</a><button><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4 text-neutral-500"><path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z"></path></svg></button></div></div><div class="scrollbar-hide grid overflow-auto scroll-smooth"><button class="h-5 w-full cursor-pointer bg-[#f0f0f0] hover:bg-[#e0e0e0] dark:bg-neutral-800 dark:hover:bg-neutral-700/80"><div class="flex h-full items-center gap-1.5 pl-[1.3rem] text-xs font-light text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M205.66,138.34a8,8,0,0,1-11.32,11.32L136,91.31V224a8,8,0,0,1-16,0V91.31L61.66,149.66a8,8,0,0,1-11.32-11.32l72-72a8,8,0,0,1,11.32,0ZM216,32H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"></path></svg></div></button><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-neutral-800/80"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">16</span><span>     </span><span class="token" style="color: rgb(57, 58, 52);">*</span><span> </span><span class="token annotation" style="color: rgb(57, 58, 52);">@param</span><span> tableName 表名称
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">17</span><span>     </span><span class="token" style="color: rgb(57, 58, 52);">*</span><span> </span><span class="token annotation" style="color: rgb(57, 58, 52);">@return</span><span> 列信息
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">18</span><span>     </span><span class="token" style="color: rgb(57, 58, 52);">*</span><span class="token" style="color: rgb(57, 58, 52);">/</span></span></code></pre></div><div class="citation-1-3"><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-[#6096FF]/10 clickable-snippet cursor-pointer"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">19</span><span>    </span><span class="token" style="color: rgb(0, 0, 255);">public</span><span> </span><span class="token" style="color: rgb(43, 145, 175);">List</span><span class="token generics" style="color: rgb(57, 58, 52);">&lt;</span><span class="token generics" style="color: rgb(43, 145, 175);">GenTableColumn</span><span class="token generics" style="color: rgb(57, 58, 52);">&gt;</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">selectDbTableColumnsByName</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(43, 145, 175);">String</span><span> tableName</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">20</span>    
</span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">21</span><span>    </span><span class="token doc-comment" style="color: rgb(0, 128, 0); font-style: italic;">/**
</span></span><span class="token doc-comment" style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px; color: rgb(0, 128, 0); font-style: italic;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">22</span>     * 查询业务字段列表
</span><span class="token doc-comment" style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px; color: rgb(0, 128, 0); font-style: italic;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">23</span>     * 
</span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">24</span><span class="token doc-comment" style="color: rgb(0, 128, 0); font-style: italic;">     * </span><span class="token doc-comment" style="color: rgb(0, 0, 255); font-style: italic;">@param</span><span class="token doc-comment" style="color: rgb(0, 128, 0); font-style: italic;"> </span><span class="token doc-comment parameter" style="color: rgb(0, 128, 0); font-style: italic;">tableId</span><span class="token doc-comment" style="color: rgb(0, 128, 0); font-style: italic;"> 业务字段编号
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">25</span><span class="token doc-comment" style="color: rgb(0, 128, 0); font-style: italic;">     * </span><span class="token doc-comment" style="color: rgb(0, 0, 255); font-style: italic;">@return</span><span class="token doc-comment" style="color: rgb(0, 128, 0); font-style: italic;"> 业务字段集合
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">26</span><span class="token doc-comment" style="color: rgb(0, 128, 0); font-style: italic;">     */</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">27</span><span>    </span><span class="token" style="color: rgb(0, 0, 255);">public</span><span> </span><span class="token" style="color: rgb(43, 145, 175);">List</span><span class="token generics" style="color: rgb(57, 58, 52);">&lt;</span><span class="token generics" style="color: rgb(43, 145, 175);">GenTableColumn</span><span class="token generics" style="color: rgb(57, 58, 52);">&gt;</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">selectGenTableColumnListByTableId</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(43, 145, 175);">Long</span><span> tableId</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span></span></code></pre></div></div><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-neutral-800/80"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">28</span><span>
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">29</span><span>    </span><span class="token doc-comment" style="color: rgb(0, 128, 0); font-style: italic;">/**
</span></span><span class="token doc-comment" style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px; color: rgb(0, 128, 0); font-style: italic;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">30</span>     * 新增业务字段</span></code></pre></div><button class="h-5 w-full cursor-pointer bg-[#f0f0f0] hover:bg-[#e0e0e0] dark:bg-neutral-800 dark:hover:bg-neutral-700/80"><div class="flex h-full items-center gap-1.5 pl-[1.3rem] text-xs font-light text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M50.34,117.66a8,8,0,0,1,11.32-11.32L120,164.69V32a8,8,0,0,1,16,0V164.69l58.34-58.35a8,8,0,0,1,11.32,11.32l-72,72a8,8,0,0,1-11.32,0ZM216,208H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"></path></svg></div></button></div></div></div><div id="file-Repo 1211454975/crowdmarket: crowdmarket-server/ruoyi-tool/src/main/java/com/ruoyi/tool/gen/util/GenUtils.java" class="flex flex-col gap-2 scroll-smooth rounded-md" style="content-visibility: auto;"><div class="scrollbar-hide relative w-full p-0 ring-1 ring-neutral-800 rounded-sm"><div class="bg-secondary dark:bg-surface sticky top-0 z-10 flex w-full items-center justify-between px-3 py-1.5 text-sm text-neutral-300 rounded-t-sm"><div class="flex min-w-0 grow items-center gap-2"><button><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z"></path></svg></button><div class="[&amp;_svg_path]:fill-current size-4 flex-shrink-0" style="fill: rgb(204, 62, 68); height: 20px; width: 20px;"><svg viewBox="-4 -4 20 20"><path d="M6 0a6 6 0 106 6 6 6 0 00-6-6zm2.14 6.8a2.16 2.16 0 01-2.29 2.41 2.5 2.5 0 01-2-.87l.73-.92a1.52 1.52 0 001.23.59c.66 0 1.06-.42 1.06-1.32V2.8h1.26z" class="cls-1"></path></svg></div><a href="https://github.com/1211454975/crowdmarket" target="_blank" rel="noreferrer" class="cursor-pointer truncate text-neutral-500 hover:underline">1211454975/crowdmarket</a><a href="https://github.com/1211454975/crowdmarket/blob/f24a6f5e/crowdmarket-server/ruoyi-tool/src/main/java/com/ruoyi/tool/gen/util/GenUtils.java" target="_blank" rel="noreferrer" class="cursor-pointer truncate text-black dark:text-neutral-300 hover:underline">crowdmarket-server/ruoyi-tool/src/main/java/com/ruoyi/tool/gen/util/GenUtils.java</a><button><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4 text-neutral-500"><path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z"></path></svg></button></div></div><div class="scrollbar-hide grid overflow-auto scroll-smooth"><button class="h-5 w-full cursor-pointer bg-[#f0f0f0] hover:bg-[#e0e0e0] dark:bg-neutral-800 dark:hover:bg-neutral-700/80"><div class="flex h-full items-center gap-1.5 pl-[1.3rem] text-xs font-light text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M205.66,138.34a8,8,0,0,1-11.32,11.32L136,91.31V224a8,8,0,0,1-16,0V91.31L61.66,149.66a8,8,0,0,1-11.32-11.32l72-72a8,8,0,0,1,11.32,0ZM216,32H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"></path></svg></div></button><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-neutral-800/80"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">18</span><span>    </span><span class="token doc-comment" style="color: rgb(0, 128, 0); font-style: italic;">/**
</span></span><span class="token doc-comment" style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px; color: rgb(0, 128, 0); font-style: italic;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">19</span>     * 初始化表信息
</span><span class="token doc-comment" style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px; color: rgb(0, 128, 0); font-style: italic;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">20</span>     */</span></code></pre></div><div class="citation-1-4"><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-[#6096FF]/10 clickable-snippet cursor-pointer"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">21</span><span>    </span><span class="token" style="color: rgb(0, 0, 255);">public</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">static</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">void</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">initTable</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(43, 145, 175);">GenTable</span><span> genTable</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(43, 145, 175);">String</span><span> operName</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">22</span><span>    </span><span class="token" style="color: rgb(57, 58, 52);">{</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">23</span><span>        genTable</span><span class="token" style="color: rgb(57, 58, 52);">.</span><span class="token" style="color: rgb(57, 58, 52);">setClassName</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(57, 58, 52);">convertClassName</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span>genTable</span><span class="token" style="color: rgb(57, 58, 52);">.</span><span class="token" style="color: rgb(57, 58, 52);">getTableName</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">24</span><span>        genTable</span><span class="token" style="color: rgb(57, 58, 52);">.</span><span class="token" style="color: rgb(57, 58, 52);">setPackageName</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(43, 145, 175);">GenConfig</span><span class="token" style="color: rgb(57, 58, 52);">.</span><span class="token" style="color: rgb(57, 58, 52);">getPackageName</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">25</span><span>        genTable</span><span class="token" style="color: rgb(57, 58, 52);">.</span><span class="token" style="color: rgb(57, 58, 52);">setModuleName</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(57, 58, 52);">getModuleName</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(43, 145, 175);">GenConfig</span><span class="token" style="color: rgb(57, 58, 52);">.</span><span class="token" style="color: rgb(57, 58, 52);">getPackageName</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">26</span><span>        genTable</span><span class="token" style="color: rgb(57, 58, 52);">.</span><span class="token" style="color: rgb(57, 58, 52);">setBusinessName</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(57, 58, 52);">getBusinessName</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span>genTable</span><span class="token" style="color: rgb(57, 58, 52);">.</span><span class="token" style="color: rgb(57, 58, 52);">getTableName</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">27</span><span>        genTable</span><span class="token" style="color: rgb(57, 58, 52);">.</span><span class="token" style="color: rgb(57, 58, 52);">setFunctionName</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(57, 58, 52);">replaceText</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span>genTable</span><span class="token" style="color: rgb(57, 58, 52);">.</span><span class="token" style="color: rgb(57, 58, 52);">getTableComment</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">28</span><span>        genTable</span><span class="token" style="color: rgb(57, 58, 52);">.</span><span class="token" style="color: rgb(57, 58, 52);">setFunctionAuthor</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(43, 145, 175);">GenConfig</span><span class="token" style="color: rgb(57, 58, 52);">.</span><span class="token" style="color: rgb(57, 58, 52);">getAuthor</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">29</span><span>        genTable</span><span class="token" style="color: rgb(57, 58, 52);">.</span><span class="token" style="color: rgb(57, 58, 52);">setCreateBy</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span>operName</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">30</span><span>    </span><span class="token" style="color: rgb(57, 58, 52);">}</span></span></code></pre></div></div><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-neutral-800/80"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">31</span><span>
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">32</span><span>    </span><span class="token doc-comment" style="color: rgb(0, 128, 0); font-style: italic;">/**
</span></span><span class="token doc-comment" style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px; color: rgb(0, 128, 0); font-style: italic;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">33</span>     * 初始化列属性字段</span></code></pre></div><button class="h-5 w-full cursor-pointer bg-[#f0f0f0] hover:bg-[#e0e0e0] dark:bg-neutral-800 dark:hover:bg-neutral-700/80"><div class="flex h-full items-center gap-1.5 pl-[1.3rem] text-xs font-light text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M50.34,117.66a8,8,0,0,1,11.32-11.32L120,164.69V32a8,8,0,0,1,16,0V164.69l58.34-58.35a8,8,0,0,1,11.32,11.32l-72,72a8,8,0,0,1-11.32,0ZM216,208H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"></path></svg></div></button></div></div></div><div id="file-Repo 1211454975/crowdmarket: sql/multi_tenant.sql" class="flex flex-col gap-2 scroll-smooth rounded-md" style="content-visibility: auto;"><div class="scrollbar-hide relative w-full p-0 ring-1 ring-neutral-800 rounded-sm"><div class="bg-secondary dark:bg-surface sticky top-0 z-10 flex w-full items-center justify-between px-3 py-1.5 text-sm text-neutral-300 rounded-t-sm"><div class="flex min-w-0 grow items-center gap-2"><button><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z"></path></svg></button><div class="[&amp;_svg_path]:fill-current size-4 flex-shrink-0" style="fill: rgb(245, 83, 133); height: 20px; width: 20px;"><svg viewBox="0 0 32 32"><path d="M16.4 14c-2.4 0-4.7-.1-7-.6-.6-.1-1.1-.4-1.7-.6-.3-.1-.4-.3-.4-.6V8.7c0-.2.1-.4.3-.4.7-.3 1.3-.6 2-.7C12.1 7 14.5 7 17 7c2 0 4.1.2 6 .7.4.1.9.3 1.3.5.3.1.4.3.4.6v3.5c0 .2-.2.4-.3.5-.4.2-.8.4-1.2.5-1.4.2-2.8.5-4.2.6-.9.1-1.8 0-2.6.1zm8.3.2v3.6c0 .2-.3.5-.5.5-.6.2-1.3.5-1.9.6-2.8.5-5.7.6-8.6.5-1.6-.1-3.3-.2-4.9-.7-.4-.1-.8-.3-1.2-.5-.2-.1-.3-.3-.3-.5v-3.5c2.9 1 5.8 1.1 8.7 1.1 2.9.1 5.8-.1 8.7-1.1zm0 5.6v3.5c0 .2-.3.5-.5.6-.8.3-1.6.6-2.4.7-4 .6-8 .6-12.1-.1-.7-.1-1.4-.4-2-.6-.3-.1-.4-.3-.4-.7v-3.4c2.8 1 5.7 1.1 8.7 1.1 2.9 0 5.8-.1 8.7-1.1z"></path></svg></div><a href="https://github.com/1211454975/crowdmarket" target="_blank" rel="noreferrer" class="cursor-pointer truncate text-neutral-500 hover:underline">1211454975/crowdmarket</a><a href="https://github.com/1211454975/crowdmarket/blob/f24a6f5e/sql/multi_tenant.sql" target="_blank" rel="noreferrer" class="cursor-pointer truncate text-black dark:text-neutral-300 hover:underline">sql/multi_tenant.sql</a><button><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4 text-neutral-500"><path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z"></path></svg></button></div></div><div class="scrollbar-hide grid overflow-auto scroll-smooth"><button class="h-5 w-full cursor-pointer bg-[#f0f0f0] hover:bg-[#e0e0e0] dark:bg-neutral-800 dark:hover:bg-neutral-700/80"><div class="flex h-full items-center gap-1.5 pl-[1.3rem] text-xs font-light text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M205.66,138.34a8,8,0,0,1-11.32,11.32L136,91.31V224a8,8,0,0,1-16,0V91.31L61.66,149.66a8,8,0,0,1-11.32-11.32l72-72a8,8,0,0,1,11.32,0ZM216,32H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"></path></svg></div></button><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-neutral-800/80"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">329</span><span class="token" style="color: rgb(0, 128, 0); font-style: italic;">-- ----------------------------</span><span>
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">330</span><span></span><span class="token" style="color: rgb(0, 128, 0); font-style: italic;">-- Table structure for sys_company</span><span>
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">331</span><span></span><span class="token" style="color: rgb(0, 128, 0); font-style: italic;">-- ----------------------------</span></span></code></pre></div><div class="citation-1-6"><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-[#6096FF]/10 clickable-snippet cursor-pointer"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">332</span><span class="token" style="color: rgb(0, 0, 255);">DROP</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">TABLE</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">IF</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">EXISTS</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_company</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">333</span><span></span><span class="token" style="color: rgb(0, 0, 255);">CREATE</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">TABLE</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_company</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span>  </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">334</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">id</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">varchar</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">20</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CHARACTER</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">SET</span><span> utf8 </span><span class="token" style="color: rgb(0, 0, 255);">COLLATE</span><span> utf8_general_ci </span><span class="token" style="color: rgb(57, 58, 52);">NOT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">335</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">company_name</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">varchar</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">100</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CHARACTER</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">SET</span><span> utf8 </span><span class="token" style="color: rgb(0, 0, 255);">COLLATE</span><span> utf8_general_ci </span><span class="token" style="color: rgb(57, 58, 52);">NOT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'公司名'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">336</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">address</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">varchar</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">200</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CHARACTER</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">SET</span><span> utf8 </span><span class="token" style="color: rgb(0, 0, 255);">COLLATE</span><span> utf8_general_ci </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'地址'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">337</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">phone</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">varchar</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">20</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CHARACTER</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">SET</span><span> utf8 </span><span class="token" style="color: rgb(0, 0, 255);">COLLATE</span><span> utf8_general_ci </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'电话'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">338</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">email</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">varchar</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">50</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CHARACTER</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">SET</span><span> utf8 </span><span class="token" style="color: rgb(0, 0, 255);">COLLATE</span><span> utf8_general_ci </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'邮箱'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">339</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">create_time</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">timestamp</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">0</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">NOT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CURRENT_TIMESTAMP</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">0</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">ON</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">UPDATE</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CURRENT_TIMESTAMP</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">0</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'添加时间'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">340</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">active_time</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">timestamp</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">0</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'有效截止时间'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">341</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">active_flag</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">tinyint</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'备注'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">342</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">temp_id</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">varchar</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">20</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CHARACTER</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">SET</span><span> utf8 </span><span class="token" style="color: rgb(0, 0, 255);">COLLATE</span><span> utf8_general_ci </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'备注'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">343</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">com_code</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">mediumint</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">NOT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'公司代码'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">344</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">region_codes</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">varchar</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">50</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CHARACTER</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">SET</span><span> utf8 </span><span class="token" style="color: rgb(0, 0, 255);">COLLATE</span><span> utf8_general_ci </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'行政区域编码'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">345</span><span>  </span><span class="token" style="color: rgb(0, 0, 255);">PRIMARY</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">KEY</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">id</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">USING</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">BTREE</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">346</span><span>  </span><span class="token" style="color: rgb(0, 0, 255);">UNIQUE</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INDEX</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_company_comCode_uindex</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">com_code</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">USING</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">BTREE</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">347</span><span>  </span><span class="token" style="color: rgb(0, 0, 255);">UNIQUE</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INDEX</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_company_com_code_uindex</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">com_code</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">USING</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">BTREE</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">348</span><span></span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">ENGINE</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">=</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">InnoDB</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CHARACTER</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">SET</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">=</span><span> utf8 </span><span class="token" style="color: rgb(0, 0, 255);">COLLATE</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">=</span><span> utf8_general_ci </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">=</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'公司信息表'</span><span> ROW_FORMAT </span><span class="token" style="color: rgb(57, 58, 52);">=</span><span> Dynamic</span><span class="token" style="color: rgb(57, 58, 52);">;</span></span></code></pre></div></div><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-neutral-800/80"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">349</span><span>
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">350</span><span></span><span class="token" style="color: rgb(0, 128, 0); font-style: italic;">-- ----------------------------</span><span>
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">351</span><span></span><span class="token" style="color: rgb(0, 128, 0); font-style: italic;">-- Records of sys_company</span></span></code></pre></div><button class="h-5 w-full cursor-pointer bg-[#f0f0f0] hover:bg-[#e0e0e0] dark:bg-neutral-800 dark:hover:bg-neutral-700/80"><div class="flex h-full items-center gap-1.5 pl-[1.3rem] text-xs font-light text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M50.34,117.66a8,8,0,0,1,11.32-11.32L120,164.69V32a8,8,0,0,1,16,0V164.69l58.34-58.35a8,8,0,0,1,11.32,11.32l-72,72a8,8,0,0,1-11.32,0ZM216,208H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"></path></svg></div></button><button class="h-5 w-full cursor-pointer bg-[#f0f0f0] hover:bg-[#e0e0e0] dark:bg-neutral-800 dark:hover:bg-neutral-700/80"><div class="flex h-full items-center gap-1.5 pl-[1.3rem] text-xs font-light text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M205.66,138.34a8,8,0,0,1-11.32,11.32L136,91.31V224a8,8,0,0,1-16,0V91.31L61.66,149.66a8,8,0,0,1-11.32-11.32l72-72a8,8,0,0,1,11.32,0ZM216,32H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"></path></svg></div></button><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-neutral-800/80"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">598</span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">3</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'系统工具'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">0</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">120</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'tool'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'M'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">''</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'tool'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2020-07-23 17:57:45'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'系统工具目录'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">599</span><span></span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">100</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'用户列表'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">2006</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'user'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'selfcom/user/index'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'C'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'selfcom:user:list'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'user'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2020-08-10 21:15:23'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'用户管理菜单'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">0</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">600</span><span></span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">101</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'角色管理'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">2006</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">2</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'role'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'selfcom/role/index'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'C'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'selfcom:role:list'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'peoples'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'ry'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'角色管理菜单'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">0</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span></span></code></pre></div><div class="citation-1-7"><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-[#6096FF]/10 clickable-snippet cursor-pointer"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">601</span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">102</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'菜单管理'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">3</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'menu'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'system/menu/index'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'C'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'system:menu:list'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'tree-table'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'ry'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'菜单管理菜单'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">602</span><span></span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">103</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'部门管理'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">2006</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">4</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'dept'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'selfcom/dept/index'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'C'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'1'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'selfcom:dept:list'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'tree'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2020-08-10 21:04:24'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'部门管理菜单'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">0</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">603</span><span></span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">104</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'岗位管理'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">2006</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">5</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'post'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'selfcom/post/index'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'C'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'1'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'selfcom:post:list'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'post'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2020-08-10 21:04:38'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'岗位管理菜单'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">0</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">604</span><span></span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">105</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'字典管理'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">6</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'dict'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'system/dict/index'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'C'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'system:dict:list'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'dict'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'ry'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'字典管理菜单'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">605</span><span></span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">106</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'参数设置'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">7</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'config'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'system/config/index'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'C'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'system:config:list'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'edit'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'ry'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'参数设置菜单'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">606</span><span></span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">107</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'通知公告'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">8</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'notice'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'system/notice/index'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'C'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'system:notice:list'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'message'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'ry'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'通知公告菜单'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">607</span><span></span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">108</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'日志管理'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">9</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'log'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'system/log/index'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'M'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">''</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'log'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'ry'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'日志管理菜单'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">608</span><span></span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">109</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'在线用户'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">2</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'online'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'monitor/online/index'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'C'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'monitor:online:list'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'online'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'ry'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'在线用户菜单'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">609</span><span></span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">110</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'定时任务'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">2</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">2</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'job'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'monitor/job/index'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'C'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'monitor:job:list'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'job'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'ry'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'定时任务菜单'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">610</span><span></span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">111</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'数据监控'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">2</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">3</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'druid'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'monitor/druid/index'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'C'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'monitor:druid:list'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'druid'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'ry'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'数据监控菜单'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">611</span><span></span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">112</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'服务监控'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">2</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">4</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'server'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'monitor/server/index'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'C'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'monitor:server:list'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'server'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'ry'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'服务监控菜单'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">612</span><span></span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">113</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'表单构建'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">3</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'build'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'tool/build/index'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'C'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'tool:build:list'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'build'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'ry'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'表单构建菜单'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">613</span><span></span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">114</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'代码生成'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">3</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">2</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'gen'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'tool/gen/index'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'C'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'tool:gen:list'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'code'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'ry'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'代码生成菜单'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">614</span><span></span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">115</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'系统接口'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">3</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">3</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'swagger'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'tool/swagger/index'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'C'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'tool:swagger:list'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'swagger'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'ry'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'系统接口菜单'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span></span></code></pre></div></div><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-neutral-800/80"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">615</span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">500</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'操作日志'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">108</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'operlog'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'monitor/operlog/index'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'C'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'monitor:operlog:list'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'form'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'ry'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'操作日志菜单'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">616</span><span></span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">501</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'登录日志'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">108</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">2</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'logininfor'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'monitor/logininfor/index'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'C'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'monitor:logininfor:list'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'logininfor'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'ry'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'登录日志菜单'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">617</span><span></span><span class="token" style="color: rgb(0, 0, 255);">INSERT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">INTO</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_menu</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">VALUES</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">1001</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'用户查询'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">100</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">''</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">''</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">1</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'F'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'0'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'selfcom:user:query'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'#'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'admin'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'ry'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'2018-03-16 11:33:00'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">''</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">0</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span></span></code></pre></div><button class="h-5 w-full cursor-pointer bg-[#f0f0f0] hover:bg-[#e0e0e0] dark:bg-neutral-800 dark:hover:bg-neutral-700/80"><div class="flex h-full items-center gap-1.5 pl-[1.3rem] text-xs font-light text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M50.34,117.66a8,8,0,0,1,11.32-11.32L120,164.69V32a8,8,0,0,1,16,0V164.69l58.34-58.35a8,8,0,0,1,11.32,11.32l-72,72a8,8,0,0,1-11.32,0ZM216,208H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"></path></svg></div></button></div></div></div></div></div></div></div><div class="mb-8 mt-16 h-px w-full bg-neutral-300 dark:bg-neutral-700"></div><div id="3" class="flex flex-col gap-3 pt-8 lg:flex-row" data-query-display="true" data-query-index="2"><div class="flex max-h-fit min-w-0 flex-1 flex-shrink-0 flex-col xl:[flex-grow:2]"><div class=""><div class="flex flex-col"><a class="flex items-center gap-2 text-base text-neutral-400 transition-colors hover:text-black dark:hover:text-white" href="https://deepwiki.com/1211454975/crowdmarket"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"></path></svg>return to 1211454975/crowdmarket</a><div class="flex flex-col items-start gap-2 text-white"><div class="group relative flex items-center"><span class="text-xl xl:text-2xl">在表单元数据管理时，提供额外的功能：支持从数据库中提取功能<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to query"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></span></div></div></div><div class="py-3"><div class="text-primary/70 flex flex-col items-start justify-between text-sm"><div class="mb-1"><div class="inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" viewBox="0 0 256 256" class="mr-1"><path d="M213.85,125.46l-112,120a8,8,0,0,1-13.69-7l14.66-73.33L45.19,143.49a8,8,0,0,1-3-13l112-120a8,8,0,0,1,13.69,7L153.18,90.9l57.63,21.61a8,8,0,0,1,3,12.95Z"></path></svg>Fast</div></div><div class="flex w-full items-center justify-between gap-2"><div class="">Searched across 1211454975/crowdmarket</div></div></div></div><div class="h-fit rounded-lg" style="scrollbar-width: thin; scrollbar-color: rgb(58, 58, 58) transparent;"><div class="dark:[&amp;_pre:has(code)]:bg-shade dark:[&amp;_code[data-lang]]:bg-shade relative flex flex-col gap-1 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-4 text-white [overflow-wrap:anywhere] dark:border-[#2F2F2F] dark:bg-[#141414] [&amp;_pre]:my-3"><div class="prose-custom prose-custom-md prose-custom-gray !max-w-none text-neutral-300 [overflow-wrap:anywhere]"><p>I'll help you understand how to add support for extracting metadata from database tables in the form management module.</p>
<h1 class="group flex items-center">Answer  </h1>
<h2 class="group flex items-center">支持从数据库中提取元数据功能设计  </h2>
<p>根据您的要求，我将设计一个在表单元数据管理模块中支持从数据库提取元数据的功能。这个功能将允许用户直接从现有数据库表中导入元数据，简化表单创建过程。</p>
<h3 class="group flex items-center">1. 功能概述  </h3>
<p>从数据库提取元数据功能将允许用户：</p>
<ol>
<li>浏览数据库中的所有表</li>
<li>选择一个或多个表进行元数据提取</li>
<li>自动生成表单元数据定义和字段配置</li>
<li>根据需要编辑和调整提取的元数据</li>
</ol>
<h3 class="group flex items-center">2. 技术实现  </h3>
<h4 class="group flex items-center">2.1 利用现有代码生成服务</h4>
<p>CrowdMarket系统已经有一个代码生成服务，可以从数据库表中提取元数据。我们可以利用这个服务来实现从数据库提取表单元数据的功能。具体来说，我们可以使用以下组件：</p>
<ol>
<li>
<p><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">GenTableMapper</code> 接口：用于查询数据库表列表 </p>
</li>
<li>
<p><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">GenTableColumnMapper</code> 接口：用于查询表字段信息 <span role="link" tabindex="0" class="bg-pacific/10 text-pacific active:bg-pacific/20 hover:bg-pacific/20 cursor-pointer rounded-md px-[0.25rem] py-[0.12rem] text-xs font-normal leading-[15px] transition-colors duration-100 before:hidden after:hidden" style="font-family: &quot;IBM Plex Mono&quot;, &quot;IBM Plex Mono Fallback&quot;; font-weight: 400; font-style: normal;">GenTableColumnMapper.java:19-27</span></p>
</li>
<li>
<p><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">GenUtils</code> 类：用于初始化表信息 </p>
</li>
</ol>
<h4 class="group flex items-center">2.2 数据库提取功能实现</h4>
<p>我们需要在表单元数据管理模块中添加以下功能：</p>
<h5>2.2.1 数据库表浏览功能</h5>
<p>添加一个接口，用于获取数据库中的所有表信息：</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 153); font-weight: bold;">@RestController</span><span>  
</span><span></span><span style="color: rgb(153, 153, 153); font-weight: bold;">@RequestMapping("/form/metadata")</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">FormMetadataController</span><span class="hljs-class"> </span><span>{  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> IFormMetadataService formMetadataService;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> GenTableMapper genTableMapper;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 获取数据库表列表  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@PreAuthorize("@ss.hasPermi('form:metadata:list')")</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@GetMapping("/db/list")</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> TableDataInfo </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">selectDbTableList</span><span class="hljs-function hljs-params">(GenTable genTable)</span><span class="hljs-function"> </span><span>{  
</span>        startPage();  
        List&lt;GenTable&gt; list = genTableMapper.selectDbTableList(genTable);  
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> getDataTable(list);  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 导入表结构  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@PreAuthorize("@ss.hasPermi('form:metadata:import')")</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@PostMapping("/importTable")</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> AjaxResult </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">importTableSave</span><span class="hljs-function hljs-params">(String tables)</span><span class="hljs-function"> </span><span>{  
</span>        String[] tableNames = Convert.toStrArray(tables);  
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 查询表信息  </span><span>
</span>        List&lt;GenTable&gt; tableList = formMetadataService.selectDbTableListByNames(tableNames);  
        formMetadataService.importMetadata(tableList);  
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> AjaxResult.success();  
</span>    }  
}</code></pre></pre>
<h5>2.2.2 元数据导入服务</h5>
<p>实现一个服务，用于将数据库表转换为表单元数据：</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 153); font-weight: bold;">@Service</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">FormMetadataServiceImpl</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">implements</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">IFormMetadataService</span><span class="hljs-class"> </span><span>{  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> GenTableMapper genTableMapper;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> GenTableColumnMapper genTableColumnMapper;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 查询数据库表信息  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Override</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> List&lt;GenTable&gt; </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">selectDbTableListByNames</span><span class="hljs-function hljs-params">(String[] tableNames)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> genTableMapper.selectDbTableListByNames(tableNames);  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 导入表结构  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Override</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Transactional</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">importMetadata</span><span class="hljs-function hljs-params">(List&lt;GenTable&gt; tableList)</span><span class="hljs-function"> </span><span>{  
</span>        String operName = SecurityUtils.getUsername();  
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">try</span><span> {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">for</span><span> (GenTable table : tableList) {  
</span><span>                </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 初始化表信息  </span><span>
</span>                GenUtils.initTable(table, operName);  
                  
<span>                </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 创建表单元数据  </span><span>
</span><span>                FormMetadata metadata = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> FormMetadata();  
</span>                metadata.setMetadataId(IdUtils.fastUUID());  
                metadata.setMetadataName(table.getTableName());  
                metadata.setMetadataDesc(table.getTableComment());  
                metadata.setTableName(table.getTableName());  
<span>                metadata.setStatus(</span><span style="color: rgb(0, 128, 128);">0</span><span>); </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 草稿状态  </span><span>
</span>                metadata.setTenantId(SecurityUtils.getTenantId());  
                metadata.setCreateBy(operName);  
                metadata.setCreateTime(DateUtils.getNowDate());  
                  
<span>                </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 保存表单元数据  </span><span>
</span>                insertFormMetadata(metadata);  
                  
<span>                </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 获取表字段信息  </span><span>
</span>                List&lt;GenTableColumn&gt; columns = genTableColumnMapper.selectDbTableColumnsByName(table.getTableName());  
                  
<span>                </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 创建字段元数据  </span><span>
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">for</span><span> (GenTableColumn column : columns) {  
</span><span>                    FormFieldMetadata field = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> FormFieldMetadata();  
</span>                    field.setFieldId(IdUtils.fastUUID());  
                    field.setMetadataId(metadata.getMetadataId());  
                    field.setFieldName(column.getColumnName());  
                    field.setFieldLabel(column.getColumnComment());  
                    field.setFieldType(convertDbTypeToFieldType(column.getColumnType()));  
                    field.setColumnName(column.getColumnName());  
                    field.setColumnType(column.getColumnType());  
<span>                    field.setIsRequired(</span><span style="color: rgb(221, 17, 68);">"1"</span><span>.equals(column.getIsRequired()) ? </span><span style="color: rgb(0, 128, 128);">1</span><span> : </span><span style="color: rgb(0, 128, 128);">0</span><span>);  
</span><span>                    field.setIsPk(</span><span style="color: rgb(221, 17, 68);">"1"</span><span>.equals(column.getIsPk()) ? </span><span style="color: rgb(0, 128, 128);">1</span><span> : </span><span style="color: rgb(0, 128, 128);">0</span><span>);  
</span><span>                    field.setIsList(</span><span style="color: rgb(0, 128, 128);">1</span><span>); </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 默认显示在列表中  </span><span>
</span><span>                    field.setIsQuery(</span><span style="color: rgb(0, 128, 128);">0</span><span>); </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 默认不作为查询条件  </span><span>
</span><span>                    field.setQueryType(</span><span style="color: rgb(221, 17, 68);">"EQ"</span><span>); </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 默认等于查询  </span><span>
</span><span>                    field.setHtmlType(convertDbTypeToHtmlType(column.getColumnType())); </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 根据数据库类型设置HTML类型  </span><span>
</span>                    field.setSortOrder(column.getSort());  
                    field.setTenantId(SecurityUtils.getTenantId());  
                      
<span>                    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 保存字段元数据  </span><span>
</span>                    insertFormFieldMetadata(field);  
                }  
                  
<span>                </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 创建默认视图配置  </span><span>
</span>                createDefaultViewConfig(metadata);  
            }  
<span>        } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">catch</span><span> (Exception e) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">throw</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> ServiceException(</span><span style="color: rgb(221, 17, 68);">"导入失败："</span><span> + e.getMessage());  
</span>        }  
    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 根据数据库类型转换为字段类型  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span class="hljs-function"> String </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">convertDbTypeToFieldType</span><span class="hljs-function hljs-params">(String dbType)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 根据数据库类型转换为字段类型的逻辑  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (dbType.contains(</span><span style="color: rgb(221, 17, 68);">"char"</span><span>) || dbType.contains(</span><span style="color: rgb(221, 17, 68);">"text"</span><span>)) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(221, 17, 68);">"string"</span><span>;  
</span><span>        } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">else</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (dbType.contains(</span><span style="color: rgb(221, 17, 68);">"int"</span><span>)) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(221, 17, 68);">"integer"</span><span>;  
</span><span>        } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">else</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (dbType.contains(</span><span style="color: rgb(221, 17, 68);">"float"</span><span>) || dbType.contains(</span><span style="color: rgb(221, 17, 68);">"double"</span><span>) || dbType.contains(</span><span style="color: rgb(221, 17, 68);">"decimal"</span><span>)) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(221, 17, 68);">"number"</span><span>;  
</span><span>        } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">else</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (dbType.contains(</span><span style="color: rgb(221, 17, 68);">"date"</span><span>) || dbType.contains(</span><span style="color: rgb(221, 17, 68);">"time"</span><span>)) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(221, 17, 68);">"datetime"</span><span>;  
</span><span>        } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">else</span><span> {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(221, 17, 68);">"string"</span><span>;  
</span>        }  
    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 根据数据库类型转换为HTML类型  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span class="hljs-function"> String </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">convertDbTypeToHtmlType</span><span class="hljs-function hljs-params">(String dbType)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 根据数据库类型转换为HTML类型的逻辑  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (dbType.contains(</span><span style="color: rgb(221, 17, 68);">"char"</span><span>) &amp;&amp; dbType.length() &lt;= </span><span style="color: rgb(0, 128, 128);">20</span><span>) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(221, 17, 68);">"input"</span><span>;  
</span><span>        } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">else</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (dbType.contains(</span><span style="color: rgb(221, 17, 68);">"text"</span><span>)) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(221, 17, 68);">"textarea"</span><span>;  
</span><span>        } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">else</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (dbType.contains(</span><span style="color: rgb(221, 17, 68);">"int"</span><span>)) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(221, 17, 68);">"input"</span><span>;  
</span><span>        } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">else</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (dbType.contains(</span><span style="color: rgb(221, 17, 68);">"float"</span><span>) || dbType.contains(</span><span style="color: rgb(221, 17, 68);">"double"</span><span>) || dbType.contains(</span><span style="color: rgb(221, 17, 68);">"decimal"</span><span>)) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(221, 17, 68);">"input"</span><span>;  
</span><span>        } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">else</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (dbType.contains(</span><span style="color: rgb(221, 17, 68);">"date"</span><span>) || dbType.contains(</span><span style="color: rgb(221, 17, 68);">"time"</span><span>)) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(221, 17, 68);">"datetime"</span><span>;  
</span><span>        } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">else</span><span> {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(221, 17, 68);">"input"</span><span>;  
</span>        }  
    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 创建默认视图配置  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">createDefaultViewConfig</span><span class="hljs-function hljs-params">(FormMetadata metadata)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 创建默认的表单视图、列表视图和详情视图  </span><span>
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 表单视图  </span><span>
</span><span>        FormViewConfig formView = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> FormViewConfig();  
</span>        formView.setViewId(IdUtils.fastUUID());  
        formView.setMetadataId(metadata.getMetadataId());  
<span>        formView.setViewName(metadata.getMetadataName() + </span><span style="color: rgb(221, 17, 68);">"表单视图"</span><span>);  
</span><span>        formView.setViewType(</span><span style="color: rgb(221, 17, 68);">"form"</span><span>);  
</span><span>        formView.setViewConfig(</span><span style="color: rgb(221, 17, 68);">"{}"</span><span>); </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 默认空配置，后续可以通过UI进行配置  </span><span>
</span><span>        formView.setIsDefault(</span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span>        formView.setTenantId(metadata.getTenantId());  
        formView.setCreateBy(metadata.getCreateBy());  
        formView.setCreateTime(metadata.getCreateTime());  
        insertFormViewConfig(formView);  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 列表视图  </span><span>
</span><span>        FormViewConfig listView = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> FormViewConfig();  
</span>        listView.setViewId(IdUtils.fastUUID());  
        listView.setMetadataId(metadata.getMetadataId());  
<span>        listView.setViewName(metadata.getMetadataName() + </span><span style="color: rgb(221, 17, 68);">"列表视图"</span><span>);  
</span><span>        listView.setViewType(</span><span style="color: rgb(221, 17, 68);">"list"</span><span>);  
</span><span>        listView.setViewConfig(</span><span style="color: rgb(221, 17, 68);">"{}"</span><span>);  
</span><span>        listView.setIsDefault(</span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span>        listView.setTenantId(metadata.getTenantId());  
        listView.setCreateBy(metadata.getCreateBy());  
        listView.setCreateTime(metadata.getCreateTime());  
        insertFormViewConfig(listView);  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 详情视图  </span><span>
</span><span>        FormViewConfig detailView = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> FormViewConfig();  
</span>        detailView.setViewId(IdUtils.fastUUID());  
        detailView.setMetadataId(metadata.getMetadataId());  
<span>        detailView.setViewName(metadata.getMetadataName() + </span><span style="color: rgb(221, 17, 68);">"详情视图"</span><span>);  
</span><span>        detailView.setViewType(</span><span style="color: rgb(221, 17, 68);">"detail"</span><span>);  
</span><span>        detailView.setViewConfig(</span><span style="color: rgb(221, 17, 68);">"{}"</span><span>);  
</span><span>        detailView.setIsDefault(</span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span>        detailView.setTenantId(metadata.getTenantId());  
        detailView.setCreateBy(metadata.getCreateBy());  
        detailView.setCreateTime(metadata.getCreateTime());  
        insertFormViewConfig(detailView);  
    }  
}</code></pre></pre>
<h4 class="group flex items-center">2.3 前端实现</h4>
<p>前端需要实现以下功能：</p>
<ol>
<li>数据库表浏览页面：显示所有可用的数据库表</li>
<li>表选择界面：允许用户选择一个或多个表进行导入</li>
<li>元数据编辑界面：允许用户编辑和调整导入的元数据</li>
</ol>
<p>前端代码示例（Vue组件）：</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span>&lt;template&gt;  
</span><span>  &lt;div </span><span style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span>="</span><span style="color: rgb(153, 0, 115);">app</span><span>-</span><span style="color: rgb(153, 0, 115);">container</span><span>"&gt;  
</span><span>    &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">form</span><span> :</span><span style="color: rgb(153, 0, 115);">model</span><span>="</span><span style="color: rgb(153, 0, 115);">queryParams</span><span>" </span><span style="color: rgb(153, 0, 115);">ref</span><span>="</span><span style="color: rgb(153, 0, 115);">queryForm</span><span>" :</span><span style="color: rgb(153, 0, 115);">inline</span><span>="</span><span style="color: rgb(153, 0, 115);">true</span><span>" </span><span style="color: rgb(153, 0, 115);">v</span><span>-</span><span style="color: rgb(153, 0, 115);">show</span><span>="</span><span style="color: rgb(153, 0, 115);">showSearch</span><span>" </span><span style="color: rgb(153, 0, 115);">label</span><span>-</span><span style="color: rgb(153, 0, 115);">width</span><span>="</span><span style="color: rgb(153, 0, 115);">68px</span><span>"&gt;  
</span><span>      &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">form</span><span>-</span><span style="color: rgb(153, 0, 115);">item</span><span> </span><span style="color: rgb(153, 0, 115);">label</span><span>="表名称" </span><span style="color: rgb(153, 0, 115);">prop</span><span>="</span><span style="color: rgb(153, 0, 115);">tableName</span><span>"&gt;  
</span><span>        &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">input</span><span>  
</span><span>          </span><span style="color: rgb(153, 0, 115);">v</span><span>-</span><span style="color: rgb(153, 0, 115);">model</span><span>="</span><span style="color: rgb(153, 0, 115);">queryParams</span><span>.</span><span style="color: rgb(153, 0, 115);">tableName</span><span>"  
</span><span>          </span><span style="color: rgb(153, 0, 115);">placeholder</span><span>="请输入表名称"  
</span><span>          </span><span style="color: rgb(153, 0, 115);">clearable</span><span>  
</span><span>          </span><span style="color: rgb(153, 0, 115);">size</span><span>="</span><span style="color: rgb(153, 0, 115);">small</span><span>"  
</span><span>          @</span><span style="color: rgb(153, 0, 115);">keyup</span><span>.</span><span style="color: rgb(153, 0, 115);">enter</span><span>.</span><span style="color: rgb(153, 0, 115);">native</span><span>="</span><span style="color: rgb(153, 0, 115);">handleQuery</span><span>"  
</span>        /&gt;  
<span>      &lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">form</span><span>-</span><span style="color: rgb(153, 0, 115);">item</span><span>&gt;  
</span><span>      &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">form</span><span>-</span><span style="color: rgb(153, 0, 115);">item</span><span> </span><span style="color: rgb(153, 0, 115);">label</span><span>="表描述" </span><span style="color: rgb(153, 0, 115);">prop</span><span>="</span><span style="color: rgb(153, 0, 115);">tableComment</span><span>"&gt;  
</span><span>        &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">input</span><span>  
</span><span>          </span><span style="color: rgb(153, 0, 115);">v</span><span>-</span><span style="color: rgb(153, 0, 115);">model</span><span>="</span><span style="color: rgb(153, 0, 115);">queryParams</span><span>.</span><span style="color: rgb(153, 0, 115);">tableComment</span><span>"  
</span><span>          </span><span style="color: rgb(153, 0, 115);">placeholder</span><span>="请输入表描述"  
</span><span>          </span><span style="color: rgb(153, 0, 115);">clearable</span><span>  
</span><span>          </span><span style="color: rgb(153, 0, 115);">size</span><span>="</span><span style="color: rgb(153, 0, 115);">small</span><span>"  
</span><span>          @</span><span style="color: rgb(153, 0, 115);">keyup</span><span>.</span><span style="color: rgb(153, 0, 115);">enter</span><span>.</span><span style="color: rgb(153, 0, 115);">native</span><span>="</span><span style="color: rgb(153, 0, 115);">handleQuery</span><span>"  
</span>        /&gt;  
<span>      &lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">form</span><span>-</span><span style="color: rgb(153, 0, 115);">item</span><span>&gt;  
</span><span>      &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">form</span><span>-</span><span style="color: rgb(153, 0, 115);">item</span><span>&gt;  
</span><span>        &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">button</span><span> </span><span style="color: rgb(153, 0, 115);">type</span><span>="</span><span style="color: rgb(153, 0, 115);">primary</span><span>" </span><span style="color: rgb(153, 0, 115);">icon</span><span>="</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">icon</span><span>-</span><span style="color: rgb(153, 0, 115);">search</span><span>" </span><span style="color: rgb(153, 0, 115);">size</span><span>="</span><span style="color: rgb(153, 0, 115);">mini</span><span>" @</span><span style="color: rgb(153, 0, 115);">click</span><span>="</span><span style="color: rgb(153, 0, 115);">handleQuery</span><span>"&gt;搜索&lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">button</span><span>&gt;  
</span><span>        &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">button</span><span> </span><span style="color: rgb(153, 0, 115);">icon</span><span>="</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">icon</span><span>-</span><span style="color: rgb(153, 0, 115);">refresh</span><span>" </span><span style="color: rgb(153, 0, 115);">size</span><span>="</span><span style="color: rgb(153, 0, 115);">mini</span><span>" @</span><span style="color: rgb(153, 0, 115);">click</span><span>="</span><span style="color: rgb(153, 0, 115);">resetQuery</span><span>"&gt;重置&lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">button</span><span>&gt;  
</span><span>      &lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">form</span><span>-</span><span style="color: rgb(153, 0, 115);">item</span><span>&gt;  
</span><span>    &lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">form</span><span>&gt;  
</span>  
<span>    &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">row</span><span> :</span><span style="color: rgb(153, 0, 115);">gutter</span><span>="</span><span style="color: rgb(153, 0, 115);">10</span><span>" </span><span style="color: rgb(153, 0, 115);">class</span><span>="</span><span style="color: rgb(153, 0, 115);">mb8</span><span>"&gt;  
</span><span>      &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">col</span><span> :</span><span style="color: rgb(153, 0, 115);">span</span><span>="</span><span style="color: rgb(153, 0, 115);">1</span><span>.</span><span style="color: rgb(153, 0, 115);">5</span><span>"&gt;  
</span><span>        &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">button</span><span>  
</span><span>          </span><span style="color: rgb(153, 0, 115);">type</span><span>="</span><span style="color: rgb(153, 0, 115);">primary</span><span>"  
</span><span>          </span><span style="color: rgb(153, 0, 115);">plain</span><span>  
</span><span>          </span><span style="color: rgb(153, 0, 115);">icon</span><span>="</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">icon</span><span>-</span><span style="color: rgb(153, 0, 115);">download</span><span>"  
</span><span>          </span><span style="color: rgb(153, 0, 115);">size</span><span>="</span><span style="color: rgb(153, 0, 115);">mini</span><span>"  
</span><span>          @</span><span style="color: rgb(153, 0, 115);">click</span><span>="</span><span style="color: rgb(153, 0, 115);">handleImportTable</span><span>"  
</span><span>          </span><span style="color: rgb(153, 0, 115);">v</span><span>-</span><span style="color: rgb(153, 0, 115);">hasPermi</span><span>="['</span><span style="color: rgb(153, 0, 115);">form:</span><span style="color: rgb(153, 0, 115);">metadata</span><span style="color: rgb(153, 0, 115);">:</span><span style="color: rgb(153, 0, 115);">import</span><span>']"  
</span><span>        &gt;导入&lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">button</span><span>&gt;  
</span><span>      &lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">col</span><span>&gt;  
</span><span>      &lt;</span><span style="color: rgb(153, 0, 115);">right</span><span>-</span><span style="color: rgb(153, 0, 115);">toolbar</span><span> :</span><span style="color: rgb(153, 0, 115);">showSearch</span><span>.</span><span style="color: rgb(153, 0, 115);">sync</span><span>="</span><span style="color: rgb(153, 0, 115);">showSearch</span><span>" @</span><span style="color: rgb(153, 0, 115);">queryTable</span><span>="</span><span style="color: rgb(153, 0, 115);">getList</span><span>"&gt;&lt;/</span><span style="color: rgb(153, 0, 115);">right</span><span>-</span><span style="color: rgb(153, 0, 115);">toolbar</span><span>&gt;  
</span><span>    &lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">row</span><span>&gt;  
</span>  
<span>    &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">table</span><span> </span><span style="color: rgb(153, 0, 115);">v</span><span>-</span><span style="color: rgb(153, 0, 115);">loading</span><span>="</span><span style="color: rgb(153, 0, 115);">loading</span><span>" :</span><span style="color: rgb(153, 0, 115);">data</span><span>="</span><span style="color: rgb(153, 0, 115);">dbTableList</span><span>" @</span><span style="color: rgb(153, 0, 115);">selection</span><span>-</span><span style="color: rgb(153, 0, 115);">change</span><span>="</span><span style="color: rgb(153, 0, 115);">handleSelectionChange</span><span>"&gt;  
</span><span>      &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">table</span><span>-</span><span style="color: rgb(153, 0, 115);">column</span><span> </span><span style="color: rgb(153, 0, 115);">type</span><span>="</span><span style="color: rgb(153, 0, 115);">selection</span><span>" </span><span style="color: rgb(153, 0, 115);">width</span><span>="</span><span style="color: rgb(153, 0, 115);">55</span><span>"&gt;&lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">table</span><span>-</span><span style="color: rgb(153, 0, 115);">column</span><span>&gt;  
</span><span>      &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">table</span><span>-</span><span style="color: rgb(153, 0, 115);">column</span><span> </span><span style="color: rgb(153, 0, 115);">type</span><span>="</span><span style="color: rgb(153, 0, 115);">index</span><span>" </span><span style="color: rgb(153, 0, 115);">label</span><span>="序号" </span><span style="color: rgb(153, 0, 115);">width</span><span>="</span><span style="color: rgb(153, 0, 115);">50</span><span>" </span><span style="color: rgb(153, 0, 115);">align</span><span>="</span><span style="color: rgb(153, 0, 115);">center</span><span>"&gt;&lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">table</span><span>-</span><span style="color: rgb(153, 0, 115);">column</span><span>&gt;  
</span><span>      &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">table</span><span>-</span><span style="color: rgb(153, 0, 115);">column</span><span>  
</span><span>        </span><span style="color: rgb(153, 0, 115);">label</span><span>="表名称"  
</span><span>        </span><span style="color: rgb(153, 0, 115);">align</span><span>="</span><span style="color: rgb(153, 0, 115);">center</span><span>"  
</span><span>        </span><span style="color: rgb(153, 0, 115);">prop</span><span>="</span><span style="color: rgb(153, 0, 115);">tableName</span><span>"  
</span><span>        :</span><span style="color: rgb(153, 0, 115);">show</span><span>-</span><span style="color: rgb(153, 0, 115);">overflow</span><span>-</span><span style="color: rgb(153, 0, 115);">tooltip</span><span>="</span><span style="color: rgb(153, 0, 115);">true</span><span>"  
</span><span>        </span><span style="color: rgb(153, 0, 115);">width</span><span>="</span><span style="color: rgb(153, 0, 115);">130</span><span>"  
</span>      /&gt;  
<span>      &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">table</span><span>-</span><span style="color: rgb(153, 0, 115);">column</span><span>  
</span><span>        </span><span style="color: rgb(153, 0, 115);">label</span><span>="表描述"  
</span><span>        </span><span style="color: rgb(153, 0, 115);">align</span><span>="</span><span style="color: rgb(153, 0, 115);">center</span><span>"  
</span><span>        </span><span style="color: rgb(153, 0, 115);">prop</span><span>="</span><span style="color: rgb(153, 0, 115);">tableComment</span><span>"  
</span><span>        :</span><span style="color: rgb(153, 0, 115);">show</span><span>-</span><span style="color: rgb(153, 0, 115);">overflow</span><span>-</span><span style="color: rgb(153, 0, 115);">tooltip</span><span>="</span><span style="color: rgb(153, 0, 115);">true</span><span>"  
</span><span>        </span><span style="color: rgb(153, 0, 115);">width</span><span>="</span><span style="color: rgb(153, 0, 115);">130</span><span>"  
</span>      /&gt;  
<span>      &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">table</span><span>-</span><span style="color: rgb(153, 0, 115);">column</span><span>  
</span><span>        </span><span style="color: rgb(153, 0, 115);">label</span><span>="创建时间"  
</span><span>        </span><span style="color: rgb(153, 0, 115);">align</span><span>="</span><span style="color: rgb(153, 0, 115);">center</span><span>"  
</span><span>        </span><span style="color: rgb(153, 0, 115);">prop</span><span>="</span><span style="color: rgb(153, 0, 115);">createTime</span><span>"  
</span><span>        </span><span style="color: rgb(153, 0, 115);">width</span><span>="</span><span style="color: rgb(153, 0, 115);">160</span><span>"  
</span>      /&gt;  
<span>      &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">table</span><span>-</span><span style="color: rgb(153, 0, 115);">column</span><span>  
</span><span>        </span><span style="color: rgb(153, 0, 115);">label</span><span>="更新时间"  
</span><span>        </span><span style="color: rgb(153, 0, 115);">align</span><span>="</span><span style="color: rgb(153, 0, 115);">center</span><span>"  
</span><span>        </span><span style="color: rgb(153, 0, 115);">prop</span><span>="</span><span style="color: rgb(153, 0, 115);">updateTime</span><span>"  
</span><span>        </span><span style="color: rgb(153, 0, 115);">width</span><span>="</span><span style="color: rgb(153, 0, 115);">160</span><span>"  
</span>      /&gt;  
<span>    &lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">table</span><span>&gt;  
</span>      
<span>    &lt;</span><span style="color: rgb(153, 0, 115);">pagination</span><span>  
</span><span>      </span><span style="color: rgb(153, 0, 115);">v</span><span>-</span><span style="color: rgb(153, 0, 115);">show</span><span>="</span><span style="color: rgb(153, 0, 115);">total</span><span>&gt;</span><span style="color: rgb(153, 0, 115);">0</span><span>"  
</span><span>      :</span><span style="color: rgb(153, 0, 115);">total</span><span>="</span><span style="color: rgb(153, 0, 115);">total</span><span>"  
</span><span>      :</span><span style="color: rgb(153, 0, 115);">page</span><span>.</span><span style="color: rgb(153, 0, 115);">sync</span><span>="</span><span style="color: rgb(153, 0, 115);">queryParams</span><span>.</span><span style="color: rgb(153, 0, 115);">pageNum</span><span>"  
</span><span>      :</span><span style="color: rgb(153, 0, 115);">limit</span><span>.</span><span style="color: rgb(153, 0, 115);">sync</span><span>="</span><span style="color: rgb(153, 0, 115);">queryParams</span><span>.</span><span style="color: rgb(153, 0, 115);">pageSize</span><span>"  
</span><span>      @</span><span style="color: rgb(153, 0, 115);">pagination</span><span>="</span><span style="color: rgb(153, 0, 115);">getList</span><span>"  
</span>    /&gt;  
<span>  &lt;/</span><span style="color: rgb(153, 0, 115);">div</span><span>&gt;  
</span><span>&lt;/</span><span style="color: rgb(153, 0, 115);">template</span><span>&gt;  
</span>  
<span>&lt;</span><span style="color: rgb(153, 0, 115);">script</span><span>&gt;  
</span><span></span><span style="color: rgb(153, 0, 115);">import</span><span> { listDbTable, importTable } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">from</span><span> </span><span style="color: rgb(221, 17, 68);">"@/api/form/metadata"</span><span>;  
</span>  
<span>export </span><span style="color: rgb(51, 51, 51); font-weight: bold;">default</span><span> {  
</span><span>  name: </span><span style="color: rgb(221, 17, 68);">"ImportTable"</span><span>,  
</span>  data() {  
<span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> {  
</span><span>      </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 遮罩层  </span><span>
</span><span>      loading: </span><span style="color: rgb(0, 128, 128);">true</span><span>,  
</span><span>      </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 选中数组  </span><span>
</span>      tableNames: [],  
<span>      </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 总条数  </span><span>
</span><span>      total: </span><span style="color: rgb(0, 128, 128);">0</span><span>,  
</span><span>      </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 表数据  </span><span>
</span>      dbTableList: [],  
<span>      </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 是否显示搜索条件  </span><span>
</span><span>      showSearch: </span><span style="color: rgb(0, 128, 128);">true</span><span>,  
</span><span>      </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 查询参数  </span><span>
</span>      queryParams: {  
<span>        pageNum: </span><span style="color: rgb(0, 128, 128);">1</span><span>,  
</span><span>        pageSize: </span><span style="color: rgb(0, 128, 128);">10</span><span>,  
</span>        tableName: undefined,  
        tableComment: undefined  
      }  
    };  
  },  
  created() {  
<span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.getList();  
</span>  },  
  methods: {  
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/** 查询表数据 */</span><span>  
</span>    getList() {  
  
Wiki pages you might want to explore:  
<span>- [CrowdMarket System Overview (</span><span style="color: rgb(0, 128, 128);">1211454975</span><span>/crowdmarket)](/wiki/</span><span style="color: rgb(0, 128, 128);">1211454975</span><span>/crowdmarket#</span><span style="color: rgb(0, 128, 128);">1</span><span>)</span></code></pre></pre></div><div class="flex items-center gap-1 text-neutral-300"><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M234,80.12A24,24,0,0,0,216,72H160V56a40,40,0,0,0-40-40,8,8,0,0,0-7.16,4.42L75.06,96H32a16,16,0,0,0-16,16v88a16,16,0,0,0,16,16H204a24,24,0,0,0,23.82-21l12-96A24,24,0,0,0,234,80.12ZM32,112H72v88H32ZM223.94,97l-12,96a8,8,0,0,1-7.94,7H88V105.89l36.71-73.43A24,24,0,0,1,144,56V80a8,8,0,0,0,8,8h64a8,8,0,0,1,7.94,9Z"></path></svg></button><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M239.82,157l-12-96A24,24,0,0,0,204,40H32A16,16,0,0,0,16,56v88a16,16,0,0,0,16,16H75.06l37.78,75.58A8,8,0,0,0,120,240a40,40,0,0,0,40-40V184h56a24,24,0,0,0,23.82-27ZM72,144H32V56H72Zm150,21.29a7.88,7.88,0,0,1-6,2.71H152a8,8,0,0,0-8,8v24a24,24,0,0,1-19.29,23.54L88,150.11V56H204a8,8,0,0,1,7.94,7l12,96A7.87,7.87,0,0,1,222,165.29Z"></path></svg></button></div></div></div></div></div><div class="min-w-0 flex-1 scroll-smooth xl:[flex-grow:3]" style="scrollbar-width: thin; scrollbar-color: rgb(90, 90, 90) transparent; min-height: unset;"><div class="sticky left-0 top-0 overflow-y-auto rounded-md" style="max-height: calc(-55px + 100vh);"><div class="flex flex-col gap-3 p-0 pb-[90px]"><div id="file-Repo 1211454975/crowdmarket: crowdmarket-server/ruoyi-tool/src/main/java/com/ruoyi/tool/gen/mapper/GenTableColumnMapper.java" class="flex flex-col gap-2 scroll-smooth rounded-md" style="content-visibility: auto;"><div class="scrollbar-hide relative w-full p-0 ring-1 ring-neutral-800 rounded-sm"><div class="bg-secondary dark:bg-surface sticky top-0 z-10 flex w-full items-center justify-between px-3 py-1.5 text-sm text-neutral-300 rounded-t-sm"><div class="flex min-w-0 grow items-center gap-2"><button><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z"></path></svg></button><div class="[&amp;_svg_path]:fill-current size-4 flex-shrink-0" style="fill: rgb(204, 62, 68); height: 20px; width: 20px;"><svg viewBox="-4 -4 20 20"><path d="M6 0a6 6 0 106 6 6 6 0 00-6-6zm2.14 6.8a2.16 2.16 0 01-2.29 2.41 2.5 2.5 0 01-2-.87l.73-.92a1.52 1.52 0 001.23.59c.66 0 1.06-.42 1.06-1.32V2.8h1.26z" class="cls-1"></path></svg></div><a href="https://github.com/1211454975/crowdmarket" target="_blank" rel="noreferrer" class="cursor-pointer truncate text-neutral-500 hover:underline">1211454975/crowdmarket</a><a href="https://github.com/1211454975/crowdmarket/blob/f24a6f5e/crowdmarket-server/ruoyi-tool/src/main/java/com/ruoyi/tool/gen/mapper/GenTableColumnMapper.java" target="_blank" rel="noreferrer" class="cursor-pointer truncate text-black dark:text-neutral-300 hover:underline">crowdmarket-server/ruoyi-tool/src/main/java/com/ruoyi/tool/gen/mapper/GenTableColumnMapper.java</a><button><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4 text-neutral-500"><path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z"></path></svg></button></div></div><div class="scrollbar-hide grid overflow-auto scroll-smooth"><button class="h-5 w-full cursor-pointer bg-[#f0f0f0] hover:bg-[#e0e0e0] dark:bg-neutral-800 dark:hover:bg-neutral-700/80"><div class="flex h-full items-center gap-1.5 pl-[1.3rem] text-xs font-light text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M205.66,138.34a8,8,0,0,1-11.32,11.32L136,91.31V224a8,8,0,0,1-16,0V91.31L61.66,149.66a8,8,0,0,1-11.32-11.32l72-72a8,8,0,0,1,11.32,0ZM216,32H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"></path></svg></div></button><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-neutral-800/80"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">16</span><span>     </span><span class="token" style="color: rgb(57, 58, 52);">*</span><span> </span><span class="token annotation" style="color: rgb(57, 58, 52);">@param</span><span> tableName 表名称
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">17</span><span>     </span><span class="token" style="color: rgb(57, 58, 52);">*</span><span> </span><span class="token annotation" style="color: rgb(57, 58, 52);">@return</span><span> 列信息
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">18</span><span>     </span><span class="token" style="color: rgb(57, 58, 52);">*</span><span class="token" style="color: rgb(57, 58, 52);">/</span></span></code></pre></div><div class="citation-2-1"><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-[#6096FF]/10 clickable-snippet cursor-pointer"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">19</span><span>    </span><span class="token" style="color: rgb(0, 0, 255);">public</span><span> </span><span class="token" style="color: rgb(43, 145, 175);">List</span><span class="token generics" style="color: rgb(57, 58, 52);">&lt;</span><span class="token generics" style="color: rgb(43, 145, 175);">GenTableColumn</span><span class="token generics" style="color: rgb(57, 58, 52);">&gt;</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">selectDbTableColumnsByName</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(43, 145, 175);">String</span><span> tableName</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">20</span>    
</span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">21</span><span>    </span><span class="token doc-comment" style="color: rgb(0, 128, 0); font-style: italic;">/**
</span></span><span class="token doc-comment" style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px; color: rgb(0, 128, 0); font-style: italic;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">22</span>     * 查询业务字段列表
</span><span class="token doc-comment" style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px; color: rgb(0, 128, 0); font-style: italic;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">23</span>     * 
</span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">24</span><span class="token doc-comment" style="color: rgb(0, 128, 0); font-style: italic;">     * </span><span class="token doc-comment" style="color: rgb(0, 0, 255); font-style: italic;">@param</span><span class="token doc-comment" style="color: rgb(0, 128, 0); font-style: italic;"> </span><span class="token doc-comment parameter" style="color: rgb(0, 128, 0); font-style: italic;">tableId</span><span class="token doc-comment" style="color: rgb(0, 128, 0); font-style: italic;"> 业务字段编号
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">25</span><span class="token doc-comment" style="color: rgb(0, 128, 0); font-style: italic;">     * </span><span class="token doc-comment" style="color: rgb(0, 0, 255); font-style: italic;">@return</span><span class="token doc-comment" style="color: rgb(0, 128, 0); font-style: italic;"> 业务字段集合
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">26</span><span class="token doc-comment" style="color: rgb(0, 128, 0); font-style: italic;">     */</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">27</span><span>    </span><span class="token" style="color: rgb(0, 0, 255);">public</span><span> </span><span class="token" style="color: rgb(43, 145, 175);">List</span><span class="token generics" style="color: rgb(57, 58, 52);">&lt;</span><span class="token generics" style="color: rgb(43, 145, 175);">GenTableColumn</span><span class="token generics" style="color: rgb(57, 58, 52);">&gt;</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">selectGenTableColumnListByTableId</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(43, 145, 175);">Long</span><span> tableId</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span></span></code></pre></div></div><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-neutral-800/80"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">28</span><span>
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">29</span><span>    </span><span class="token doc-comment" style="color: rgb(0, 128, 0); font-style: italic;">/**
</span></span><span class="token doc-comment" style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px; color: rgb(0, 128, 0); font-style: italic;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">30</span>     * 新增业务字段</span></code></pre></div><button class="h-5 w-full cursor-pointer bg-[#f0f0f0] hover:bg-[#e0e0e0] dark:bg-neutral-800 dark:hover:bg-neutral-700/80"><div class="flex h-full items-center gap-1.5 pl-[1.3rem] text-xs font-light text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M50.34,117.66a8,8,0,0,1,11.32-11.32L120,164.69V32a8,8,0,0,1,16,0V164.69l58.34-58.35a8,8,0,0,1,11.32,11.32l-72,72a8,8,0,0,1-11.32,0ZM216,208H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"></path></svg></div></button></div></div></div></div></div></div></div><div class="mb-8 mt-16 h-px w-full bg-neutral-300 dark:bg-neutral-700"></div><div id="4" class="flex flex-col gap-3 pt-8 lg:flex-row" data-query-display="true" data-query-index="3"><div class="flex max-h-fit min-w-0 flex-1 flex-shrink-0 flex-col xl:[flex-grow:2]"><div class=""><div class="flex flex-col"><a class="flex items-center gap-2 text-base text-neutral-400 transition-colors hover:text-black dark:hover:text-white" href="https://deepwiki.com/1211454975/crowdmarket"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"></path></svg>return to 1211454975/crowdmarket</a><div class="flex flex-col items-start gap-2 text-white"><div class="group relative flex items-center"><span class="text-xl xl:text-2xl">表单数据表的设计，请根据一个表单定义，自动生成独立的一个表来存储数据，避免将所有数据都保存在json字段中。<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to query"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></span></div></div></div><div class="py-3"><div class="text-primary/70 flex flex-col items-start justify-between text-sm"><div class="mb-1"><div class="inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" viewBox="0 0 256 256" class="mr-1"><path d="M213.85,125.46l-112,120a8,8,0,0,1-13.69-7l14.66-73.33L45.19,143.49a8,8,0,0,1-3-13l112-120a8,8,0,0,1,13.69,7L153.18,90.9l57.63,21.61a8,8,0,0,1,3,12.95Z"></path></svg>Fast</div></div><div class="flex w-full items-center justify-between gap-2"><div class="">Searched across 1211454975/crowdmarket</div></div></div></div><div class="h-fit rounded-lg" style="scrollbar-width: thin; scrollbar-color: rgb(58, 58, 58) transparent;"><div class="dark:[&amp;_pre:has(code)]:bg-shade dark:[&amp;_code[data-lang]]:bg-shade relative flex flex-col gap-1 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-4 text-white [overflow-wrap:anywhere] dark:border-[#2F2F2F] dark:bg-[#141414] [&amp;_pre]:my-3"><div class="prose-custom prose-custom-md prose-custom-gray !max-w-none text-neutral-300 [overflow-wrap:anywhere]"><p>I'll help you design a solution for automatically generating dedicated tables for form data storage based on form definitions in the CrowdMarket system.</p>
<h1 class="group flex items-center">Answer  </h1>
<h2 class="group flex items-center">Automatically Generating Dedicated Tables for Form Data Storage  </h2>
<p>Based on your request, I'll design a solution that creates a dedicated database table for each form definition, rather than storing all form data as JSON in a single table. This approach offers several advantages:</p>
<ol>
<li>Better query performance for structured data</li>
<li>Type safety and data validation at the database level</li>
<li>Ability to create indexes on specific fields</li>
<li>Direct SQL query capability without JSON parsing</li>
</ol>
<h3 class="group flex items-center">Overall Design Approach  </h3>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><div class="group relative cursor-pointer overflow-x-auto rounded-md bg-[#f2f1f0] p-4 transition-colors hover:bg-[#ededed] dark:bg-[#1f1f1f] dark:hover:bg-[#242424]" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«r3r»" data-state="closed"><div class="flex justify-center"><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 327.703125 638" style="max-width: 327.703125px;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-6s0dn8n3mdg"><style>#mermaid-6s0dn8n3mdg{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-6s0dn8n3mdg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-6s0dn8n3mdg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-6s0dn8n3mdg .error-icon{fill:#dddddd;}#mermaid-6s0dn8n3mdg .error-text{fill:#222222;stroke:#222222;}#mermaid-6s0dn8n3mdg .edge-thickness-normal{stroke-width:1px;}#mermaid-6s0dn8n3mdg .edge-thickness-thick{stroke-width:3.5px;}#mermaid-6s0dn8n3mdg .edge-pattern-solid{stroke-dasharray:0;}#mermaid-6s0dn8n3mdg .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-6s0dn8n3mdg .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-6s0dn8n3mdg .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-6s0dn8n3mdg .marker{fill:#999;stroke:#999;}#mermaid-6s0dn8n3mdg .marker.cross{stroke:#999;}#mermaid-6s0dn8n3mdg svg{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px;}#mermaid-6s0dn8n3mdg p{margin:0;}#mermaid-6s0dn8n3mdg .label{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;color:#333;}#mermaid-6s0dn8n3mdg .cluster-label text{fill:#444;}#mermaid-6s0dn8n3mdg .cluster-label span{color:#444;}#mermaid-6s0dn8n3mdg .cluster-label span p{background-color:transparent;}#mermaid-6s0dn8n3mdg .label text,#mermaid-6s0dn8n3mdg span{fill:#333;color:#333;}#mermaid-6s0dn8n3mdg .node rect,#mermaid-6s0dn8n3mdg .node circle,#mermaid-6s0dn8n3mdg .node ellipse,#mermaid-6s0dn8n3mdg .node polygon,#mermaid-6s0dn8n3mdg .node path{fill:#ffffff;stroke:#dddddd;stroke-width:1px;}#mermaid-6s0dn8n3mdg .rough-node .label text,#mermaid-6s0dn8n3mdg .node .label text,#mermaid-6s0dn8n3mdg .image-shape .label,#mermaid-6s0dn8n3mdg .icon-shape .label{text-anchor:middle;}#mermaid-6s0dn8n3mdg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-6s0dn8n3mdg .rough-node .label,#mermaid-6s0dn8n3mdg .node .label,#mermaid-6s0dn8n3mdg .image-shape .label,#mermaid-6s0dn8n3mdg .icon-shape .label{text-align:center;}#mermaid-6s0dn8n3mdg .node.clickable{cursor:pointer;}#mermaid-6s0dn8n3mdg .root .anchor path{fill:#999!important;stroke-width:0;stroke:#999;}#mermaid-6s0dn8n3mdg .arrowheadPath{fill:#0b0b0b;}#mermaid-6s0dn8n3mdg .edgePath .path{stroke:#999;stroke-width:2.0px;}#mermaid-6s0dn8n3mdg .flowchart-link{stroke:#999;fill:none;}#mermaid-6s0dn8n3mdg .edgeLabel{background-color:#ffffff;text-align:center;}#mermaid-6s0dn8n3mdg .edgeLabel p{background-color:#ffffff;}#mermaid-6s0dn8n3mdg .edgeLabel rect{opacity:0.5;background-color:#ffffff;fill:#ffffff;}#mermaid-6s0dn8n3mdg .labelBkg{background-color:rgba(255, 255, 255, 0.5);}#mermaid-6s0dn8n3mdg .cluster rect{fill:#f8f8f8;stroke:#dddddd;stroke-width:1px;}#mermaid-6s0dn8n3mdg .cluster text{fill:#444;}#mermaid-6s0dn8n3mdg .cluster span{color:#444;}#mermaid-6s0dn8n3mdg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:12px;background:#dddddd;border:1px solid hsl(0, 0%, 76.6666666667%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-6s0dn8n3mdg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-6s0dn8n3mdg rect.text{fill:none;stroke-width:0;}#mermaid-6s0dn8n3mdg .icon-shape,#mermaid-6s0dn8n3mdg .image-shape{background-color:#ffffff;text-align:center;}#mermaid-6s0dn8n3mdg .icon-shape p,#mermaid-6s0dn8n3mdg .image-shape p{background-color:#ffffff;padding:2px;}#mermaid-6s0dn8n3mdg .icon-shape rect,#mermaid-6s0dn8n3mdg .image-shape rect{opacity:0.5;background-color:#ffffff;fill:#ffffff;}#mermaid-6s0dn8n3mdg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-6s0dn8n3mdg_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-6s0dn8n3mdg_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-6s0dn8n3mdg_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-6s0dn8n3mdg_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-6s0dn8n3mdg_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-6s0dn8n3mdg_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid-6s0dn8n3mdg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M100.494,62L94.706,66.167C88.918,70.333,77.342,78.667,71.554,91.5C65.766,104.333,65.766,121.667,65.766,139C65.766,156.333,65.766,173.667,71.013,186.111C76.26,198.554,86.753,206.109,92,209.886L97.247,213.663"></path><path marker-end="url(#mermaid-6s0dn8n3mdg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_C_0" d="M138,270L138,274.167C138,278.333,138,286.667,138,294.333C138,302,138,309,138,312.5L138,316"></path><path marker-end="url(#mermaid-6s0dn8n3mdg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_D_0" d="M175.506,62L181.294,66.167C187.082,70.333,198.658,78.667,204.446,86.333C210.234,94,210.234,101,210.234,104.5L210.234,108"></path><path marker-end="url(#mermaid-6s0dn8n3mdg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_B_0" d="M210.234,166L210.234,170.167C210.234,174.333,210.234,182.667,204.987,190.611C199.74,198.554,189.247,206.109,184,209.886L178.753,213.663"></path><path marker-end="url(#mermaid-6s0dn8n3mdg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_E_0" d="M138,398L138,402.167C138,406.333,138,414.667,138,422.333C138,430,138,437,138,440.5L138,444"></path><path marker-end="url(#mermaid-6s0dn8n3mdg_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_F_0" d="M138,502L138,506.167C138,510.333,138,518.667,138,526.333C138,534,138,541,138,544.5L138,548"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g></g><g class="nodes"><g transform="translate(138, 35)" id="flowchart-A-0" class="node default"><rect height="54" width="258.046875" y="-27" x="-129.0234375" style="" class="basic label-container"></rect><g transform="translate(-99.0234375, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="198.046875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Form Metadata Definition</p></span></div></foreignobject></g></g><g transform="translate(138, 243)" id="flowchart-B-1" class="node default"><rect height="54" width="249.203125" y="-27" x="-124.6015625" style="" class="basic label-container"></rect><g transform="translate(-94.6015625, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="189.203125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Table Generation Service</p></span></div></foreignobject></g></g><g transform="translate(138, 359)" id="flowchart-C-3" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignobject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Create Physical Database Table</p></span></div></foreignobject></g></g><g transform="translate(210.234375, 139)" id="flowchart-D-5" class="node default"><rect height="54" width="218.9375" y="-27" x="-109.46875" style="" class="basic label-container"></rect><g transform="translate(-79.46875, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="158.9375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Form Field Metadata</p></span></div></foreignobject></g></g><g transform="translate(138, 475)" id="flowchart-E-9" class="node default"><rect height="54" width="199.921875" y="-27" x="-99.9609375" style="" class="basic label-container"></rect><g transform="translate(-69.9609375, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="139.921875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Form Data Service</p></span></div></foreignobject></g></g><g transform="translate(138, 591)" id="flowchart-F-11" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignobject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>CRUD Operations on Generated Table</p></span></div></foreignobject></g></g></g></g></g></svg></div><div class="bg-input-dark absolute right-2 top-2 rounded-sm p-1 opacity-0 transition-opacity group-hover:opacity-100"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="light:text-gray-800 text-white dark:text-white"><path d="M216,48V96a8,8,0,0,1-16,0V67.31l-42.34,42.35a8,8,0,0,1-11.32-11.32L188.69,56H160a8,8,0,0,1,0-16h48A8,8,0,0,1,216,48ZM98.34,146.34,56,188.69V160a8,8,0,0,0-16,0v48a8,8,0,0,0,8,8H96a8,8,0,0,0,0-16H67.31l42.35-42.34a8,8,0,0,0-11.32-11.32ZM208,152a8,8,0,0,0-8,8v28.69l-42.34-42.35a8,8,0,0,0-11.32,11.32L188.69,200H160a8,8,0,0,0,0,16h48a8,8,0,0,0,8-8V160A8,8,0,0,0,208,152ZM67.31,56H96a8,8,0,0,0,0-16H48a8,8,0,0,0-8,8V96a8,8,0,0,0,16,0V67.31l42.34,42.35a8,8,0,0,0,11.32-11.32Z"></path></svg></div></div></pre>
<h3 class="group flex items-center">Implementation Components  </h3>
<h4 class="group flex items-center">1. Table Generation Service</h4>
<p>When a form is defined and published, we'll automatically generate a dedicated table to store its data. The table name will be derived from the form's metadata name with a prefix to avoid conflicts.</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 153); font-weight: bold;">@Service</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">TableGenerationService</span><span class="hljs-class"> </span><span>{  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> JdbcTemplate jdbcTemplate;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> FormFieldMetadataMapper fieldMetadataMapper;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Generate a physical database table based on form metadata  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Transactional</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">generateTable</span><span class="hljs-function hljs-params">(FormMetadata metadata)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Generate table name with tenant prefix to ensure uniqueness  </span><span>
</span><span>        String tableName = </span><span style="color: rgb(221, 17, 68);">"form_data_"</span><span> + metadata.getTenantId() + </span><span style="color: rgb(221, 17, 68);">"_"</span><span> + metadata.getMetadataId().replace(</span><span style="color: rgb(221, 17, 68);">"-"</span><span>, </span><span style="color: rgb(221, 17, 68);">"_"</span><span>);  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Get all fields for this form  </span><span>
</span>        List&lt;FormFieldMetadata&gt; fields = fieldMetadataMapper.selectByMetadataId(metadata.getMetadataId());  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Build CREATE TABLE SQL  </span><span>
</span><span>        StringBuilder sql = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> StringBuilder();  
</span><span>        sql.append(</span><span style="color: rgb(221, 17, 68);">"CREATE TABLE "</span><span>).append(tableName).append(</span><span style="color: rgb(221, 17, 68);">" ("</span><span>);  
</span><span>        sql.append(</span><span style="color: rgb(221, 17, 68);">"id VARCHAR(36) NOT NULL COMMENT 'Primary Key',"</span><span>);  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Add columns for each field  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">for</span><span> (FormFieldMetadata field : fields) {  
</span><span>            sql.append(field.getColumnName()).append(</span><span style="color: rgb(221, 17, 68);">" "</span><span>);  
</span><span>            sql.append(convertToDbColumnType(field.getFieldType())).append(</span><span style="color: rgb(221, 17, 68);">" "</span><span>);  
</span>              
<span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (field.getIsRequired() == </span><span style="color: rgb(0, 128, 128);">1</span><span>) {  
</span><span>                sql.append(</span><span style="color: rgb(221, 17, 68);">"NOT NULL "</span><span>);  
</span><span>            } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">else</span><span> {  
</span><span>                sql.append(</span><span style="color: rgb(221, 17, 68);">"NULL "</span><span>);  
</span>            }  
              
<span>            sql.append(</span><span style="color: rgb(221, 17, 68);">"COMMENT '"</span><span>).append(field.getFieldLabel()).append(</span><span style="color: rgb(221, 17, 68);">"',"</span><span>);  
</span>        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Add standard audit columns  </span><span>
</span><span>        sql.append(</span><span style="color: rgb(221, 17, 68);">"tenant_id VARCHAR(20) NOT NULL COMMENT 'Tenant ID',"</span><span>);  
</span><span>        sql.append(</span><span style="color: rgb(221, 17, 68);">"create_by VARCHAR(64) DEFAULT '' COMMENT 'Creator',"</span><span>);  
</span><span>        sql.append(</span><span style="color: rgb(221, 17, 68);">"create_time DATETIME COMMENT 'Create Time',"</span><span>);  
</span><span>        sql.append(</span><span style="color: rgb(221, 17, 68);">"update_by VARCHAR(64) DEFAULT '' COMMENT 'Updater',"</span><span>);  
</span><span>        sql.append(</span><span style="color: rgb(221, 17, 68);">"update_time DATETIME COMMENT 'Update Time',"</span><span>);  
</span><span>        sql.append(</span><span style="color: rgb(221, 17, 68);">"PRIMARY KEY (id)"</span><span>);  
</span><span>        sql.append(</span><span style="color: rgb(221, 17, 68);">") ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='"</span><span>).append(metadata.getMetadataDesc()).append(</span><span style="color: rgb(221, 17, 68);">"'"</span><span>);  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Execute the SQL to create the table  </span><span>
</span>        jdbcTemplate.execute(sql.toString());  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Update the form metadata with the generated table name  </span><span>
</span>        metadata.setTableName(tableName);  
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Update metadata in database  </span><span>
</span>        formMetadataMapper.updateFormMetadata(metadata);  
    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Convert form field type to database column type  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span class="hljs-function"> String </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">convertToDbColumnType</span><span class="hljs-function hljs-params">(String fieldType)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">switch</span><span> (fieldType) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">case</span><span> </span><span style="color: rgb(221, 17, 68);">"string"</span><span>:  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(221, 17, 68);">"VARCHAR(255)"</span><span>;  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">case</span><span> </span><span style="color: rgb(221, 17, 68);">"text"</span><span>:  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(221, 17, 68);">"TEXT"</span><span>;  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">case</span><span> </span><span style="color: rgb(221, 17, 68);">"integer"</span><span>:  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(221, 17, 68);">"INT"</span><span>;  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">case</span><span> </span><span style="color: rgb(221, 17, 68);">"number"</span><span>:  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(221, 17, 68);">"DECIMAL(19,4)"</span><span>;  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">case</span><span> </span><span style="color: rgb(221, 17, 68);">"datetime"</span><span>:  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(221, 17, 68);">"DATETIME"</span><span>;  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">case</span><span> </span><span style="color: rgb(221, 17, 68);">"boolean"</span><span>:  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(221, 17, 68);">"TINYINT(1)"</span><span>;  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">default</span><span>:  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(221, 17, 68);">"VARCHAR(255)"</span><span>;  
</span>        }  
    }  
}</code></pre></pre>
<h4 class="group flex items-center">2. Form Metadata Table Updates</h4>
<p>We need to modify the form_metadata table to track the generated table name:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `form_metadata` (  
</span><span>  `metadata_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'元数据ID'</span><span>,  
</span><span>  `metadata_name` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'元数据名称'</span><span>,  
</span><span>  `metadata_desc` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">500</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'元数据描述'</span><span>,  
</span><span>  `table_name` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'关联表名'</span><span>,  
</span><span>  `status` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'状态(0草稿,1发布,2停用)'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  `create_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建者'</span><span>,  
</span><span>  `create_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建时间'</span><span>,  
</span><span>  `update_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新者'</span><span>,  
</span><span>  `update_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新时间'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`metadata_id`),  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">UNIQUE</span><span> KEY `uk_metadata_name_tenant` (`metadata_name`,`tenant_id`)  
</span><span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'表单元数据表'</span><span>;</span></code></pre></pre>
<p>The <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">table_name</code> field will store the name of the generated physical table.</p>
<h4 class="group flex items-center">3. Form Data Service</h4>
<p>The form data service will handle CRUD operations on the generated tables:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 153); font-weight: bold;">@Service</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">FormDataService</span><span class="hljs-class"> </span><span>{  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> JdbcTemplate jdbcTemplate;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> FormMetadataMapper formMetadataMapper;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> FormFieldMetadataMapper fieldMetadataMapper;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Save form data to the generated table  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Transactional</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">saveFormData</span><span class="hljs-function hljs-params">(String metadataId, Map&lt;String, Object&gt; formData, String tenantId, String username)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Get form metadata  </span><span>
</span>        FormMetadata metadata = formMetadataMapper.selectByPrimaryKey(metadataId);  
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (metadata == </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">throw</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> ServiceException(</span><span style="color: rgb(221, 17, 68);">"Form metadata not found"</span><span>);  
</span>        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Get table name  </span><span>
</span>        String tableName = metadata.getTableName();  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Get fields  </span><span>
</span>        List&lt;FormFieldMetadata&gt; fields = fieldMetadataMapper.selectByMetadataId(metadataId);  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Build INSERT SQL  </span><span>
</span><span>        StringBuilder sql = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> StringBuilder();  
</span><span>        StringBuilder columns = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> StringBuilder();  
</span><span>        StringBuilder values = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> StringBuilder();  
</span>          
<span>        sql.append(</span><span style="color: rgb(221, 17, 68);">"INSERT INTO "</span><span>).append(tableName).append(</span><span style="color: rgb(221, 17, 68);">" ("</span><span>);  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Add id column  </span><span>
</span>        String id = IdUtils.fastUUID();  
<span>        columns.append(</span><span style="color: rgb(221, 17, 68);">"id,"</span><span>);  
</span><span>        values.append(</span><span style="color: rgb(221, 17, 68);">"'"</span><span>).append(id).append(</span><span style="color: rgb(221, 17, 68);">"',"</span><span>);  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Add data columns  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">for</span><span> (FormFieldMetadata field : fields) {  
</span>            String columnName = field.getColumnName();  
            Object value = formData.get(field.getFieldName());  
              
<span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (value != </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>) {  
</span><span>                columns.append(columnName).append(</span><span style="color: rgb(221, 17, 68);">","</span><span>);  
</span>                  
<span>                </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Format value based on field type  </span><span>
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (field.getFieldType().equals(</span><span style="color: rgb(221, 17, 68);">"string"</span><span>) || field.getFieldType().equals(</span><span style="color: rgb(221, 17, 68);">"text"</span><span>)) {  
</span><span>                    values.append(</span><span style="color: rgb(221, 17, 68);">"'"</span><span>).append(value.toString().replace(</span><span style="color: rgb(221, 17, 68);">"'"</span><span>, </span><span style="color: rgb(221, 17, 68);">"''"</span><span>)).append(</span><span style="color: rgb(221, 17, 68);">"',"</span><span>);  
</span><span>                } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">else</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (field.getFieldType().equals(</span><span style="color: rgb(221, 17, 68);">"datetime"</span><span>)) {  
</span><span>                    values.append(</span><span style="color: rgb(221, 17, 68);">"'"</span><span>).append(value).append(</span><span style="color: rgb(221, 17, 68);">"',"</span><span>);  
</span><span>                } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">else</span><span> {  
</span><span>                    values.append(value).append(</span><span style="color: rgb(221, 17, 68);">","</span><span>);  
</span>                }  
            }  
        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Add tenant and audit columns  </span><span>
</span><span>        columns.append(</span><span style="color: rgb(221, 17, 68);">"tenant_id,create_by,create_time"</span><span>);  
</span><span>        values.append(</span><span style="color: rgb(221, 17, 68);">"'"</span><span>).append(tenantId).append(</span><span style="color: rgb(221, 17, 68);">"','"</span><span>)  
</span><span>              .append(username).append(</span><span style="color: rgb(221, 17, 68);">"',NOW()"</span><span>);  
</span>          
<span>        sql.append(columns).append(</span><span style="color: rgb(221, 17, 68);">") VALUES ("</span><span>).append(values).append(</span><span style="color: rgb(221, 17, 68);">")"</span><span>);  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Execute SQL  </span><span>
</span>        jdbcTemplate.execute(sql.toString());  
    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Query form data from the generated table  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> List&lt;Map&lt;String, Object&gt;&gt; queryFormData(String metadataId, Map&lt;String, Object&gt; queryParams, String tenantId) {  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Get form metadata  </span><span>
</span>        FormMetadata metadata = formMetadataMapper.selectByPrimaryKey(metadataId);  
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (metadata == </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">throw</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> ServiceException(</span><span style="color: rgb(221, 17, 68);">"Form metadata not found"</span><span>);  
</span>        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Get table name  </span><span>
</span>        String tableName = metadata.getTableName();  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Build query SQL  </span><span>
</span><span>        StringBuilder sql = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> StringBuilder();  
</span><span>        sql.append(</span><span style="color: rgb(221, 17, 68);">"SELECT * FROM "</span><span>).append(tableName).append(</span><span style="color: rgb(221, 17, 68);">" WHERE tenant_id = '"</span><span>).append(tenantId).append(</span><span style="color: rgb(221, 17, 68);">"'"</span><span>);  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Add query conditions  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (queryParams != </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span> &amp;&amp; !queryParams.isEmpty()) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">for</span><span> (Map.Entry&lt;String, Object&gt; entry : queryParams.entrySet()) {  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (entry.getValue() != </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>) {  
</span><span>                    sql.append(</span><span style="color: rgb(221, 17, 68);">" AND "</span><span>).append(entry.getKey()).append(</span><span style="color: rgb(221, 17, 68);">" = '"</span><span>).append(entry.getValue()).append(</span><span style="color: rgb(221, 17, 68);">"'"</span><span>);  
</span>                }  
            }  
        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Execute query  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> jdbcTemplate.queryForList(sql.toString());  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Additional methods for update, delete, etc.  </span><span>
</span>}</code></pre></pre>
<h4 class="group flex items-center">4. Handling Form Updates</h4>
<p>When a form definition is updated, we need to alter the corresponding table:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 153); font-weight: bold;">@Service</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">FormUpdateService</span><span class="hljs-class"> </span><span>{  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> JdbcTemplate jdbcTemplate;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> FormFieldMetadataMapper fieldMetadataMapper;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Update the physical table when form fields are changed  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Transactional</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">updateTable</span><span class="hljs-function hljs-params">(FormMetadata metadata, List&lt;FormFieldMetadata&gt; oldFields, List&lt;FormFieldMetadata&gt; newFields)</span><span class="hljs-function"> </span><span>{  
</span>        String tableName = metadata.getTableName();  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Find added fields  </span><span>
</span>        List&lt;FormFieldMetadata&gt; addedFields = newFields.stream()  
            .filter(newField -&gt; oldFields.stream()  
                .noneMatch(oldField -&gt; oldField.getFieldName().equals(newField.getFieldName())))  
            .collect(Collectors.toList());  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Find modified fields  </span><span>
</span>        List&lt;FormFieldMetadata&gt; modifiedFields = newFields.stream()  
            .filter(newField -&gt; oldFields.stream()  
                .anyMatch(oldField -&gt; oldField.getFieldName().equals(newField.getFieldName())   
                    &amp;&amp; !oldField.getFieldType().equals(newField.getFieldType())))  
            .collect(Collectors.toList());  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Add new columns  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">for</span><span> (FormFieldMetadata field : addedFields) {  
</span><span>            String sql = </span><span style="color: rgb(221, 17, 68);">"ALTER TABLE "</span><span> + tableName + </span><span style="color: rgb(221, 17, 68);">" ADD COLUMN "</span><span> + field.getColumnName() + </span><span style="color: rgb(221, 17, 68);">" "</span><span>   
</span>                + convertToDbColumnType(field.getFieldType());  
              
<span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (field.getIsRequired() == </span><span style="color: rgb(0, 128, 128);">1</span><span>) {  
</span><span>                sql += </span><span style="color: rgb(221, 17, 68);">" NOT NULL"</span><span>;  
</span><span>            } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">else</span><span> {  
</span><span>                sql += </span><span style="color: rgb(221, 17, 68);">" NULL"</span><span>;  
</span>            }  
              
<span>            sql += </span><span style="color: rgb(221, 17, 68);">" COMMENT '"</span><span> + field.getFieldLabel() + </span><span style="color: rgb(221, 17, 68);">"'"</span><span>;  
</span>              
            jdbcTemplate.execute(sql);  
        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Modify existing columns (with caution - data might be lost)  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">for</span><span> (FormFieldMetadata field : modifiedFields) {  
</span><span>            String sql = </span><span style="color: rgb(221, 17, 68);">"ALTER TABLE "</span><span> + tableName + </span><span style="color: rgb(221, 17, 68);">" MODIFY COLUMN "</span><span> + field.getColumnName() + </span><span style="color: rgb(221, 17, 68);">" "</span><span>   
</span>                + convertToDbColumnType(field.getFieldType());  
              
<span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (field.getIsRequired() == </span><span style="color: rgb(0, 128, 128);">1</span><span>) {  
</span><span>                sql += </span><span style="color: rgb(221, 17, 68);">" NOT NULL"</span><span>;  
</span><span>            } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">else</span><span> {  
</span><span>                sql += </span><span style="color: rgb(221, 17, 68);">" NULL"</span><span>;  
</span>            }  
              
<span>            sql += </span><span style="color: rgb(221, 17, 68);">" COMMENT '"</span><span> + field.getFieldLabel() + </span><span style="color: rgb(221, 17, 68);">"'"</span><span>;  
</span>              
            jdbcTemplate.execute(sql);  
        }  
    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Helper method to convert field type to DB column type (same as in TableGenerationService)  </span><span>
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span class="hljs-function"> String </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">convertToDbColumnType</span><span class="hljs-function hljs-params">(String fieldType)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Implementation same as in TableGenerationService  </span><span>
</span>    }  
}</code></pre></pre>
<h4 class="group flex items-center">5. Integration with Form Publishing Workflow</h4>
<p>We need to integrate table generation into the form publishing workflow:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 153); font-weight: bold;">@Service</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">FormPublishService</span><span class="hljs-class"> </span><span>{  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> FormMetadataMapper formMetadataMapper;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> TableGenerationService tableGenerationService;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Publish a form and generate its physical table  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Transactional</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">publishForm</span><span class="hljs-function hljs-params">(String metadataId, String username)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Get form metadata  </span><span>
</span>        FormMetadata metadata = formMetadataMapper.selectByPrimaryKey(metadataId);  
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (metadata == </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">throw</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> ServiceException(</span><span style="color: rgb(221, 17, 68);">"Form metadata not found"</span><span>);  
</span>        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Check if form is already published  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (metadata.getStatus() == </span><span style="color: rgb(0, 128, 128);">1</span><span>) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">throw</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> ServiceException(</span><span style="color: rgb(221, 17, 68);">"Form is already published"</span><span>);  
</span>        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Generate physical table if not already generated  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (StringUtils.isEmpty(metadata.getTableName())) {  
</span>            tableGenerationService.generateTable(metadata);  
        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Update form status to published  </span><span>
</span><span>        metadata.setStatus(</span><span style="color: rgb(0, 128, 128);">1</span><span>); </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 1 = Published  </span><span>
</span>        metadata.setUpdateBy(username);  
<span>        metadata.setUpdateTime(</span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> Date());  
</span>        formMetadataMapper.updateByPrimaryKey(metadata);  
    }  
}</code></pre></pre>
<h3 class="group flex items-center">Multi-Tenant Considerations  </h3>
<p>Since CrowdMarket is a multi-tenant system, we need to ensure proper data isolation:</p>
<ol>
<li>Each table name includes the tenant ID as part of its name</li>
<li>All queries include a tenant_id filter</li>
<li>Table creation permissions are restricted to system administrators</li>
</ol>
<h3 class="group flex items-center">Advantages of This Approach  </h3>
<ol>
<li><strong>Performance</strong>: Direct table access is faster than JSON parsing</li>
<li><strong>Data Integrity</strong>: Database constraints can enforce data types and required fields</li>
<li><strong>Queryability</strong>: Standard SQL can be used for complex queries</li>
<li><strong>Indexing</strong>: Specific columns can be indexed for faster searches</li>
<li><strong>Integration</strong>: Easier integration with reporting tools and other systems</li>
</ol>
<h3 class="group flex items-center">Potential Challenges  </h3>
<ol>
<li><strong>Schema Evolution</strong>: Handling changes to form definitions after data exists</li>
<li><strong>Database Growth</strong>: Many forms could lead to many tables</li>
<li><strong>Permission Management</strong>: Need to manage database-level permissions</li>
</ol>
<h3 class="group flex items-center">Implementation Steps  </h3>
<ol>
<li>Update the form_metadata table to include the table_name field</li>
<li>Implement the TableGenerationService to create physical tables</li>
<li>Modify the form publishing workflow to generate tables</li>
<li>Implement the FormDataService for CRUD operations on generated tables</li>
<li>Add support for form updates and table alterations</li>
</ol>
<p>This design allows you to maintain the flexibility of a form builder while gaining the performance and integrity benefits of dedicated database tables.</p>
<h2 class="group flex items-center">Notes  </h2>
<p>This solution leverages the existing code generation capabilities in CrowdMarket to dynamically create database tables based on form definitions. It maintains multi-tenant isolation while providing better performance than storing all form data as JSON. The implementation uses JDBC for direct database operations, which gives you full control over the SQL generation process.</p>
<p>Wiki pages you might want to explore:</p>
<ul>
<li><a href="https://deepwiki.com/1211454975/crowdmarket/1-crowdmarket-system-overview">CrowdMarket System Overview</a></li>
<li><a href="https://deepwiki.com/1211454975/crowdmarket/2.1-code-generation-data-model">Code Generation Data Model</a></li>
</ul>
<p>Wiki pages you might want to explore:</p>
<ul>
<li><a href="https://deepwiki.com/1211454975/crowdmarket/1-crowdmarket-system-overview">CrowdMarket System Overview (1211454975/crowdmarket)</a></li>
<li><a href="https://deepwiki.com/1211454975/crowdmarket/2.1-code-generation-data-model">Code Generation Data Model (1211454975/crowdmarket)</a></li>
</ul></div><div class="flex items-center gap-1 text-neutral-300"><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M234,80.12A24,24,0,0,0,216,72H160V56a40,40,0,0,0-40-40,8,8,0,0,0-7.16,4.42L75.06,96H32a16,16,0,0,0-16,16v88a16,16,0,0,0,16,16H204a24,24,0,0,0,23.82-21l12-96A24,24,0,0,0,234,80.12ZM32,112H72v88H32ZM223.94,97l-12,96a8,8,0,0,1-7.94,7H88V105.89l36.71-73.43A24,24,0,0,1,144,56V80a8,8,0,0,0,8,8h64a8,8,0,0,1,7.94,9Z"></path></svg></button><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M239.82,157l-12-96A24,24,0,0,0,204,40H32A16,16,0,0,0,16,56v88a16,16,0,0,0,16,16H75.06l37.78,75.58A8,8,0,0,0,120,240a40,40,0,0,0,40-40V184h56a24,24,0,0,0,23.82-27ZM72,144H32V56H72Zm150,21.29a7.88,7.88,0,0,1-6,2.71H152a8,8,0,0,0-8,8v24a24,24,0,0,1-19.29,23.54L88,150.11V56H204a8,8,0,0,1,7.94,7l12,96A7.87,7.87,0,0,1,222,165.29Z"></path></svg></button></div></div></div></div></div><div class="min-w-0 flex-1 scroll-smooth xl:[flex-grow:3]" style="scrollbar-width: thin; scrollbar-color: rgb(90, 90, 90) transparent; min-height: unset;"><div class="sticky left-0 top-0 overflow-y-auto rounded-md" style="max-height: calc(-55px + 100vh);"><div class="flex flex-col gap-2 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-3 dark:border-[#2f2f2f] dark:bg-[#141414]"><div data-state="closed"><button type="button" aria-controls="radix-«r0»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned multi_tenant.sql</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r0»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r1»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned SysRoleDeptMapper.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r1»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r2»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned pom.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r2»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r3»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned SysDictDataMapper.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r3»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r4»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned GenTable.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r4»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r5»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned SysRoleMapper.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r5»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r6»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned SysUserMapper.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r6»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r7»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned SysJobLogMapper.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r7»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r8»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned GenController.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r8»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r9»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned GenTableColumnMapper.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r9»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«ra»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned pom.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«ra»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«rb»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned GenUtils.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«rb»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«rc»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned GenTableColumn.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«rc»" hidden="" style=""></div></div></div></div></div></div><div class="mb-8 mt-16 h-px w-full bg-neutral-300 dark:bg-neutral-700"></div><div id="5" class="flex flex-col gap-3 pt-8 lg:flex-row" data-query-display="true" data-query-index="4"><div class="flex max-h-fit min-w-0 flex-1 flex-shrink-0 flex-col xl:[flex-grow:2]"><div class=""><div class="flex flex-col"><a class="flex items-center gap-2 text-base text-neutral-400 transition-colors hover:text-black dark:hover:text-white" href="https://deepwiki.com/1211454975/crowdmarket"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"></path></svg>return to 1211454975/crowdmarket</a><div class="flex flex-col items-start gap-2 text-white"><div class="group relative flex items-center"><span class="text-xl xl:text-2xl">为了避免各个租户的业务数据都存储在一个数据库中，请考虑一个方案，为每一个租户提供独立的业务数据库。新建表单时，其数据表应该在这个业务数据库中，这样不同的租户的数据表独立存储在不同的数据库中<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to query"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></span></div></div></div><div class="py-3"><div class="text-primary/70 flex flex-col items-start justify-between text-sm"><div class="mb-1"><div class="inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" viewBox="0 0 256 256" class="mr-1"><path d="M213.85,125.46l-112,120a8,8,0,0,1-13.69-7l14.66-73.33L45.19,143.49a8,8,0,0,1-3-13l112-120a8,8,0,0,1,13.69,7L153.18,90.9l57.63,21.61a8,8,0,0,1,3,12.95Z"></path></svg>Fast</div></div><div class="flex w-full items-center justify-between gap-2"><div class="">Searched across 1211454975/crowdmarket</div></div></div></div><div class="h-fit rounded-lg" style="scrollbar-width: thin; scrollbar-color: rgb(58, 58, 58) transparent;"><div class="dark:[&amp;_pre:has(code)]:bg-shade dark:[&amp;_code[data-lang]]:bg-shade relative flex flex-col gap-1 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-4 text-white [overflow-wrap:anywhere] dark:border-[#2F2F2F] dark:bg-[#141414] [&amp;_pre]:my-3"><div class="prose-custom prose-custom-md prose-custom-gray !max-w-none text-neutral-300 [overflow-wrap:anywhere]"><p>I'll help you design a solution for providing independent business databases for each tenant in the CrowdMarket system.</p>
<h1 class="group flex items-center">Answer  </h1>
<h2 class="group flex items-center">Multi-Database Tenant Isolation Design for Form Management Module  </h2>
<p>Based on your request, I'll design a solution that provides each tenant with their own dedicated business database for storing form data tables. This approach offers stronger isolation compared to the current multi-tenant design where all tenant data is stored in a single database.</p>
<h3 class="group flex items-center">Current Architecture Understanding  </h3>
<p>Currently, the CrowdMarket system uses a shared database approach for multi-tenancy, where tenant data is separated using a <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">tenant_id</code> column in each table. This is evident from the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">sys_company</code> table structure which stores tenant information: <span role="link" tabindex="0" class="bg-pacific/10 text-pacific active:bg-pacific/20 hover:bg-pacific/20 cursor-pointer rounded-md px-[0.25rem] py-[0.12rem] text-xs font-normal leading-[15px] transition-colors duration-100 before:hidden after:hidden" style="font-family: &quot;IBM Plex Mono&quot;, &quot;IBM Plex Mono Fallback&quot;; font-weight: 400; font-style: normal;">multi_tenant.sql:332-336</span></p>
<h3 class="group flex items-center">Proposed Multi-Database Architecture  </h3>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><div class="group relative cursor-pointer overflow-x-auto rounded-md bg-[#f2f1f0] p-4 transition-colors hover:bg-[#ededed] dark:bg-[#1f1f1f] dark:hover:bg-[#242424]" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«r3u»" data-state="closed"><div class="flex justify-center"><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1126.78125 482" style="max-width: 1126.78125px;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-zwjiy3d8gc"><style>#mermaid-zwjiy3d8gc{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-zwjiy3d8gc .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-zwjiy3d8gc .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-zwjiy3d8gc .error-icon{fill:#dddddd;}#mermaid-zwjiy3d8gc .error-text{fill:#222222;stroke:#222222;}#mermaid-zwjiy3d8gc .edge-thickness-normal{stroke-width:1px;}#mermaid-zwjiy3d8gc .edge-thickness-thick{stroke-width:3.5px;}#mermaid-zwjiy3d8gc .edge-pattern-solid{stroke-dasharray:0;}#mermaid-zwjiy3d8gc .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-zwjiy3d8gc .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-zwjiy3d8gc .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-zwjiy3d8gc .marker{fill:#999;stroke:#999;}#mermaid-zwjiy3d8gc .marker.cross{stroke:#999;}#mermaid-zwjiy3d8gc svg{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px;}#mermaid-zwjiy3d8gc p{margin:0;}#mermaid-zwjiy3d8gc .label{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;color:#333;}#mermaid-zwjiy3d8gc .cluster-label text{fill:#444;}#mermaid-zwjiy3d8gc .cluster-label span{color:#444;}#mermaid-zwjiy3d8gc .cluster-label span p{background-color:transparent;}#mermaid-zwjiy3d8gc .label text,#mermaid-zwjiy3d8gc span{fill:#333;color:#333;}#mermaid-zwjiy3d8gc .node rect,#mermaid-zwjiy3d8gc .node circle,#mermaid-zwjiy3d8gc .node ellipse,#mermaid-zwjiy3d8gc .node polygon,#mermaid-zwjiy3d8gc .node path{fill:#ffffff;stroke:#dddddd;stroke-width:1px;}#mermaid-zwjiy3d8gc .rough-node .label text,#mermaid-zwjiy3d8gc .node .label text,#mermaid-zwjiy3d8gc .image-shape .label,#mermaid-zwjiy3d8gc .icon-shape .label{text-anchor:middle;}#mermaid-zwjiy3d8gc .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-zwjiy3d8gc .rough-node .label,#mermaid-zwjiy3d8gc .node .label,#mermaid-zwjiy3d8gc .image-shape .label,#mermaid-zwjiy3d8gc .icon-shape .label{text-align:center;}#mermaid-zwjiy3d8gc .node.clickable{cursor:pointer;}#mermaid-zwjiy3d8gc .root .anchor path{fill:#999!important;stroke-width:0;stroke:#999;}#mermaid-zwjiy3d8gc .arrowheadPath{fill:#0b0b0b;}#mermaid-zwjiy3d8gc .edgePath .path{stroke:#999;stroke-width:2.0px;}#mermaid-zwjiy3d8gc .flowchart-link{stroke:#999;fill:none;}#mermaid-zwjiy3d8gc .edgeLabel{background-color:#ffffff;text-align:center;}#mermaid-zwjiy3d8gc .edgeLabel p{background-color:#ffffff;}#mermaid-zwjiy3d8gc .edgeLabel rect{opacity:0.5;background-color:#ffffff;fill:#ffffff;}#mermaid-zwjiy3d8gc .labelBkg{background-color:rgba(255, 255, 255, 0.5);}#mermaid-zwjiy3d8gc .cluster rect{fill:#f8f8f8;stroke:#dddddd;stroke-width:1px;}#mermaid-zwjiy3d8gc .cluster text{fill:#444;}#mermaid-zwjiy3d8gc .cluster span{color:#444;}#mermaid-zwjiy3d8gc div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:12px;background:#dddddd;border:1px solid hsl(0, 0%, 76.6666666667%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-zwjiy3d8gc .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-zwjiy3d8gc rect.text{fill:none;stroke-width:0;}#mermaid-zwjiy3d8gc .icon-shape,#mermaid-zwjiy3d8gc .image-shape{background-color:#ffffff;text-align:center;}#mermaid-zwjiy3d8gc .icon-shape p,#mermaid-zwjiy3d8gc .image-shape p{background-color:#ffffff;padding:2px;}#mermaid-zwjiy3d8gc .icon-shape rect,#mermaid-zwjiy3d8gc .image-shape rect{opacity:0.5;background-color:#ffffff;fill:#ffffff;}#mermaid-zwjiy3d8gc :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-zwjiy3d8gc_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-zwjiy3d8gc_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-zwjiy3d8gc_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-zwjiy3d8gc_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-zwjiy3d8gc_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-zwjiy3d8gc_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"><g data-look="classic" id="subGraph1" class="cluster"><rect height="233" width="746.609375" y="241" x="8" style=""></rect><g transform="translate(314.15625, 241)" class="cluster-label"><foreignobject height="24" width="134.296875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Tenant Databases</p></span></div></foreignobject></g></g><g data-look="classic" id="subGraph0" class="cluster"><rect height="337" width="344.171875" y="8" x="774.609375" style=""></rect><g transform="translate(881.4453125, 8)" class="cluster-label"><foreignobject height="24" width="130.5"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>System Database</p></span></div></foreignobject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid-zwjiy3d8gc_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M948.555,87L956.27,91.167C963.984,95.333,979.414,103.667,987.129,111.333C994.844,119,994.844,126,994.844,129.5L994.844,133"></path><path marker-end="url(#mermaid-zwjiy3d8gc_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_C_0" d="M994.844,191L994.844,195.167C994.844,199.333,994.844,207.667,994.844,216C994.844,224.333,994.844,232.667,994.844,240.333C994.844,248,994.844,255,994.844,258.5L994.844,262"></path><path marker-end="url(#mermaid-zwjiy3d8gc_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_D1_0" d="M127.887,320L127.887,324.167C127.887,328.333,127.887,336.667,127.887,345C127.887,353.333,127.887,361.667,128.645,369.348C129.403,377.03,130.919,384.06,131.677,387.575L132.435,391.09"></path><path marker-end="url(#mermaid-zwjiy3d8gc_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_E1_0" d="M347.66,320L347.66,324.167C347.66,328.333,347.66,336.667,347.66,345C347.66,353.333,347.66,361.667,349.994,369.44C352.328,377.214,356.995,384.428,359.329,388.035L361.663,391.642"></path><path marker-end="url(#mermaid-zwjiy3d8gc_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_F1_0" d="M568.34,320L568.34,324.167C568.34,328.333,568.34,336.667,568.34,345C568.34,353.333,568.34,361.667,572.275,369.543C576.211,377.419,584.081,384.838,588.017,388.547L591.952,392.256"></path><path marker-end="url(#mermaid-zwjiy3d8gc_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_D_0" d="M866.382,87L861.416,91.167C856.45,95.333,846.518,103.667,841.552,116.5C836.586,129.333,836.586,146.667,836.586,164C836.586,181.333,836.586,198.667,836.586,211.5C836.586,224.333,836.586,232.667,731.413,244.55C626.24,256.434,415.894,271.868,310.721,279.585L205.548,287.302"></path><path marker-end="url(#mermaid-zwjiy3d8gc_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_E_0" d="M876.767,87L873.403,91.167C870.04,95.333,863.313,103.667,859.949,116.5C856.586,129.333,856.586,146.667,856.586,164C856.586,181.333,856.586,198.667,856.586,211.5C856.586,224.333,856.586,232.667,784.707,244.178C712.828,255.689,569.07,270.377,497.19,277.722L425.311,285.066"></path><path marker-end="url(#mermaid-zwjiy3d8gc_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_F_0" d="M887.156,87L885.395,91.167C883.635,95.333,880.114,103.667,878.354,116.5C876.594,129.333,876.594,146.667,876.594,164C876.594,181.333,876.594,198.667,876.594,211.5C876.594,224.333,876.594,232.667,838.456,243.267C800.319,253.867,724.044,266.734,685.906,273.168L647.768,279.601"></path><path marker-end="url(#mermaid-zwjiy3d8gc_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_D1_0" d="M953.756,320L947.415,324.167C941.074,328.333,928.392,336.667,811.134,345C693.875,353.333,472.039,361.667,352.823,369.717C233.606,377.768,217.009,385.536,208.71,389.42L200.412,393.304"></path><path marker-end="url(#mermaid-zwjiy3d8gc_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_E1_0" d="M994.844,320L994.844,324.167C994.844,328.333,994.844,336.667,911.104,345C827.365,353.333,659.885,361.667,567.847,369.717C475.809,377.768,459.212,385.536,450.913,389.42L442.615,393.304"></path><path marker-end="url(#mermaid-zwjiy3d8gc_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_F1_0" d="M1027.02,320L1031.985,324.167C1036.951,328.333,1046.882,336.667,988.888,345C930.895,353.333,804.977,361.667,738.053,369.544C671.13,377.422,663.201,384.844,659.236,388.555L655.272,392.266"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g></g><g class="nodes"><g transform="translate(898.5625, 60)" id="flowchart-A-0" class="node default"><rect height="54" width="177.90625" y="-27" x="-88.953125" style="" class="basic label-container"></rect><g transform="translate(-58.953125, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="117.90625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Tenant Registry</p></span></div></foreignobject></g></g><g transform="translate(994.84375, 164)" id="flowchart-B-1" class="node default"><rect height="54" width="166.5" y="-27" x="-83.25" style="" class="basic label-container"></rect><g transform="translate(-53.25, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="106.5"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>System Tables</p></span></div></foreignobject></g></g><g transform="translate(994.84375, 293)" id="flowchart-C-3" class="node default"><rect height="54" width="177.875" y="-27" x="-88.9375" style="" class="basic label-container"></rect><g transform="translate(-58.9375, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="117.875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Form Metadata</p></span></div></foreignobject></g></g><g transform="translate(127.88671875, 293)" id="flowchart-D-4" class="node default"><rect height="54" width="147.34375" y="-27" x="-73.671875" style="" class="basic label-container"></rect><g transform="translate(-43.671875, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="87.34375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Tenant1 DB</p></span></div></foreignobject></g></g><g transform="translate(139.1015625, 422)" id="flowchart-D1-5" class="node default"><rect height="54" width="192.203125" y="-27" x="-96.1015625" style="" class="basic label-container"></rect><g transform="translate(-66.1015625, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="132.203125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Form Data Tables</p></span></div></foreignobject></g></g><g transform="translate(347.66015625, 293)" id="flowchart-E-6" class="node default"><rect height="54" width="147.34375" y="-27" x="-73.671875" style="" class="basic label-container"></rect><g transform="translate(-43.671875, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="87.34375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Tenant2 DB</p></span></div></foreignobject></g></g><g transform="translate(381.3046875, 422)" id="flowchart-E1-7" class="node default"><rect height="54" width="192.203125" y="-27" x="-96.1015625" style="" class="basic label-container"></rect><g transform="translate(-66.1015625, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="132.203125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Form Data Tables</p></span></div></foreignobject></g></g><g transform="translate(568.33984375, 293)" id="flowchart-F-8" class="node default"><rect height="54" width="150.96875" y="-27" x="-75.484375" style="" class="basic label-container"></rect><g transform="translate(-45.484375, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="90.96875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>TenantN DB</p></span></div></foreignobject></g></g><g transform="translate(623.5078125, 422)" id="flowchart-F1-9" class="node default"><rect height="54" width="192.203125" y="-27" x="-96.1015625" style="" class="basic label-container"></rect><g transform="translate(-66.1015625, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="132.203125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Form Data Tables</p></span></div></foreignobject></g></g></g></g></g></svg></div><div class="bg-input-dark absolute right-2 top-2 rounded-sm p-1 opacity-0 transition-opacity group-hover:opacity-100"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="light:text-gray-800 text-white dark:text-white"><path d="M216,48V96a8,8,0,0,1-16,0V67.31l-42.34,42.35a8,8,0,0,1-11.32-11.32L188.69,56H160a8,8,0,0,1,0-16h48A8,8,0,0,1,216,48ZM98.34,146.34,56,188.69V160a8,8,0,0,0-16,0v48a8,8,0,0,0,8,8H96a8,8,0,0,0,0-16H67.31l42.35-42.34a8,8,0,0,0-11.32-11.32ZM208,152a8,8,0,0,0-8,8v28.69l-42.34-42.35a8,8,0,0,0-11.32,11.32L188.69,200H160a8,8,0,0,0,0,16h48a8,8,0,0,0,8-8V160A8,8,0,0,0,208,152ZM67.31,56H96a8,8,0,0,0,0-16H48a8,8,0,0,0-8,8V96a8,8,0,0,0,16,0V67.31l42.34,42.35a8,8,0,0,0,11.32-11.32Z"></path></svg></div></div></pre>
<h3 class="group flex items-center">Implementation Components  </h3>
<h4 class="group flex items-center">1. Tenant Database Registry</h4>
<p>First, we need to create a registry to track tenant databases:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `tenant_database` (  
</span><span>  `id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'主键ID'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  `db_name` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'数据库名称'</span><span>,  
</span><span>  `db_host` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'数据库主机'</span><span>,  
</span><span>  `db_port` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">int</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'数据库端口'</span><span>,  
</span><span>  `db_username` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'数据库用户名'</span><span>,  
</span><span>  `db_password` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">255</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'数据库密码(加密)'</span><span>,  
</span><span>  `status` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'1'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'状态(0停用,1启用)'</span><span>,  
</span><span>  `create_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建时间'</span><span>,  
</span><span>  `update_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新时间'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`id`),  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">UNIQUE</span><span> KEY `uk_tenant_id` (`tenant_id`)  
</span><span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'租户数据库配置表'</span><span>;</span></code></pre></pre>
<h4 class="group flex items-center">2. Dynamic DataSource Management</h4>
<p>We'll need a service to manage database connections dynamically:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 153); font-weight: bold;">@Service</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">TenantDatabaseService</span><span class="hljs-class"> </span><span>{  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> TenantDatabaseMapper tenantDatabaseMapper;  
</span>      
<span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> Map&lt;String, DataSource&gt; tenantDataSources = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> ConcurrentHashMap&lt;&gt;();  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Get or create a DataSource for a specific tenant  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> DataSource </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">getTenantDataSource</span><span class="hljs-function hljs-params">(String tenantId)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Check if DataSource already exists in cache  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (tenantDataSources.containsKey(tenantId)) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> tenantDataSources.get(tenantId);  
</span>        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Get tenant database configuration  </span><span>
</span>        TenantDatabase tenantDb = tenantDatabaseMapper.selectByTenantId(tenantId);  
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (tenantDb == </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">throw</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> ServiceException(</span><span style="color: rgb(221, 17, 68);">"Tenant database configuration not found"</span><span>);  
</span>        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Create new DataSource  </span><span>
</span><span>        HikariConfig config = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> HikariConfig();  
</span><span>        config.setJdbcUrl(</span><span style="color: rgb(221, 17, 68);">"jdbc:mysql://"</span><span> + tenantDb.getDbHost() + </span><span style="color: rgb(221, 17, 68);">":"</span><span> + tenantDb.getDbPort() + </span><span style="color: rgb(221, 17, 68);">"/"</span><span> + tenantDb.getDbName());  
</span>        config.setUsername(tenantDb.getDbUsername());  
        config.setPassword(decryptPassword(tenantDb.getDbPassword()));  
<span>        config.setDriverClassName(</span><span style="color: rgb(221, 17, 68);">"com.mysql.cj.jdbc.Driver"</span><span>);  
</span>          
<span>        DataSource dataSource = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> HikariDataSource(config);  
</span>        tenantDataSources.put(tenantId, dataSource);  
          
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> dataSource;  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Create a new database for a tenant  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Transactional</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">createTenantDatabase</span><span class="hljs-function hljs-params">(String tenantId, String companyName)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Generate database name (e.g., cm_tenant_123)  </span><span>
</span><span>        String dbName = </span><span style="color: rgb(221, 17, 68);">"cm_tenant_"</span><span> + tenantId.replaceAll(</span><span style="color: rgb(221, 17, 68);">"[^a-zA-Z0-9]"</span><span>, </span><span style="color: rgb(221, 17, 68);">"_"</span><span>);  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Get system database connection  </span><span>
</span><span>        JdbcTemplate jdbcTemplate = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> JdbcTemplate(dataSource);  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Create new database  </span><span>
</span><span>        jdbcTemplate.execute(</span><span style="color: rgb(221, 17, 68);">"CREATE DATABASE IF NOT EXISTS "</span><span> + dbName + </span><span style="color: rgb(221, 17, 68);">" CHARACTER SET utf8 COLLATE utf8_general_ci"</span><span>);  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Save tenant database configuration  </span><span>
</span><span>        TenantDatabase tenantDb = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> TenantDatabase();  
</span>        tenantDb.setId(IdUtils.fastUUID());  
        tenantDb.setTenantId(tenantId);  
        tenantDb.setDbName(dbName);  
<span>        tenantDb.setDbHost(</span><span style="color: rgb(221, 17, 68);">"localhost"</span><span>); </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Use configuration for production  </span><span>
</span><span>        tenantDb.setDbPort(</span><span style="color: rgb(0, 128, 128);">3306</span><span>);        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Use configuration for production  </span><span>
</span><span>        tenantDb.setDbUsername(</span><span style="color: rgb(221, 17, 68);">"tenant_user"</span><span>); </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Use secure credentials  </span><span>
</span><span>        tenantDb.setDbPassword(encryptPassword(</span><span style="color: rgb(221, 17, 68);">"tenant_password"</span><span>)); </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Use secure credentials  </span><span>
</span><span>        tenantDb.setStatus(</span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span><span>        tenantDb.setCreateTime(</span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> Date());  
</span>          
        tenantDatabaseMapper.insert(tenantDb);  
    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Helper methods for password encryption/decryption  </span><span>
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span class="hljs-function"> String </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">encryptPassword</span><span class="hljs-function hljs-params">(String password)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Implement secure encryption  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> password; </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Placeholder  </span><span>
</span>    }  
      
<span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span class="hljs-function"> String </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">decryptPassword</span><span class="hljs-function hljs-params">(String encryptedPassword)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Implement secure decryption  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> encryptedPassword; </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Placeholder  </span><span>
</span>    }  
}</code></pre></pre>
<h4 class="group flex items-center">3. Modified Table Generation Service</h4>
<p>Now we'll modify the table generation service to create tables in tenant-specific databases:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 153); font-weight: bold;">@Service</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">TableGenerationService</span><span class="hljs-class"> </span><span>{  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> TenantDatabaseService tenantDatabaseService;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> FormFieldMetadataMapper fieldMetadataMapper;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Generate a physical database table in tenant-specific database  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Transactional</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">generateTable</span><span class="hljs-function hljs-params">(FormMetadata metadata)</span><span class="hljs-function"> </span><span>{  
</span>        String tenantId = metadata.getTenantId();  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Get tenant-specific DataSource  </span><span>
</span>        DataSource tenantDataSource = tenantDatabaseService.getTenantDataSource(tenantId);  
<span>        JdbcTemplate tenantJdbcTemplate = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> JdbcTemplate(tenantDataSource);  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Generate table name (without tenant prefix since it's in a tenant-specific database)  </span><span>
</span><span>        String tableName = </span><span style="color: rgb(221, 17, 68);">"form_data_"</span><span> + metadata.getMetadataId().replace(</span><span style="color: rgb(221, 17, 68);">"-"</span><span>, </span><span style="color: rgb(221, 17, 68);">"_"</span><span>);  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Get all fields for this form  </span><span>
</span>        List&lt;FormFieldMetadata&gt; fields = fieldMetadataMapper.selectByMetadataId(metadata.getMetadataId());  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Build CREATE TABLE SQL  </span><span>
</span><span>        StringBuilder sql = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> StringBuilder();  
</span><span>        sql.append(</span><span style="color: rgb(221, 17, 68);">"CREATE TABLE "</span><span>).append(tableName).append(</span><span style="color: rgb(221, 17, 68);">" ("</span><span>);  
</span><span>        sql.append(</span><span style="color: rgb(221, 17, 68);">"id VARCHAR(36) NOT NULL COMMENT 'Primary Key',"</span><span>);  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Add columns for each field  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">for</span><span> (FormFieldMetadata field : fields) {  
</span><span>            sql.append(field.getColumnName()).append(</span><span style="color: rgb(221, 17, 68);">" "</span><span>);  
</span><span>            sql.append(convertToDbColumnType(field.getFieldType())).append(</span><span style="color: rgb(221, 17, 68);">" "</span><span>);  
</span>              
<span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (field.getIsRequired() == </span><span style="color: rgb(0, 128, 128);">1</span><span>) {  
</span><span>                sql.append(</span><span style="color: rgb(221, 17, 68);">"NOT NULL "</span><span>);  
</span><span>            } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">else</span><span> {  
</span><span>                sql.append(</span><span style="color: rgb(221, 17, 68);">"NULL "</span><span>);  
</span>            }  
              
<span>            sql.append(</span><span style="color: rgb(221, 17, 68);">"COMMENT '"</span><span>).append(field.getFieldLabel()).append(</span><span style="color: rgb(221, 17, 68);">"',"</span><span>);  
</span>        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Add standard audit columns (no need for tenant_id since it's in a tenant-specific database)  </span><span>
</span><span>        sql.append(</span><span style="color: rgb(221, 17, 68);">"create_by VARCHAR(64) DEFAULT '' COMMENT 'Creator',"</span><span>);  
</span><span>        sql.append(</span><span style="color: rgb(221, 17, 68);">"create_time DATETIME COMMENT 'Create Time',"</span><span>);  
</span><span>        sql.append(</span><span style="color: rgb(221, 17, 68);">"update_by VARCHAR(64) DEFAULT '' COMMENT 'Updater',"</span><span>);  
</span><span>        sql.append(</span><span style="color: rgb(221, 17, 68);">"update_time DATETIME COMMENT 'Update Time',"</span><span>);  
</span><span>        sql.append(</span><span style="color: rgb(221, 17, 68);">"PRIMARY KEY (id)"</span><span>);  
</span><span>        sql.append(</span><span style="color: rgb(221, 17, 68);">") ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='"</span><span>).append(metadata.getMetadataDesc()).append(</span><span style="color: rgb(221, 17, 68);">"'"</span><span>);  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Execute the SQL to create the table in tenant database  </span><span>
</span>        tenantJdbcTemplate.execute(sql.toString());  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Update the form metadata with the generated table name  </span><span>
</span>        metadata.setTableName(tableName);  
        formMetadataMapper.updateFormMetadata(metadata);  
    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Convert form field type to database column type  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span class="hljs-function"> String </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">convertToDbColumnType</span><span class="hljs-function hljs-params">(String fieldType)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">switch</span><span> (fieldType) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">case</span><span> </span><span style="color: rgb(221, 17, 68);">"string"</span><span>:  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(221, 17, 68);">"VARCHAR(255)"</span><span>;  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">case</span><span> </span><span style="color: rgb(221, 17, 68);">"text"</span><span>:  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(221, 17, 68);">"TEXT"</span><span>;  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">case</span><span> </span><span style="color: rgb(221, 17, 68);">"integer"</span><span>:  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(221, 17, 68);">"INT"</span><span>;  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">case</span><span> </span><span style="color: rgb(221, 17, 68);">"number"</span><span>:  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(221, 17, 68);">"DECIMAL(19,4)"</span><span>;  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">case</span><span> </span><span style="color: rgb(221, 17, 68);">"datetime"</span><span>:  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(221, 17, 68);">"DATETIME"</span><span>;  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">case</span><span> </span><span style="color: rgb(221, 17, 68);">"boolean"</span><span>:  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(221, 17, 68);">"TINYINT(1)"</span><span>;  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">default</span><span>:  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(221, 17, 68);">"VARCHAR(255)"</span><span>;  
</span>        }  
    }  
}</code></pre></pre>
<h4 class="group flex items-center">4. Modified Form Data Service</h4>
<p>The form data service needs to be updated to work with tenant-specific databases:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 153); font-weight: bold;">@Service</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">FormDataService</span><span class="hljs-class"> </span><span>{  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> FormMetadataMapper formMetadataMapper;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> TenantDatabaseService tenantDatabaseService;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Save form data to the tenant-specific database table  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Transactional</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">saveFormData</span><span class="hljs-function hljs-params">(String metadataId, Map&lt;String, Object&gt; formData, String tenantId, String username)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Get form metadata  </span><span>
</span>        FormMetadata metadata = formMetadataMapper.selectByPrimaryKey(metadataId);  
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (metadata == </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">throw</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> ServiceException(</span><span style="color: rgb(221, 17, 68);">"Form metadata not found"</span><span>);  
</span>        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Get table name  </span><span>
</span>        String tableName = metadata.getTableName();  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Get tenant-specific DataSource  </span><span>
</span>        DataSource tenantDataSource = tenantDatabaseService.getTenantDataSource(tenantId);  
<span>        JdbcTemplate tenantJdbcTemplate = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> JdbcTemplate(tenantDataSource);  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Build INSERT SQL  </span><span>
</span><span>        StringBuilder sql = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> StringBuilder();  
</span><span>        StringBuilder columns = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> StringBuilder();  
</span><span>        StringBuilder values = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> StringBuilder();  
</span>          
<span>        sql.append(</span><span style="color: rgb(221, 17, 68);">"INSERT INTO "</span><span>).append(tableName).append(</span><span style="color: rgb(221, 17, 68);">" ("</span><span>);  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Add id column  </span><span>
</span>        String id = IdUtils.fastUUID();  
<span>        columns.append(</span><span style="color: rgb(221, 17, 68);">"id,"</span><span>);  
</span><span>        values.append(</span><span style="color: rgb(221, 17, 68);">"'"</span><span>).append(id).append(</span><span style="color: rgb(221, 17, 68);">"',"</span><span>);  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Add data columns  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">for</span><span> (FormFieldMetadata field : metadata.getFields()) {  
</span>            String columnName = field.getColumnName();  
            Object value = formData.get(field.getFieldName());  
              
<span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (value != </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>) {  
</span><span>                columns.append(columnName).append(</span><span style="color: rgb(221, 17, 68);">","</span><span>);  
</span>                  
<span>                </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Format value based on field type  </span><span>
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (field.getFieldType().equals(</span><span style="color: rgb(221, 17, 68);">"string"</span><span>) || field.getFieldType().equals(</span><span style="color: rgb(221, 17, 68);">"text"</span><span>)) {  
</span><span>                    values.append(</span><span style="color: rgb(221, 17, 68);">"'"</span><span>).append(value.toString().replace(</span><span style="color: rgb(221, 17, 68);">"'"</span><span>, </span><span style="color: rgb(221, 17, 68);">"''"</span><span>)).append(</span><span style="color: rgb(221, 17, 68);">"',"</span><span>);  
</span><span>                } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">else</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (field.getFieldType().equals(</span><span style="color: rgb(221, 17, 68);">"datetime"</span><span>)) {  
</span><span>                    values.append(</span><span style="color: rgb(221, 17, 68);">"'"</span><span>).append(value).append(</span><span style="color: rgb(221, 17, 68);">"',"</span><span>);  
</span><span>                } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">else</span><span> {  
</span><span>                    values.append(value).append(</span><span style="color: rgb(221, 17, 68);">","</span><span>);  
</span>                }  
            }  
        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Add audit columns (no tenant_id needed)  </span><span>
</span><span>        columns.append(</span><span style="color: rgb(221, 17, 68);">"create_by,create_time"</span><span>);  
</span><span>        values.append(</span><span style="color: rgb(221, 17, 68);">"'"</span><span>).append(username).append(</span><span style="color: rgb(221, 17, 68);">"',NOW()"</span><span>);  
</span>          
<span>        sql.append(columns).append(</span><span style="color: rgb(221, 17, 68);">") VALUES ("</span><span>).append(values).append(</span><span style="color: rgb(221, 17, 68);">")"</span><span>);  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Execute SQL in tenant database  </span><span>
</span>        tenantJdbcTemplate.execute(sql.toString());  
    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Query form data from the tenant-specific database  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> List&lt;Map&lt;String, Object&gt;&gt; queryFormData(String metadataId, Map&lt;String, Object&gt; queryParams, String tenantId) {  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Get form metadata  </span><span>
</span>        FormMetadata metadata = formMetadataMapper.selectByPrimaryKey(metadataId);  
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (metadata == </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">throw</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> ServiceException(</span><span style="color: rgb(221, 17, 68);">"Form metadata not found"</span><span>);  
</span>        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Get table name  </span><span>
</span>        String tableName = metadata.getTableName();  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Get tenant-specific DataSource  </span><span>
</span>        DataSource tenantDataSource = tenantDatabaseService.getTenantDataSource(tenantId);  
<span>        JdbcTemplate tenantJdbcTemplate = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> JdbcTemplate(tenantDataSource);  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Build query SQL  </span><span>
</span><span>        StringBuilder sql = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> StringBuilder();  
</span><span>        sql.append(</span><span style="color: rgb(221, 17, 68);">"SELECT * FROM "</span><span>).append(tableName);  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Add query conditions  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (queryParams != </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span> &amp;&amp; !queryParams.isEmpty()) {  
</span><span>            sql.append(</span><span style="color: rgb(221, 17, 68);">" WHERE "</span><span>);  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">boolean</span><span> first = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">true</span><span>;  
</span>              
<span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">for</span><span> (Map.Entry&lt;String, Object&gt; entry : queryParams.entrySet()) {  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (entry.getValue() != </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>) {  
</span><span>                    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (!first) {  
</span><span>                        sql.append(</span><span style="color: rgb(221, 17, 68);">" AND "</span><span>);  
</span>                    }  
<span>                    sql.append(entry.getKey()).append(</span><span style="color: rgb(221, 17, 68);">" = '"</span><span>).append(entry.getValue()).append(</span><span style="color: rgb(221, 17, 68);">"'"</span><span>);  
</span><span>                    first = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">false</span><span>;  
</span>                }  
            }  
        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Execute query in tenant database  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> tenantJdbcTemplate.queryForList(sql.toString());  
</span>    }  
}</code></pre></pre>
<h4 class="group flex items-center">5. Tenant Provisioning Integration</h4>
<p>We need to integrate tenant database creation with the tenant provisioning process:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 153); font-weight: bold;">@Service</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">TenantProvisioningService</span><span class="hljs-class"> </span><span>{  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> SysCompanyMapper companyMapper;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> TenantDatabaseService tenantDatabaseService;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Provision a new tenant with its own database  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Transactional</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">provisionTenant</span><span class="hljs-function hljs-params">(SysCompany company)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Save company information  </span><span>
</span>        companyMapper.insertSysCompany(company);  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Create tenant-specific database  </span><span>
</span>        tenantDatabaseService.createTenantDatabase(company.getId(), company.getCompanyName());  
    }  
}</code></pre></pre>
<h3 class="group flex items-center">Database Connection Pool Management  </h3>
<p>To efficiently manage multiple database connections, we'll use a connection pool manager:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 153); font-weight: bold;">@Configuration</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">MultiTenantDataSourceConfig</span><span class="hljs-class"> </span><span>{  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> TenantDatabaseService tenantDatabaseService;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Create a routing data source that selects the appropriate tenant database  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Bean</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Primary</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> DataSource </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">dataSource</span><span class="hljs-function hljs-params">()</span><span class="hljs-function"> </span><span>{  
</span><span>        AbstractRoutingDataSource routingDataSource = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> AbstractRoutingDataSource() {  
</span><span>            </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Override</span><span>  
</span><span>            </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">protected</span><span class="hljs-function"> Object </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">determineCurrentLookupKey</span><span class="hljs-function hljs-params">()</span><span class="hljs-function"> </span><span>{  
</span><span>                </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Get current tenant ID from security context or thread local  </span><span>
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> SecurityUtils.getTenantId();  
</span>            }  
        };  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Set default target DataSource (system database)  </span><span>
</span>        routingDataSource.setDefaultTargetDataSource(defaultDataSource());  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Initialize with empty target DataSources (will be added dynamically)  </span><span>
</span><span>        routingDataSource.setTargetDataSources(</span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> HashMap&lt;&gt;());  
</span>          
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> routingDataSource;  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Default system database  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Bean</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> DataSource </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">defaultDataSource</span><span class="hljs-function hljs-params">()</span><span class="hljs-function"> </span><span>{  
</span><span>        HikariConfig config = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> HikariConfig();  
</span><span>        config.setJdbcUrl(</span><span style="color: rgb(221, 17, 68);">"jdbc:mysql://localhost:3306/crowdmarket"</span><span>);  
</span><span>        config.setUsername(</span><span style="color: rgb(221, 17, 68);">"root"</span><span>);  
</span><span>        config.setPassword(</span><span style="color: rgb(221, 17, 68);">"password"</span><span>);  
</span><span>        config.setDriverClassName(</span><span style="color: rgb(221, 17, 68);">"com.mysql.cj.jdbc.Driver"</span><span>);  
</span>          
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> HikariDataSource(config);  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">       
</span><span style="color: rgb(153, 153, 136); font-style: italic;">  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">Wiki pages you might want to explore:  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">- [Code Generation Service Layer (1211454975/crowdmarket)](/wiki/1211454975/crowdmarket#2.3)</span></code></pre></pre></div><div class="flex items-center gap-1 text-neutral-300"><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M234,80.12A24,24,0,0,0,216,72H160V56a40,40,0,0,0-40-40,8,8,0,0,0-7.16,4.42L75.06,96H32a16,16,0,0,0-16,16v88a16,16,0,0,0,16,16H204a24,24,0,0,0,23.82-21l12-96A24,24,0,0,0,234,80.12ZM32,112H72v88H32ZM223.94,97l-12,96a8,8,0,0,1-7.94,7H88V105.89l36.71-73.43A24,24,0,0,1,144,56V80a8,8,0,0,0,8,8h64a8,8,0,0,1,7.94,9Z"></path></svg></button><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M239.82,157l-12-96A24,24,0,0,0,204,40H32A16,16,0,0,0,16,56v88a16,16,0,0,0,16,16H75.06l37.78,75.58A8,8,0,0,0,120,240a40,40,0,0,0,40-40V184h56a24,24,0,0,0,23.82-27ZM72,144H32V56H72Zm150,21.29a7.88,7.88,0,0,1-6,2.71H152a8,8,0,0,0-8,8v24a24,24,0,0,1-19.29,23.54L88,150.11V56H204a8,8,0,0,1,7.94,7l12,96A7.87,7.87,0,0,1,222,165.29Z"></path></svg></button></div></div></div></div></div><div class="min-w-0 flex-1 scroll-smooth xl:[flex-grow:3]" style="scrollbar-width: thin; scrollbar-color: rgb(90, 90, 90) transparent; min-height: unset;"><div class="sticky left-0 top-0 overflow-y-auto rounded-md" style="max-height: calc(-55px + 100vh);"><div class="flex flex-col gap-3 p-0 pb-[90px]"><div id="file-Repo 1211454975/crowdmarket: sql/multi_tenant.sql" class="flex flex-col gap-2 scroll-smooth rounded-md" style="content-visibility: auto;"><div class="scrollbar-hide relative w-full p-0 ring-1 ring-neutral-800 rounded-sm"><div class="bg-secondary dark:bg-surface sticky top-0 z-10 flex w-full items-center justify-between px-3 py-1.5 text-sm text-neutral-300 rounded-t-sm"><div class="flex min-w-0 grow items-center gap-2"><button><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z"></path></svg></button><div class="[&amp;_svg_path]:fill-current size-4 flex-shrink-0" style="fill: rgb(245, 83, 133); height: 20px; width: 20px;"><svg viewBox="0 0 32 32"><path d="M16.4 14c-2.4 0-4.7-.1-7-.6-.6-.1-1.1-.4-1.7-.6-.3-.1-.4-.3-.4-.6V8.7c0-.2.1-.4.3-.4.7-.3 1.3-.6 2-.7C12.1 7 14.5 7 17 7c2 0 4.1.2 6 .7.4.1.9.3 1.3.5.3.1.4.3.4.6v3.5c0 .2-.2.4-.3.5-.4.2-.8.4-1.2.5-1.4.2-2.8.5-4.2.6-.9.1-1.8 0-2.6.1zm8.3.2v3.6c0 .2-.3.5-.5.5-.6.2-1.3.5-1.9.6-2.8.5-5.7.6-8.6.5-1.6-.1-3.3-.2-4.9-.7-.4-.1-.8-.3-1.2-.5-.2-.1-.3-.3-.3-.5v-3.5c2.9 1 5.8 1.1 8.7 1.1 2.9.1 5.8-.1 8.7-1.1zm0 5.6v3.5c0 .2-.3.5-.5.6-.8.3-1.6.6-2.4.7-4 .6-8 .6-12.1-.1-.7-.1-1.4-.4-2-.6-.3-.1-.4-.3-.4-.7v-3.4c2.8 1 5.7 1.1 8.7 1.1 2.9 0 5.8-.1 8.7-1.1z"></path></svg></div><a href="https://github.com/1211454975/crowdmarket" target="_blank" rel="noreferrer" class="cursor-pointer truncate text-neutral-500 hover:underline">1211454975/crowdmarket</a><a href="https://github.com/1211454975/crowdmarket/blob/f24a6f5e/sql/multi_tenant.sql" target="_blank" rel="noreferrer" class="cursor-pointer truncate text-black dark:text-neutral-300 hover:underline">sql/multi_tenant.sql</a><button><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4 text-neutral-500"><path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z"></path></svg></button></div></div><div class="scrollbar-hide grid overflow-auto scroll-smooth"><button class="h-5 w-full cursor-pointer bg-[#f0f0f0] hover:bg-[#e0e0e0] dark:bg-neutral-800 dark:hover:bg-neutral-700/80"><div class="flex h-full items-center gap-1.5 pl-[1.3rem] text-xs font-light text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M205.66,138.34a8,8,0,0,1-11.32,11.32L136,91.31V224a8,8,0,0,1-16,0V91.31L61.66,149.66a8,8,0,0,1-11.32-11.32l72-72a8,8,0,0,1,11.32,0ZM216,32H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"></path></svg></div></button><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-neutral-800/80"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">329</span><span class="token" style="color: rgb(0, 128, 0); font-style: italic;">-- ----------------------------</span><span>
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">330</span><span></span><span class="token" style="color: rgb(0, 128, 0); font-style: italic;">-- Table structure for sys_company</span><span>
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">331</span><span></span><span class="token" style="color: rgb(0, 128, 0); font-style: italic;">-- ----------------------------</span></span></code></pre></div><div class="citation-4-0"><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-[#6096FF]/10 clickable-snippet cursor-pointer"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">332</span><span class="token" style="color: rgb(0, 0, 255);">DROP</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">TABLE</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">IF</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">EXISTS</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_company</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">333</span><span></span><span class="token" style="color: rgb(0, 0, 255);">CREATE</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">TABLE</span><span> </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">sys_company</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span>  </span><span class="token" style="color: rgb(57, 58, 52);">(</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">334</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">id</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">varchar</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">20</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CHARACTER</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">SET</span><span> utf8 </span><span class="token" style="color: rgb(0, 0, 255);">COLLATE</span><span> utf8_general_ci </span><span class="token" style="color: rgb(57, 58, 52);">NOT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">335</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">company_name</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">varchar</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">100</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CHARACTER</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">SET</span><span> utf8 </span><span class="token" style="color: rgb(0, 0, 255);">COLLATE</span><span> utf8_general_ci </span><span class="token" style="color: rgb(57, 58, 52);">NOT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'公司名'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">336</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">address</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">varchar</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">200</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CHARACTER</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">SET</span><span> utf8 </span><span class="token" style="color: rgb(0, 0, 255);">COLLATE</span><span> utf8_general_ci </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'地址'</span><span class="token" style="color: rgb(57, 58, 52);">,</span></span></code></pre></div></div><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-neutral-800/80"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">337</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">phone</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">varchar</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">20</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CHARACTER</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">SET</span><span> utf8 </span><span class="token" style="color: rgb(0, 0, 255);">COLLATE</span><span> utf8_general_ci </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'电话'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">338</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">email</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">varchar</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">50</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CHARACTER</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">SET</span><span> utf8 </span><span class="token" style="color: rgb(0, 0, 255);">COLLATE</span><span> utf8_general_ci </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'邮箱'</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span>
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">339</span><span>  </span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span class="token identifier">create_time</span><span class="token identifier" style="color: rgb(57, 58, 52);">`</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">timestamp</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">0</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">NOT</span><span> </span><span class="token" style="color: rgb(54, 172, 170);">NULL</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">DEFAULT</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CURRENT_TIMESTAMP</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">0</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">ON</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">UPDATE</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">CURRENT_TIMESTAMP</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(54, 172, 170);">0</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">COMMENT</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">'添加时间'</span><span class="token" style="color: rgb(57, 58, 52);">,</span></span></code></pre></div><button class="h-5 w-full cursor-pointer bg-[#f0f0f0] hover:bg-[#e0e0e0] dark:bg-neutral-800 dark:hover:bg-neutral-700/80"><div class="flex h-full items-center gap-1.5 pl-[1.3rem] text-xs font-light text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M50.34,117.66a8,8,0,0,1,11.32-11.32L120,164.69V32a8,8,0,0,1,16,0V164.69l58.34-58.35a8,8,0,0,1,11.32,11.32l-72,72a8,8,0,0,1-11.32,0ZM216,208H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"></path></svg></div></button></div></div></div></div></div></div></div><div class="mb-8 mt-16 h-px w-full bg-neutral-300 dark:bg-neutral-700"></div><div id="6" class="flex flex-col gap-3 pt-8 lg:flex-row" data-query-display="true" data-query-index="5"><div class="flex max-h-fit min-w-0 flex-1 flex-shrink-0 flex-col xl:[flex-grow:2]"><div class=""><div class="flex flex-col"><a class="flex items-center gap-2 text-base text-neutral-400 transition-colors hover:text-black dark:hover:text-white" href="https://deepwiki.com/1211454975/crowdmarket"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"></path></svg>return to 1211454975/crowdmarket</a><div class="flex flex-col items-start gap-2 text-white"><div class="group relative flex items-center"><span class="text-xl xl:text-2xl">请具体分析一下，租户数据库管理的完整功能，包括UI模块如何实现<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to query"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></span></div></div></div><div class="py-3"><div class="text-primary/70 flex flex-col items-start justify-between text-sm"><div class="mb-1"><div class="inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" viewBox="0 0 256 256" class="mr-1"><path d="M213.85,125.46l-112,120a8,8,0,0,1-13.69-7l14.66-73.33L45.19,143.49a8,8,0,0,1-3-13l112-120a8,8,0,0,1,13.69,7L153.18,90.9l57.63,21.61a8,8,0,0,1,3,12.95Z"></path></svg>Fast</div></div><div class="flex w-full items-center justify-between gap-2"><div class="">Searched across 1211454975/crowdmarket</div></div></div></div><div class="h-fit rounded-lg" style="scrollbar-width: thin; scrollbar-color: rgb(58, 58, 58) transparent;"><div class="dark:[&amp;_pre:has(code)]:bg-shade dark:[&amp;_code[data-lang]]:bg-shade relative flex flex-col gap-1 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-4 text-white [overflow-wrap:anywhere] dark:border-[#2F2F2F] dark:bg-[#141414] [&amp;_pre]:my-3"><div class="prose-custom prose-custom-md prose-custom-gray !max-w-none text-neutral-300 [overflow-wrap:anywhere]"><p>I'll analyze the complete functionality of tenant database management in the CrowdMarket system, including how to implement the UI module.</p>
<h1 class="group flex items-center">Answer  </h1>
<h2 class="group flex items-center">租户数据库管理的完整功能分析  </h2>
<p>基于CrowdMarket系统的多租户架构，我将详细分析租户数据库管理的完整功能实现，包括后端服务和前端UI模块。</p>
<h3 class="group flex items-center">1. 系统架构概述  </h3>
<p>CrowdMarket系统目前采用的是共享数据库的多租户模式，通过在表中添加<code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">tenant_id</code>字段来区分不同租户的数据。我们需要扩展这个架构，为每个租户提供独立的业务数据库，同时保留系统级数据在主数据库中。</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><div class="group relative cursor-pointer overflow-x-auto rounded-md bg-[#f2f1f0] p-4 transition-colors hover:bg-[#ededed] dark:bg-[#1f1f1f] dark:hover:bg-[#242424]" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«r41»" data-state="closed"><div class="flex justify-center"><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 894.54296875 482" style="max-width: 894.54296875px;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-wcawbsmk1ul"><style>#mermaid-wcawbsmk1ul{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-wcawbsmk1ul .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-wcawbsmk1ul .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-wcawbsmk1ul .error-icon{fill:#dddddd;}#mermaid-wcawbsmk1ul .error-text{fill:#222222;stroke:#222222;}#mermaid-wcawbsmk1ul .edge-thickness-normal{stroke-width:1px;}#mermaid-wcawbsmk1ul .edge-thickness-thick{stroke-width:3.5px;}#mermaid-wcawbsmk1ul .edge-pattern-solid{stroke-dasharray:0;}#mermaid-wcawbsmk1ul .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-wcawbsmk1ul .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-wcawbsmk1ul .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-wcawbsmk1ul .marker{fill:#999;stroke:#999;}#mermaid-wcawbsmk1ul .marker.cross{stroke:#999;}#mermaid-wcawbsmk1ul svg{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px;}#mermaid-wcawbsmk1ul p{margin:0;}#mermaid-wcawbsmk1ul .label{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;color:#333;}#mermaid-wcawbsmk1ul .cluster-label text{fill:#444;}#mermaid-wcawbsmk1ul .cluster-label span{color:#444;}#mermaid-wcawbsmk1ul .cluster-label span p{background-color:transparent;}#mermaid-wcawbsmk1ul .label text,#mermaid-wcawbsmk1ul span{fill:#333;color:#333;}#mermaid-wcawbsmk1ul .node rect,#mermaid-wcawbsmk1ul .node circle,#mermaid-wcawbsmk1ul .node ellipse,#mermaid-wcawbsmk1ul .node polygon,#mermaid-wcawbsmk1ul .node path{fill:#ffffff;stroke:#dddddd;stroke-width:1px;}#mermaid-wcawbsmk1ul .rough-node .label text,#mermaid-wcawbsmk1ul .node .label text,#mermaid-wcawbsmk1ul .image-shape .label,#mermaid-wcawbsmk1ul .icon-shape .label{text-anchor:middle;}#mermaid-wcawbsmk1ul .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-wcawbsmk1ul .rough-node .label,#mermaid-wcawbsmk1ul .node .label,#mermaid-wcawbsmk1ul .image-shape .label,#mermaid-wcawbsmk1ul .icon-shape .label{text-align:center;}#mermaid-wcawbsmk1ul .node.clickable{cursor:pointer;}#mermaid-wcawbsmk1ul .root .anchor path{fill:#999!important;stroke-width:0;stroke:#999;}#mermaid-wcawbsmk1ul .arrowheadPath{fill:#0b0b0b;}#mermaid-wcawbsmk1ul .edgePath .path{stroke:#999;stroke-width:2.0px;}#mermaid-wcawbsmk1ul .flowchart-link{stroke:#999;fill:none;}#mermaid-wcawbsmk1ul .edgeLabel{background-color:#ffffff;text-align:center;}#mermaid-wcawbsmk1ul .edgeLabel p{background-color:#ffffff;}#mermaid-wcawbsmk1ul .edgeLabel rect{opacity:0.5;background-color:#ffffff;fill:#ffffff;}#mermaid-wcawbsmk1ul .labelBkg{background-color:rgba(255, 255, 255, 0.5);}#mermaid-wcawbsmk1ul .cluster rect{fill:#f8f8f8;stroke:#dddddd;stroke-width:1px;}#mermaid-wcawbsmk1ul .cluster text{fill:#444;}#mermaid-wcawbsmk1ul .cluster span{color:#444;}#mermaid-wcawbsmk1ul div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:12px;background:#dddddd;border:1px solid hsl(0, 0%, 76.6666666667%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-wcawbsmk1ul .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-wcawbsmk1ul rect.text{fill:none;stroke-width:0;}#mermaid-wcawbsmk1ul .icon-shape,#mermaid-wcawbsmk1ul .image-shape{background-color:#ffffff;text-align:center;}#mermaid-wcawbsmk1ul .icon-shape p,#mermaid-wcawbsmk1ul .image-shape p{background-color:#ffffff;padding:2px;}#mermaid-wcawbsmk1ul .icon-shape rect,#mermaid-wcawbsmk1ul .image-shape rect{opacity:0.5;background-color:#ffffff;fill:#ffffff;}#mermaid-wcawbsmk1ul :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-wcawbsmk1ul_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-wcawbsmk1ul_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-wcawbsmk1ul_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-wcawbsmk1ul_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-wcawbsmk1ul_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-wcawbsmk1ul_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"><g data-look="classic" id="subGraph1" class="cluster"><rect height="233" width="621.796875" y="241" x="8" style=""></rect><g transform="translate(278.8984375, 241)" class="cluster-label"><foreignobject height="24" width="80"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>租户数据库</p></span></div></foreignobject></g></g><g data-look="classic" id="subGraph0" class="cluster"><rect height="337" width="236.74609375" y="8" x="649.796875" style=""></rect><g transform="translate(736.169921875, 8)" class="cluster-label"><foreignobject height="24" width="64"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>主数据库</p></span></div></foreignobject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid-wcawbsmk1ul_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M754.797,87L754.797,91.167C754.797,95.333,754.797,103.667,754.797,111.333C754.797,119,754.797,126,754.797,129.5L754.797,133"></path><path marker-end="url(#mermaid-wcawbsmk1ul_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_C_0" d="M768.684,191L770.827,195.167C772.971,199.333,777.257,207.667,779.4,216C781.543,224.333,781.543,232.667,781.543,240.333C781.543,248,781.543,255,781.543,258.5L781.543,262"></path><path marker-end="url(#mermaid-wcawbsmk1ul_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_D1_0" d="M117.695,320L117.695,324.167C117.695,328.333,117.695,336.667,117.695,345C117.695,353.333,117.695,361.667,117.695,369.333C117.695,377,117.695,384,117.695,387.5L117.695,391"></path><path marker-end="url(#mermaid-wcawbsmk1ul_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_E1_0" d="M317.086,320L317.086,324.167C317.086,328.333,317.086,336.667,317.086,345C317.086,353.333,317.086,361.667,317.086,369.333C317.086,377,317.086,384,317.086,387.5L317.086,391"></path><path marker-end="url(#mermaid-wcawbsmk1ul_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_F1_0" d="M518.289,320L518.289,324.167C518.289,328.333,518.289,336.667,518.289,345C518.289,353.333,518.289,361.667,518.289,369.333C518.289,377,518.289,384,518.289,387.5L518.289,391"></path><path marker-end="url(#mermaid-wcawbsmk1ul_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_D_0" d="M731.04,191L727.374,195.167C723.708,199.333,716.375,207.667,712.709,216C709.043,224.333,709.043,232.667,623.598,244.347C538.154,256.027,367.264,271.054,281.82,278.568L196.375,286.081"></path><path marker-end="url(#mermaid-wcawbsmk1ul_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_E_0" d="M741.425,191L739.361,195.167C737.297,199.333,733.17,207.667,731.107,216C729.043,224.333,729.043,232.667,673.494,243.845C617.945,255.024,506.847,269.047,451.299,276.059L395.75,283.071"></path><path marker-end="url(#mermaid-wcawbsmk1ul_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_F_0" d="M758.3,191L758.84,195.167C759.381,199.333,760.462,207.667,761.002,216C761.543,224.333,761.543,232.667,734.404,242.635C707.265,252.603,652.987,264.206,625.848,270.007L598.708,275.809"></path><path marker-end="url(#mermaid-wcawbsmk1ul_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_D1_0" d="M759.476,320L756.07,324.167C752.665,328.333,745.854,336.667,655.506,345C565.159,353.333,391.275,361.667,296.935,369.692C202.596,377.717,187.801,385.433,180.404,389.292L173.007,393.15"></path><path marker-end="url(#mermaid-wcawbsmk1ul_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_E1_0" d="M781.543,320L781.543,324.167C781.543,328.333,781.543,336.667,720.9,345C660.258,353.333,538.973,361.667,470.861,369.694C402.75,377.721,387.812,385.442,380.344,389.303L372.875,393.163"></path><path marker-end="url(#mermaid-wcawbsmk1ul_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_C_F1_0" d="M808.803,320L813.009,324.167C817.216,328.333,825.63,336.667,786.503,345C747.376,353.333,660.71,361.667,613.396,369.545C566.083,377.424,558.123,384.848,554.143,388.56L550.163,392.272"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g></g><g class="nodes"><g transform="translate(754.796875, 60)" id="flowchart-A-0" class="node default"><rect height="54" width="108" y="-27" x="-54" style="" class="basic label-container"></rect><g transform="translate(-24, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="48"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>系统表</p></span></div></foreignobject></g></g><g transform="translate(754.796875, 164)" id="flowchart-B-1" class="node default"><rect height="54" width="140" y="-27" x="-70" style="" class="basic label-container"></rect><g transform="translate(-40, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="80"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>租户注册表</p></span></div></foreignobject></g></g><g transform="translate(781.54296875, 293)" id="flowchart-C-3" class="node default"><rect height="54" width="140" y="-27" x="-70" style="" class="basic label-container"></rect><g transform="translate(-40, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="80"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>表单元数据</p></span></div></foreignobject></g></g><g transform="translate(117.6953125, 293)" id="flowchart-D-4" class="node default"><rect height="54" width="149.390625" y="-27" x="-74.6953125" style="" class="basic label-container"></rect><g transform="translate(-44.6953125, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="89.390625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>租户1数据库</p></span></div></foreignobject></g></g><g transform="translate(117.6953125, 422)" id="flowchart-D1-5" class="node default"><rect height="54" width="140" y="-27" x="-70" style="" class="basic label-container"></rect><g transform="translate(-40, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="80"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>表单数据表</p></span></div></foreignobject></g></g><g transform="translate(317.0859375, 293)" id="flowchart-E-6" class="node default"><rect height="54" width="149.390625" y="-27" x="-74.6953125" style="" class="basic label-container"></rect><g transform="translate(-44.6953125, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="89.390625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>租户2数据库</p></span></div></foreignobject></g></g><g transform="translate(317.0859375, 422)" id="flowchart-E1-7" class="node default"><rect height="54" width="140" y="-27" x="-70" style="" class="basic label-container"></rect><g transform="translate(-40, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="80"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>表单数据表</p></span></div></foreignobject></g></g><g transform="translate(518.2890625, 293)" id="flowchart-F-8" class="node default"><rect height="54" width="153.015625" y="-27" x="-76.5078125" style="" class="basic label-container"></rect><g transform="translate(-46.5078125, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="93.015625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>租户N数据库</p></span></div></foreignobject></g></g><g transform="translate(518.2890625, 422)" id="flowchart-F1-9" class="node default"><rect height="54" width="140" y="-27" x="-70" style="" class="basic label-container"></rect><g transform="translate(-40, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="80"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>表单数据表</p></span></div></foreignobject></g></g></g></g></g></svg></div><div class="bg-input-dark absolute right-2 top-2 rounded-sm p-1 opacity-0 transition-opacity group-hover:opacity-100"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="light:text-gray-800 text-white dark:text-white"><path d="M216,48V96a8,8,0,0,1-16,0V67.31l-42.34,42.35a8,8,0,0,1-11.32-11.32L188.69,56H160a8,8,0,0,1,0-16h48A8,8,0,0,1,216,48ZM98.34,146.34,56,188.69V160a8,8,0,0,0-16,0v48a8,8,0,0,0,8,8H96a8,8,0,0,0,0-16H67.31l42.35-42.34a8,8,0,0,0-11.32-11.32ZM208,152a8,8,0,0,0-8,8v28.69l-42.34-42.35a8,8,0,0,0-11.32,11.32L188.69,200H160a8,8,0,0,0,0,16h48a8,8,0,0,0,8-8V160A8,8,0,0,0,208,152ZM67.31,56H96a8,8,0,0,0,0-16H48a8,8,0,0,0-8,8V96a8,8,0,0,0,16,0V67.31l42.34,42.35a8,8,0,0,0,11.32-11.32Z"></path></svg></div></div></pre>
<h3 class="group flex items-center">2. 数据库设计  </h3>
<h4 class="group flex items-center">2.1 租户数据库注册表</h4>
<p>首先，我们需要在主数据库中创建一个表来管理所有租户的数据库连接信息：</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `tenant_database` (  
</span><span>  `id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'主键ID'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  `db_name` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'数据库名称'</span><span>,  
</span><span>  `db_host` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'数据库主机'</span><span>,  
</span><span>  `db_port` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">int</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'数据库端口'</span><span>,  
</span><span>  `db_username` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'数据库用户名'</span><span>,  
</span><span>  `db_password` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">255</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'数据库密码(加密)'</span><span>,  
</span><span>  `status` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'1'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'状态(0停用,1启用)'</span><span>,  
</span><span>  `create_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建者'</span><span>,  
</span><span>  `create_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建时间'</span><span>,  
</span><span>  `update_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新者'</span><span>,  
</span><span>  `update_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新时间'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`id`),  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">UNIQUE</span><span> KEY `uk_tenant_id` (`tenant_id`)  
</span><span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'租户数据库配置表'</span><span>;</span></code></pre></pre>
<h4 class="group flex items-center">2.2 扩展现有的租户表</h4>
<p>我们需要扩展现有的<code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">sys_company</code>表，添加数据库状态字段：</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">ALTER</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `sys_company` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">ADD</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">COLUMN</span><span> `db_status` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'数据库状态(0未创建,1已创建,2创建失败)'</span><span>;</span></code></pre></pre>
<h3 class="group flex items-center">3. 后端实现  </h3>
<h4 class="group flex items-center">3.1 租户数据库实体类</h4>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">TenantDatabase</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">extends</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">BaseEntity</span><span class="hljs-class"> </span><span>{  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">static</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">final</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">long</span><span> serialVersionUID = </span><span style="color: rgb(0, 128, 128);">1L</span><span>;  
</span>  
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/** 主键ID */</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String id;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/** 租户ID */</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String tenantId;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/** 数据库名称 */</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String dbName;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/** 数据库主机 */</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String dbHost;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/** 数据库端口 */</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span> dbPort;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/** 数据库用户名 */</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String dbUsername;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/** 数据库密码 */</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String dbPassword;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/** 状态 */</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span> status;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Getters and setters...  </span><span>
</span>}</code></pre></pre>
<h4 class="group flex items-center">3.2 数据访问层</h4>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">interface</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">TenantDatabaseMapper</span><span class="hljs-class"> </span><span>{  
</span><span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 查询租户数据库配置  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> TenantDatabase </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">selectTenantDatabaseById</span><span class="hljs-function hljs-params">(String id)</span><span>;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 根据租户ID查询数据库配置  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> TenantDatabase </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">selectTenantDatabaseByTenantId</span><span class="hljs-function hljs-params">(String tenantId)</span><span>;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 查询租户数据库配置列表  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> List&lt;TenantDatabase&gt; </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">selectTenantDatabaseList</span><span class="hljs-function hljs-params">(TenantDatabase tenantDatabase)</span><span>;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 新增租户数据库配置  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">insertTenantDatabase</span><span class="hljs-function hljs-params">(TenantDatabase tenantDatabase)</span><span>;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 修改租户数据库配置  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">updateTenantDatabase</span><span class="hljs-function hljs-params">(TenantDatabase tenantDatabase)</span><span>;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 删除租户数据库配置  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">deleteTenantDatabaseById</span><span class="hljs-function hljs-params">(String id)</span><span>;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 批量删除租户数据库配置  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">deleteTenantDatabaseByIds</span><span class="hljs-function hljs-params">(String[] ids)</span><span>;  
</span>}</code></pre></pre>
<h4 class="group flex items-center">3.3 服务层</h4>
<h5>3.3.1 租户数据库服务接口</h5>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">interface</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">ITenantDatabaseService</span><span class="hljs-class"> </span><span>{  
</span><span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 查询租户数据库配置  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> TenantDatabase </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">selectTenantDatabaseById</span><span class="hljs-function hljs-params">(String id)</span><span>;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 根据租户ID查询数据库配置  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> TenantDatabase </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">selectTenantDatabaseByTenantId</span><span class="hljs-function hljs-params">(String tenantId)</span><span>;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 查询租户数据库配置列表  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> List&lt;TenantDatabase&gt; </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">selectTenantDatabaseList</span><span class="hljs-function hljs-params">(TenantDatabase tenantDatabase)</span><span>;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 新增租户数据库配置  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">insertTenantDatabase</span><span class="hljs-function hljs-params">(TenantDatabase tenantDatabase)</span><span>;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 修改租户数据库配置  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">updateTenantDatabase</span><span class="hljs-function hljs-params">(TenantDatabase tenantDatabase)</span><span>;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 删除租户数据库配置信息  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">deleteTenantDatabaseById</span><span class="hljs-function hljs-params">(String id)</span><span>;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 批量删除租户数据库配置信息  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">deleteTenantDatabaseByIds</span><span class="hljs-function hljs-params">(String[] ids)</span><span>;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 创建租户数据库  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">createTenantDatabase</span><span class="hljs-function hljs-params">(String tenantId)</span><span>;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 测试数据库连接  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">boolean</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">testConnection</span><span class="hljs-function hljs-params">(TenantDatabase tenantDatabase)</span><span>;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 获取租户数据源  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> DataSource </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">getTenantDataSource</span><span class="hljs-function hljs-params">(String tenantId)</span><span>;  
</span>}</code></pre></pre>
<h5>3.3.2 租户数据库服务实现</h5>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 153); font-weight: bold;">@Service</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">TenantDatabaseServiceImpl</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">implements</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">ITenantDatabaseService</span><span class="hljs-class"> </span><span>{  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">static</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">final</span><span> Logger log = LoggerFactory.getLogger(TenantDatabaseServiceImpl.class);  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> TenantDatabaseMapper tenantDatabaseMapper;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> SysCompanyMapper companyMapper;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> DataSource masterDataSource;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 租户数据源缓存  </span><span>
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> Map&lt;String, DataSource&gt; tenantDataSources = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> ConcurrentHashMap&lt;&gt;();  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Override</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> TenantDatabase </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">selectTenantDatabaseById</span><span class="hljs-function hljs-params">(String id)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> tenantDatabaseMapper.selectTenantDatabaseById(id);  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Override</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> TenantDatabase </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">selectTenantDatabaseByTenantId</span><span class="hljs-function hljs-params">(String tenantId)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> tenantDatabaseMapper.selectTenantDatabaseByTenantId(tenantId);  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Override</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> List&lt;TenantDatabase&gt; </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">selectTenantDatabaseList</span><span class="hljs-function hljs-params">(TenantDatabase tenantDatabase)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> tenantDatabaseMapper.selectTenantDatabaseList(tenantDatabase);  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Override</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">insertTenantDatabase</span><span class="hljs-function hljs-params">(TenantDatabase tenantDatabase)</span><span class="hljs-function"> </span><span>{  
</span>        tenantDatabase.setId(IdUtils.fastUUID());  
        tenantDatabase.setCreateTime(DateUtils.getNowDate());  
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> tenantDatabaseMapper.insertTenantDatabase(tenantDatabase);  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Override</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">updateTenantDatabase</span><span class="hljs-function hljs-params">(TenantDatabase tenantDatabase)</span><span class="hljs-function"> </span><span>{  
</span>        tenantDatabase.setUpdateTime(DateUtils.getNowDate());  
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 更新后清除缓存  </span><span>
</span>        tenantDataSources.remove(tenantDatabase.getTenantId());  
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> tenantDatabaseMapper.updateTenantDatabase(tenantDatabase);  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Override</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">deleteTenantDatabaseById</span><span class="hljs-function hljs-params">(String id)</span><span class="hljs-function"> </span><span>{  
</span>        TenantDatabase db = tenantDatabaseMapper.selectTenantDatabaseById(id);  
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (db != </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>) {  
</span>            tenantDataSources.remove(db.getTenantId());  
        }  
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> tenantDatabaseMapper.deleteTenantDatabaseById(id);  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Override</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">deleteTenantDatabaseByIds</span><span class="hljs-function hljs-params">(String[] ids)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">for</span><span> (String id : ids) {  
</span>            TenantDatabase db = tenantDatabaseMapper.selectTenantDatabaseById(id);  
<span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (db != </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>) {  
</span>                tenantDataSources.remove(db.getTenantId());  
            }  
        }  
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> tenantDatabaseMapper.deleteTenantDatabaseByIds(ids);  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Override</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Transactional</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">createTenantDatabase</span><span class="hljs-function hljs-params">(String tenantId)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 查询租户信息  </span><span>
</span>        SysCompany company = companyMapper.selectSysCompanyById(tenantId);  
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (company == </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">throw</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> ServiceException(</span><span style="color: rgb(221, 17, 68);">"租户不存在"</span><span>);  
</span>        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 检查是否已创建数据库  </span><span>
</span>        TenantDatabase existDb = tenantDatabaseMapper.selectTenantDatabaseByTenantId(tenantId);  
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (existDb != </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">throw</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> ServiceException(</span><span style="color: rgb(221, 17, 68);">"该租户已创建数据库"</span><span>);  
</span>        }  
          
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">try</span><span> {  
</span><span>            </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 生成数据库名称  </span><span>
</span><span>            String dbName = </span><span style="color: rgb(221, 17, 68);">"cm_tenant_"</span><span> + tenantId.replaceAll(</span><span style="color: rgb(221, 17, 68);">"[^a-zA-Z0-9]"</span><span>, </span><span style="color: rgb(221, 17, 68);">"_"</span><span>).toLowerCase();  
</span>              
<span>            </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 获取系统配置的数据库连接信息  </span><span>
</span><span>            String dbHost = ConfigUtils.getConfigValue(</span><span style="color: rgb(221, 17, 68);">"tenant.db.host"</span><span>, </span><span style="color: rgb(221, 17, 68);">"localhost"</span><span>);  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span> dbPort = Integer.parseInt(ConfigUtils.getConfigValue(</span><span style="color: rgb(221, 17, 68);">"tenant.db.port"</span><span>, </span><span style="color: rgb(221, 17, 68);">"3306"</span><span>));  
</span><span>            String dbRootUser = ConfigUtils.getConfigValue(</span><span style="color: rgb(221, 17, 68);">"tenant.db.root.username"</span><span>, </span><span style="color: rgb(221, 17, 68);">"root"</span><span>);  
</span><span>            String dbRootPassword = ConfigUtils.getConfigValue(</span><span style="color: rgb(221, 17, 68);">"tenant.db.root.password"</span><span>, </span><span style="color: rgb(221, 17, 68);">"password"</span><span>);  
</span>              
<span>            </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 生成租户数据库用户名和密码  </span><span>
</span><span>            String dbUsername = </span><span style="color: rgb(221, 17, 68);">"user_"</span><span> + tenantId.replaceAll(</span><span style="color: rgb(221, 17, 68);">"[^a-zA-Z0-9]"</span><span>, </span><span style="color: rgb(221, 17, 68);">"_"</span><span>).toLowerCase();  
</span>            String dbPassword = generateRandomPassword();  
              
<span>            </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 创建数据库和用户  </span><span>
</span><span>            JdbcTemplate jdbcTemplate = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> JdbcTemplate(masterDataSource);  
</span><span>            jdbcTemplate.execute(</span><span style="color: rgb(221, 17, 68);">"CREATE DATABASE IF NOT EXISTS `"</span><span> + dbName + </span><span style="color: rgb(221, 17, 68);">"` CHARACTER SET utf8mb4 COLLATE utf8mb4_general_ci"</span><span>);  
</span><span>            jdbcTemplate.execute(</span><span style="color: rgb(221, 17, 68);">"CREATE USER '"</span><span> + dbUsername + </span><span style="color: rgb(221, 17, 68);">"'@'%' IDENTIFIED BY '"</span><span> + dbPassword + </span><span style="color: rgb(221, 17, 68);">"'"</span><span>);  
</span><span>            jdbcTemplate.execute(</span><span style="color: rgb(221, 17, 68);">"GRANT ALL PRIVILEGES ON `"</span><span> + dbName + </span><span style="color: rgb(221, 17, 68);">"`.* TO '"</span><span> + dbUsername + </span><span style="color: rgb(221, 17, 68);">"'@'%'"</span><span>);  
</span><span>            jdbcTemplate.execute(</span><span style="color: rgb(221, 17, 68);">"FLUSH PRIVILEGES"</span><span>);  
</span>              
<span>            </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 保存租户数据库配置  </span><span>
</span><span>            TenantDatabase tenantDatabase = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> TenantDatabase();  
</span>            tenantDatabase.setId(IdUtils.fastUUID());  
            tenantDatabase.setTenantId(tenantId);  
            tenantDatabase.setDbName(dbName);  
            tenantDatabase.setDbHost(dbHost);  
            tenantDatabase.setDbPort(dbPort);  
            tenantDatabase.setDbUsername(dbUsername);  
            tenantDatabase.setDbPassword(encryptPassword(dbPassword));  
<span>            tenantDatabase.setStatus(</span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span>            tenantDatabase.setCreateBy(SecurityUtils.getUsername());  
            tenantDatabase.setCreateTime(DateUtils.getNowDate());  
              
            tenantDatabaseMapper.insertTenantDatabase(tenantDatabase);  
              
<span>            </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 更新租户数据库状态  </span><span>
</span><span>            SysCompany updateCompany = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> SysCompany();  
</span>            updateCompany.setId(tenantId);  
<span>            updateCompany.setDbStatus(</span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span>            companyMapper.updateSysCompany(updateCompany);  
              
<span>            log.info(</span><span style="color: rgb(221, 17, 68);">"租户[{}]数据库创建成功: {}"</span><span>, tenantId, dbName);  
</span><span>        } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">catch</span><span> (Exception e) {  
</span><span>            </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 更新租户数据库状态为创建失败  </span><span>
</span><span>            SysCompany updateCompany = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> SysCompany();  
</span>            updateCompany.setId(tenantId);  
<span>            updateCompany.setDbStatus(</span><span style="color: rgb(0, 128, 128);">2</span><span>);  
</span>            companyMapper.updateSysCompany(updateCompany);  
              
<span>            log.error(</span><span style="color: rgb(221, 17, 68);">"租户[{}]数据库创建失败"</span><span>, tenantId, e);  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">throw</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> ServiceException(</span><span style="color: rgb(221, 17, 68);">"创建租户数据库失败: "</span><span> + e.getMessage());  
</span>        }  
    }  
      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Override</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">boolean</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">testConnection</span><span class="hljs-function hljs-params">(TenantDatabase tenantDatabase)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">try</span><span> {  
</span><span>            </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 创建临时数据源测试连接  </span><span>
</span><span>            HikariConfig config = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> HikariConfig();  
</span><span>            config.setJdbcUrl(</span><span style="color: rgb(221, 17, 68);">"jdbc:mysql://"</span><span> + tenantDatabase.getDbHost() + </span><span style="color: rgb(221, 17, 68);">":"</span><span> + tenantDatabase.getDbPort() + </span><span style="color: rgb(221, 17, 68);">"/"</span><span> + tenantDatabase.getDbName());  
</span>            config.setUsername(tenantDatabase.getDbUsername());  
            config.setPassword(decryptPassword(tenantDatabase.getDbPassword()));  
<span>            config.setDriverClassName(</span><span style="color: rgb(221, 17, 68);">"com.mysql.cj.jdbc.Driver"</span><span>);  
</span><span>            config.setConnectionTimeout(</span><span style="color: rgb(0, 128, 128);">5000</span><span>); </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 5秒超时  </span><span>
</span>              
<span>            DataSource dataSource = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> HikariDataSource(config);  
</span>            Connection conn = dataSource.getConnection();  
            conn.close();  
            ((HikariDataSource) dataSource).close();  
              
<span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">true</span><span>;  
</span><span>        } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">catch</span><span> (Exception e) {  
</span><span>            log.error(</span><span style="color: rgb(221, 17, 68);">"测试数据库连接失败"</span><span>, e);  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">false</span><span>;  
</span>        }  
    }  
      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Override</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> DataSource </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">getTenantDataSource</span><span class="hljs-function hljs-params">(String tenantId)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 检查缓存中是否存在  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (tenantDataSources.containsKey(tenantId)) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> tenantDataSources.get(tenantId);  
</span>        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 查询租户数据库配置  </span><span>
</span>        TenantDatabase tenantDb = tenantDatabaseMapper.selectTenantDatabaseByTenantId(tenantId);  
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (tenantDb == </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">throw</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> ServiceException(</span><span style="color: rgb(221, 17, 68);">"租户数据库配置不存在"</span><span>);  
</span>        }  
          
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (tenantDb.getStatus() != </span><span style="color: rgb(0, 128, 128);">1</span><span>) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">throw</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> ServiceException(</span><span style="color: rgb(221, 17, 68);">"租户数据库已停用"</span><span>);  
</span>        }  
          
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">try</span><span> {  
</span><span>            </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 创  </span><span>
</span>  
Wiki pages you might want to explore:  
<span>- [</span><span class="hljs-function">CrowdMarket System </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">Overview</span><span class="hljs-function"> </span><span class="hljs-function hljs-params">(</span><span class="hljs-function hljs-params" style="color: rgb(0, 128, 128);">1211454975</span><span class="hljs-function hljs-params">/crowdmarket)</span><span class="hljs-function">]</span><span class="hljs-function hljs-params">(/wiki/</span><span class="hljs-function hljs-params" style="color: rgb(0, 128, 128);">1211454975</span><span class="hljs-function hljs-params">/crowdmarket#</span><span class="hljs-function hljs-params" style="color: rgb(0, 128, 128);">1</span><span class="hljs-function hljs-params">)</span><span class="hljs-function">  
</span><span class="hljs-function">- [Code Generation Service </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">Layer</span><span class="hljs-function"> </span><span class="hljs-function hljs-params">(</span><span class="hljs-function hljs-params" style="color: rgb(0, 128, 128);">1211454975</span><span class="hljs-function hljs-params">/crowdmarket)</span><span class="hljs-function">]</span><span class="hljs-function hljs-params">(/wiki/</span><span class="hljs-function hljs-params" style="color: rgb(0, 128, 128);">1211454975</span><span class="hljs-function hljs-params">/crowdmarket#</span><span class="hljs-function hljs-params" style="color: rgb(0, 128, 128);">2.3</span><span class="hljs-function hljs-params">)</span></code></pre></pre></div><div class="flex items-center gap-1 text-neutral-300"><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M234,80.12A24,24,0,0,0,216,72H160V56a40,40,0,0,0-40-40,8,8,0,0,0-7.16,4.42L75.06,96H32a16,16,0,0,0-16,16v88a16,16,0,0,0,16,16H204a24,24,0,0,0,23.82-21l12-96A24,24,0,0,0,234,80.12ZM32,112H72v88H32ZM223.94,97l-12,96a8,8,0,0,1-7.94,7H88V105.89l36.71-73.43A24,24,0,0,1,144,56V80a8,8,0,0,0,8,8h64a8,8,0,0,1,7.94,9Z"></path></svg></button><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M239.82,157l-12-96A24,24,0,0,0,204,40H32A16,16,0,0,0,16,56v88a16,16,0,0,0,16,16H75.06l37.78,75.58A8,8,0,0,0,120,240a40,40,0,0,0,40-40V184h56a24,24,0,0,0,23.82-27ZM72,144H32V56H72Zm150,21.29a7.88,7.88,0,0,1-6,2.71H152a8,8,0,0,0-8,8v24a24,24,0,0,1-19.29,23.54L88,150.11V56H204a8,8,0,0,1,7.94,7l12,96A7.87,7.87,0,0,1,222,165.29Z"></path></svg></button></div></div></div></div></div><div class="min-w-0 flex-1 scroll-smooth xl:[flex-grow:3]" style="scrollbar-width: thin; scrollbar-color: rgb(90, 90, 90) transparent; min-height: unset;"><div class="sticky left-0 top-0 overflow-y-auto rounded-md" style="max-height: calc(-55px + 100vh);"><div class="flex flex-col gap-2 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-3 dark:border-[#2f2f2f] dark:bg-[#141414]"><div data-state="closed"><button type="button" aria-controls="radix-«rd»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned multi_tenant.sql</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«rd»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«re»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned GenTableServiceImpl.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«re»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«rf»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned VelocityUtils.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«rf»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«rg»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned SysRoleDeptMapper.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«rg»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«rh»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned pom.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«rh»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«ri»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned SysUserMapper.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«ri»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«rj»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned SysDictDataMapper.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«rj»" hidden="" style=""></div></div></div></div></div></div><div class="mb-8 mt-16 h-px w-full bg-neutral-300 dark:bg-neutral-700"></div><div id="7" class="flex flex-col gap-3 pt-8 lg:flex-row" data-query-display="true" data-query-index="6"><div class="flex max-h-fit min-w-0 flex-1 flex-shrink-0 flex-col xl:[flex-grow:2]"><div class=""><div class="flex flex-col"><a class="flex items-center gap-2 text-base text-neutral-400 transition-colors hover:text-black dark:hover:text-white" href="https://deepwiki.com/1211454975/crowdmarket"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"></path></svg>return to 1211454975/crowdmarket</a><div class="flex flex-col items-start gap-2 text-white"><div class="group relative flex items-center"><span class="text-xl xl:text-2xl">请继续补充生成<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to query"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></span></div></div></div><div class="py-3"><div class="text-primary/70 flex flex-col items-start justify-between text-sm"><div class="mb-1"><div class="inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" viewBox="0 0 256 256" class="mr-1"><path d="M213.85,125.46l-112,120a8,8,0,0,1-13.69-7l14.66-73.33L45.19,143.49a8,8,0,0,1-3-13l112-120a8,8,0,0,1,13.69,7L153.18,90.9l57.63,21.61a8,8,0,0,1,3,12.95Z"></path></svg>Fast</div></div><div class="flex w-full items-center justify-between gap-2"><div class="">Searched across 1211454975/crowdmarket</div></div></div></div><div class="h-fit rounded-lg" style="scrollbar-width: thin; scrollbar-color: rgb(58, 58, 58) transparent;"><div class="dark:[&amp;_pre:has(code)]:bg-shade dark:[&amp;_code[data-lang]]:bg-shade relative flex flex-col gap-1 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-4 text-white [overflow-wrap:anywhere] dark:border-[#2F2F2F] dark:bg-[#141414] [&amp;_pre]:my-3"><div class="prose-custom prose-custom-md prose-custom-gray !max-w-none text-neutral-300 [overflow-wrap:anywhere]"><p>I'll continue with the analysis of the tenant database management functionality, focusing on completing the backend implementation and detailing the UI module implementation.</p>
<h1 class="group flex items-center">Answer  </h1>
<h2 class="group flex items-center">租户数据库管理的完整功能分析（续）  </h2>
<h3 class="group flex items-center">3. 后端实现（续）  </h3>
<h4 class="group flex items-center">3.3.2 租户数据库服务实现（续）</h4>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 153); font-weight: bold;">@Override</span><span>  
</span><span></span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> DataSource </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">getTenantDataSource</span><span class="hljs-function hljs-params">(String tenantId)</span><span class="hljs-function"> </span><span>{  
</span><span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 检查缓存中是否存在  </span><span>
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (tenantDataSources.containsKey(tenantId)) {  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> tenantDataSources.get(tenantId);  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 查询租户数据库配置  </span><span>
</span>    TenantDatabase tenantDb = tenantDatabaseMapper.selectTenantDatabaseByTenantId(tenantId);  
<span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (tenantDb == </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>) {  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">throw</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> ServiceException(</span><span style="color: rgb(221, 17, 68);">"租户数据库配置不存在"</span><span>);  
</span>    }  
      
<span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (tenantDb.getStatus() != </span><span style="color: rgb(0, 128, 128);">1</span><span>) {  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">throw</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> ServiceException(</span><span style="color: rgb(221, 17, 68);">"租户数据库已停用"</span><span>);  
</span>    }  
      
<span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">try</span><span> {  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 创建数据源  </span><span>
</span><span>        HikariConfig config = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> HikariConfig();  
</span><span>        config.setJdbcUrl(</span><span style="color: rgb(221, 17, 68);">"jdbc:mysql://"</span><span> + tenantDb.getDbHost() + </span><span style="color: rgb(221, 17, 68);">":"</span><span> + tenantDb.getDbPort() + </span><span style="color: rgb(221, 17, 68);">"/"</span><span> + tenantDb.getDbName());  
</span>        config.setUsername(tenantDb.getDbUsername());  
        config.setPassword(decryptPassword(tenantDb.getDbPassword()));  
<span>        config.setDriverClassName(</span><span style="color: rgb(221, 17, 68);">"com.mysql.cj.jdbc.Driver"</span><span>);  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 设置连接池参数  </span><span>
</span><span>        config.setMinimumIdle(</span><span style="color: rgb(0, 128, 128);">5</span><span>);  
</span><span>        config.setMaximumPoolSize(</span><span style="color: rgb(0, 128, 128);">20</span><span>);  
</span><span>        config.setIdleTimeout(</span><span style="color: rgb(0, 128, 128);">30000</span><span>);  
</span><span>        config.setPoolName(</span><span style="color: rgb(221, 17, 68);">"HikariPool-Tenant-"</span><span> + tenantId);  
</span>          
<span>        DataSource dataSource = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> HikariDataSource(config);  
</span>        tenantDataSources.put(tenantId, dataSource);  
          
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> dataSource;  
</span><span>    } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">catch</span><span> (Exception e) {  
</span><span>        log.error(</span><span style="color: rgb(221, 17, 68);">"获取租户数据源失败"</span><span>, e);  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">throw</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> ServiceException(</span><span style="color: rgb(221, 17, 68);">"获取租户数据源失败: "</span><span> + e.getMessage());  
</span>    }  
}  
  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;"> * 生成随机密码  
</span><span style="color: rgb(153, 153, 136); font-style: italic;"> */</span><span>  
</span><span></span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span class="hljs-function"> String </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">generateRandomPassword</span><span class="hljs-function hljs-params">()</span><span class="hljs-function"> </span><span>{  
</span><span>    String chars = </span><span style="color: rgb(221, 17, 68);">"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&amp;*()"</span><span>;  
</span><span>    StringBuilder sb = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> StringBuilder();  
</span><span>    Random random = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> Random();  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">for</span><span> (</span><span style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span> i = </span><span style="color: rgb(0, 128, 128);">0</span><span>; i &lt; </span><span style="color: rgb(0, 128, 128);">16</span><span>; i++) {  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span> index = random.nextInt(chars.length());  
</span>        sb.append(chars.charAt(index));  
    }  
<span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> sb.toString();  
</span>}  
  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;"> * 加密密码  
</span><span style="color: rgb(153, 153, 136); font-style: italic;"> */</span><span>  
</span><span></span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span class="hljs-function"> String </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">encryptPassword</span><span class="hljs-function hljs-params">(String password)</span><span class="hljs-function"> </span><span>{  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">try</span><span> {  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> AESUtil.encrypt(password, ConfigUtils.getConfigValue(</span><span style="color: rgb(221, 17, 68);">"tenant.db.password.key"</span><span>, </span><span style="color: rgb(221, 17, 68);">"crowdmarket_key"</span><span>));  
</span><span>    } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">catch</span><span> (Exception e) {  
</span><span>        log.error(</span><span style="color: rgb(221, 17, 68);">"加密密码失败"</span><span>, e);  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> password;  
</span>    }  
}  
  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;"> * 解密密码  
</span><span style="color: rgb(153, 153, 136); font-style: italic;"> */</span><span>  
</span><span></span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span class="hljs-function"> String </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">decryptPassword</span><span class="hljs-function hljs-params">(String encryptedPassword)</span><span class="hljs-function"> </span><span>{  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">try</span><span> {  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> AESUtil.decrypt(encryptedPassword, ConfigUtils.getConfigValue(</span><span style="color: rgb(221, 17, 68);">"tenant.db.password.key"</span><span>, </span><span style="color: rgb(221, 17, 68);">"crowdmarket_key"</span><span>));  
</span><span>    } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">catch</span><span> (Exception e) {  
</span><span>        log.error(</span><span style="color: rgb(221, 17, 68);">"解密密码失败"</span><span>, e);  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> encryptedPassword;  
</span>    }  
}</code></pre></pre>
<h4 class="group flex items-center">3.4 控制器层</h4>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 153); font-weight: bold;">@RestController</span><span>  
</span><span></span><span style="color: rgb(153, 153, 153); font-weight: bold;">@RequestMapping("/system/tenant/database")</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">TenantDatabaseController</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">extends</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">BaseController</span><span class="hljs-class"> </span><span>{  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> ITenantDatabaseService tenantDatabaseService;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 查询租户数据库配置列表  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@PreAuthorize("@ss.hasPermi('system:tenant:list')")</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@GetMapping("/list")</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> TableDataInfo </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">list</span><span class="hljs-function hljs-params">(TenantDatabase tenantDatabase)</span><span class="hljs-function"> </span><span>{  
</span>        startPage();  
        List&lt;TenantDatabase&gt; list = tenantDatabaseService.selectTenantDatabaseList(tenantDatabase);  
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> getDataTable(list);  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 获取租户数据库配置详细信息  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@PreAuthorize("@ss.hasPermi('system:tenant:query')")</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@GetMapping(value = "/{id}")</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> AjaxResult </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">getInfo</span><span class="hljs-function hljs-params">(</span><span class="hljs-function hljs-params" style="color: rgb(153, 153, 153); font-weight: bold;">@PathVariable("id")</span><span class="hljs-function hljs-params"> String id)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> AjaxResult.success(tenantDatabaseService.selectTenantDatabaseById(id));  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 新增租户数据库配置  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@PreAuthorize("@ss.hasPermi('system:tenant:add')")</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Log(title = "租户数据库配置", businessType = BusinessType.INSERT)</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@PostMapping</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> AjaxResult </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">add</span><span class="hljs-function hljs-params">(</span><span class="hljs-function hljs-params" style="color: rgb(153, 153, 153); font-weight: bold;">@RequestBody</span><span class="hljs-function hljs-params"> TenantDatabase tenantDatabase)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> toAjax(tenantDatabaseService.insertTenantDatabase(tenantDatabase));  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 修改租户数据库配置  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@PreAuthorize("@ss.hasPermi('system:tenant:edit')")</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Log(title = "租户数据库配置", businessType = BusinessType.UPDATE)</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@PutMapping</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> AjaxResult </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">edit</span><span class="hljs-function hljs-params">(</span><span class="hljs-function hljs-params" style="color: rgb(153, 153, 153); font-weight: bold;">@RequestBody</span><span class="hljs-function hljs-params"> TenantDatabase tenantDatabase)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> toAjax(tenantDatabaseService.updateTenantDatabase(tenantDatabase));  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 删除租户数据库配置  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@PreAuthorize("@ss.hasPermi('system:tenant:remove')")</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Log(title = "租户数据库配置", businessType = BusinessType.DELETE)</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@DeleteMapping("/{ids}")</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> AjaxResult </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">remove</span><span class="hljs-function hljs-params">(</span><span class="hljs-function hljs-params" style="color: rgb(153, 153, 153); font-weight: bold;">@PathVariable</span><span class="hljs-function hljs-params"> String[] ids)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> toAjax(tenantDatabaseService.deleteTenantDatabaseByIds(ids));  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 创建租户数据库  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@PreAuthorize("@ss.hasPermi('system:tenant:create')")</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Log(title = "租户数据库", businessType = BusinessType.INSERT)</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@PostMapping("/create/{tenantId}")</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> AjaxResult </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">createDatabase</span><span class="hljs-function hljs-params">(</span><span class="hljs-function hljs-params" style="color: rgb(153, 153, 153); font-weight: bold;">@PathVariable("tenantId")</span><span class="hljs-function hljs-params"> String tenantId)</span><span class="hljs-function"> </span><span>{  
</span>        tenantDatabaseService.createTenantDatabase(tenantId);  
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> AjaxResult.success();  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 测试数据库连接  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@PreAuthorize("@ss.hasPermi('system:tenant:test')")</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@PostMapping("/test")</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> AjaxResult </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">testConnection</span><span class="hljs-function hljs-params">(</span><span class="hljs-function hljs-params" style="color: rgb(153, 153, 153); font-weight: bold;">@RequestBody</span><span class="hljs-function hljs-params"> TenantDatabase tenantDatabase)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">boolean</span><span> result = tenantDatabaseService.testConnection(tenantDatabase);  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> result ? AjaxResult.success() : AjaxResult.error(</span><span style="color: rgb(221, 17, 68);">"连接失败"</span><span>);  
</span>    }  
}</code></pre></pre>
<h4 class="group flex items-center">3.5 数据源路由配置</h4>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 153); font-weight: bold;">@Configuration</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">DynamicDataSourceConfig</span><span class="hljs-class"> </span><span>{  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> TenantDatabaseService tenantDatabaseService;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Bean</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Primary</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> DataSource </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">dynamicDataSource</span><span class="hljs-function hljs-params">()</span><span class="hljs-function"> </span><span>{  
</span><span>        DynamicRoutingDataSource dynamicDataSource = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> DynamicRoutingDataSource();  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 设置默认数据源（主数据库）  </span><span>
</span>        dynamicDataSource.setDefaultTargetDataSource(primaryDataSource());  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 初始化数据源映射（后续会动态添加）  </span><span>
</span><span>        Map&lt;Object, Object&gt; dataSourceMap = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> HashMap&lt;&gt;();  
</span>        dynamicDataSource.setTargetDataSources(dataSourceMap);  
          
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> dynamicDataSource;  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Bean</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> DataSource </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">primaryDataSource</span><span class="hljs-function hljs-params">()</span><span class="hljs-function"> </span><span>{  
</span><span>        HikariConfig config = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> HikariConfig();  
</span><span>        config.setJdbcUrl(ConfigUtils.getConfigValue(</span><span style="color: rgb(221, 17, 68);">"spring.datasource.url"</span><span>));  
</span><span>        config.setUsername(ConfigUtils.getConfigValue(</span><span style="color: rgb(221, 17, 68);">"spring.datasource.username"</span><span>));  
</span><span>        config.setPassword(ConfigUtils.getConfigValue(</span><span style="color: rgb(221, 17, 68);">"spring.datasource.password"</span><span>));  
</span><span>        config.setDriverClassName(ConfigUtils.getConfigValue(</span><span style="color: rgb(221, 17, 68);">"spring.datasource.driver-class-name"</span><span>));  
</span>          
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> HikariDataSource(config);  
</span>    }  
}  
  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;"> * 动态数据源路由  
</span><span style="color: rgb(153, 153, 136); font-style: italic;"> */</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">DynamicRoutingDataSource</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">extends</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">AbstractRoutingDataSource</span><span class="hljs-class"> </span><span>{  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> TenantDatabaseService tenantDatabaseService;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Override</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">protected</span><span class="hljs-function"> Object </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">determineCurrentLookupKey</span><span class="hljs-function hljs-params">()</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 获取当前租户ID  </span><span>
</span>        String tenantId = TenantContextHolder.getTenantId();  
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (StringUtils.isNotEmpty(tenantId)) {  
</span><span>            </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 如果是系统操作，使用主数据源  </span><span>
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (TenantContextHolder.isSystemOperation()) {  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(221, 17, 68);">"PRIMARY"</span><span>;  
</span>            }  
              
<span>            </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 添加租户数据源到路由  </span><span>
</span>            addTenantDataSource(tenantId);  
              
<span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> tenantId;  
</span>        }  
          
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(221, 17, 68);">"PRIMARY"</span><span>;  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 添加租户数据源到路由  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">synchronized</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">addTenantDataSource</span><span class="hljs-function hljs-params">(String tenantId)</span><span class="hljs-function"> </span><span>{  
</span>        Map&lt;Object, Object&gt; targetDataSources = (Map&lt;Object, Object&gt;) getTargetDataSources();  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 检查是否已存在该租户的数据源  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (!targetDataSources.containsKey(tenantId)) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">try</span><span> {  
</span><span>                </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 获取租户数据源  </span><span>
</span>                DataSource tenantDataSource = tenantDatabaseService.getTenantDataSource(tenantId);  
                  
<span>                </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 添加到路由  </span><span>
</span>                targetDataSources.put(tenantId, tenantDataSource);  
                  
<span>                </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 刷新数据源  </span><span>
</span>                setTargetDataSources(targetDataSources);  
                afterPropertiesSet();  
<span>            } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">catch</span><span> (Exception e) {  
</span><span>                </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 如果获取租户数据源失败，使用主数据源  </span><span>
</span><span>                log.error(</span><span style="color: rgb(221, 17, 68);">"获取租户数据源失败，使用主数据源"</span><span>, e);  
</span>            }  
        }  
    }  
}  
  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;"> * 租户上下文持有者  
</span><span style="color: rgb(153, 153, 136); font-style: italic;"> */</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">TenantContextHolder</span><span class="hljs-class"> </span><span>{  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">static</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">final</span><span> ThreadLocal&lt;String&gt; TENANT_ID_HOLDER = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> ThreadLocal&lt;&gt;();  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">static</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">final</span><span> ThreadLocal&lt;Boolean&gt; SYSTEM_OPERATION_HOLDER = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> ThreadLocal&lt;&gt;();  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 设置租户ID  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">static</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">setTenantId</span><span class="hljs-function hljs-params">(String tenantId)</span><span class="hljs-function"> </span><span>{  
</span>        TENANT_ID_HOLDER.set(tenantId);  
    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 获取租户ID  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">static</span><span class="hljs-function"> String </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">getTenantId</span><span class="hljs-function hljs-params">()</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> TENANT_ID_HOLDER.get();  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 清除租户ID  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">static</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">clearTenantId</span><span class="hljs-function hljs-params">()</span><span class="hljs-function"> </span><span>{  
</span>        TENANT_ID_HOLDER.remove();  
    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 设置为系统操作  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">static</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">setSystemOperation</span><span class="hljs-function hljs-params">(</span><span class="hljs-function hljs-params" style="color: rgb(51, 51, 51); font-weight: bold;">boolean</span><span class="hljs-function hljs-params"> isSystemOperation)</span><span class="hljs-function"> </span><span>{  
</span>        SYSTEM_OPERATION_HOLDER.set(isSystemOperation);  
    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 是否是系统操作  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">static</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">boolean</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">isSystemOperation</span><span class="hljs-function hljs-params">()</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> Boolean.TRUE.equals(SYSTEM_OPERATION_HOLDER.get());  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 清除系统操作标记  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">static</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">clearSystemOperation</span><span class="hljs-function hljs-params">()</span><span class="hljs-function"> </span><span>{  
</span>        SYSTEM_OPERATION_HOLDER.remove();  
    }  
}</code></pre></pre>
<h4 class="group flex items-center">3.6 租户数据库拦截器</h4>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 153); font-weight: bold;">@Component</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">TenantDatabaseInterceptor</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">implements</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">HandlerInterceptor</span><span class="hljs-class"> </span><span>{  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Override</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">boolean</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">preHandle</span><span class="hljs-function hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">throws</span><span class="hljs-function"> Exception </span><span>{  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 获取当前登录用户  </span><span>
</span>        LoginUser loginUser = SecurityUtils.getLoginUser();  
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (loginUser != </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>) {  
</span><span>            </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 设置租户ID  </span><span>
</span>            String tenantId = loginUser.getUser().getComId();  
<span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (StringUtils.isNotEmpty(tenantId)) {  
</span>                TenantContextHolder.setTenantId(tenantId);  
                  
<span>                </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 如果是超级管理员，标记为系统操作  </span><span>
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (loginUser.getUser().getSuperAdminFlag() == </span><span style="color: rgb(0, 128, 128);">1</span><span>) {  
</span><span>                    TenantContextHolder.setSystemOperation(</span><span style="color: rgb(51, 51, 51); font-weight: bold;">true</span><span>);  
</span>                }  
            }  
        }  
          
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">true</span><span>;  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Override</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">afterCompletion</span><span class="hljs-function hljs-params">(HttpServletRequest request, HttpServletResponse response, Object handler, Exception ex)</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">throws</span><span class="hljs-function"> Exception </span><span>{  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 清除租户上下文  </span><span>
</span>        TenantContextHolder.clearTenantId();  
        TenantContextHolder.clearSystemOperation();  
    }  
}</code></pre></pre>
<h3 class="group flex items-center">4. 前端UI实现  </h3>
<h4 class="group flex items-center">4.1 租户列表页面</h4>
<p>首先，我们需要在租户管理页面中添加数据库管理功能。以下是租户列表页面的Vue组件实现：</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span>&lt;template&gt;  
</span><span>  &lt;div </span><span style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span>="</span><span style="color: rgb(153, 0, 115);">app</span><span>-</span><span style="color: rgb(153, 0, 115);">container</span><span>"&gt;  
</span><span>    &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">form</span><span> :</span><span style="color: rgb(153, 0, 115);">model</span><span>="</span><span style="color: rgb(153, 0, 115);">queryParams</span><span>" </span><span style="color: rgb(153, 0, 115);">ref</span><span>="</span><span style="color: rgb(153, 0, 115);">queryForm</span><span>" :</span><span style="color: rgb(153, 0, 115);">inline</span><span>="</span><span style="color: rgb(153, 0, 115);">true</span><span>" </span><span style="color: rgb(153, 0, 115);">v</span><span>-</span><span style="color: rgb(153, 0, 115);">show</span><span>="</span><span style="color: rgb(153, 0, 115);">showSearch</span><span>" </span><span style="color: rgb(153, 0, 115);">label</span><span>-</span><span style="color: rgb(153, 0, 115);">width</span><span>="</span><span style="color: rgb(153, 0, 115);">68px</span><span>"&gt;  
</span><span>      &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">form</span><span>-</span><span style="color: rgb(153, 0, 115);">item</span><span> </span><span style="color: rgb(153, 0, 115);">label</span><span>="公司名" </span><span style="color: rgb(153, 0, 115);">prop</span><span>="</span><span style="color: rgb(153, 0, 115);">companyName</span><span>"&gt;  
</span><span>        &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">input</span><span>  
</span><span>          </span><span style="color: rgb(153, 0, 115);">v</span><span>-</span><span style="color: rgb(153, 0, 115);">model</span><span>="</span><span style="color: rgb(153, 0, 115);">queryParams</span><span>.</span><span style="color: rgb(153, 0, 115);">companyName</span><span>"  
</span><span>          </span><span style="color: rgb(153, 0, 115);">placeholder</span><span>="请输入公司名"  
</span><span>          </span><span style="color: rgb(153, 0, 115);">clearable</span><span>  
</span><span>          </span><span style="color: rgb(153, 0, 115);">size</span><span>="</span><span style="color: rgb(153, 0, 115);">small</span><span>"  
</span><span>          @</span><span style="color: rgb(153, 0, 115);">keyup</span><span>.</span><span style="color: rgb(153, 0, 115);">enter</span><span>.</span><span style="color: rgb(153, 0, 115);">native</span><span>="</span><span style="color: rgb(153, 0, 115);">handleQuery</span><span>"  
</span>        /&gt;  
<span>      &lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">form</span><span>-</span><span style="color: rgb(153, 0, 115);">item</span><span>&gt;  
</span><span>      &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">form</span><span>-</span><span style="color: rgb(153, 0, 115);">item</span><span> </span><span style="color: rgb(153, 0, 115);">label</span><span>="状态" </span><span style="color: rgb(153, 0, 115);">prop</span><span>="</span><span style="color: rgb(153, 0, 115);">activeFlag</span><span>"&gt;  
</span><span>        &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">select</span><span> </span><span style="color: rgb(153, 0, 115);">v</span><span>-</span><span style="color: rgb(153, 0, 115);">model</span><span>="</span><span style="color: rgb(153, 0, 115);">queryParams</span><span>.</span><span style="color: rgb(153, 0, 115);">activeFlag</span><span>" </span><span style="color: rgb(153, 0, 115);">placeholder</span><span>="请选择状态" </span><span style="color: rgb(153, 0, 115);">clearable</span><span> </span><span style="color: rgb(153, 0, 115);">size</span><span>="</span><span style="color: rgb(153, 0, 115);">small</span><span>"&gt;  
</span><span>          &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">option</span><span>  
</span><span>            </span><span style="color: rgb(153, 0, 115);">v</span><span>-</span><span style="color: rgb(153, 0, 115);">for</span><span>="</span><span style="color: rgb(153, 0, 115);">dict</span><span> </span><span style="color: rgb(153, 0, 115);">in</span><span> </span><span style="color: rgb(153, 0, 115);">dict</span><span>.</span><span style="color: rgb(153, 0, 115);">type</span><span>.</span><span style="color: rgb(153, 0, 115);">sys_normal_disable</span><span>"  
</span><span>            :</span><span style="color: rgb(153, 0, 115);">key</span><span>="</span><span style="color: rgb(153, 0, 115);">dict</span><span>.</span><span style="color: rgb(153, 0, 115);">value</span><span>"  
</span><span>            :</span><span style="color: rgb(153, 0, 115);">label</span><span>="</span><span style="color: rgb(153, 0, 115);">dict</span><span>.</span><span style="color: rgb(153, 0, 115);">label</span><span>"  
</span><span>            :</span><span style="color: rgb(153, 0, 115);">value</span><span>="</span><span style="color: rgb(153, 0, 115);">dict</span><span>.</span><span style="color: rgb(153, 0, 115);">value</span><span>"  
</span>          /&gt;  
<span>        &lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">select</span><span>&gt;  
</span><span>      &lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">form</span><span>-</span><span style="color: rgb(153, 0, 115);">item</span><span>&gt;  
</span><span>      &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">form</span><span>-</span><span style="color: rgb(153, 0, 115);">item</span><span> </span><span style="color: rgb(153, 0, 115);">label</span><span>="数据库状态" </span><span style="color: rgb(153, 0, 115);">prop</span><span>="</span><span style="color: rgb(153, 0, 115);">dbStatus</span><span>"&gt;  
</span><span>        &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">select</span><span> </span><span style="color: rgb(153, 0, 115);">v</span><span>-</span><span style="color: rgb(153, 0, 115);">model</span><span>="</span><span style="color: rgb(153, 0, 115);">queryParams</span><span>.</span><span style="color: rgb(153, 0, 115);">dbStatus</span><span>" </span><span style="color: rgb(153, 0, 115);">placeholder</span><span>="请选择数据库状态" </span><span style="color: rgb(153, 0, 115);">clearable</span><span> </span><span style="color: rgb(153, 0, 115);">size</span><span>="</span><span style="color: rgb(153, 0, 115);">small</span><span>"&gt;  
</span><span>          &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">option</span><span> </span><span style="color: rgb(153, 0, 115);">label</span><span>="未创建" </span><span style="color: rgb(153, 0, 115);">value</span><span>="</span><span style="color: rgb(153, 0, 115);">0</span><span>" /&gt;  
</span><span>          &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">option</span><span> </span><span style="color: rgb(153, 0, 115);">label</span><span>="已创建" </span><span style="color: rgb(153, 0, 115);">value</span><span>="</span><span style="color: rgb(153, 0, 115);">1</span><span>" /&gt;  
</span><span>          &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">option</span><span> </span><span style="color: rgb(153, 0, 115);">label</span><span>="创建失败" </span><span style="color: rgb(153, 0, 115);">value</span><span>="</span><span style="color: rgb(153, 0, 115);">2</span><span>" /&gt;  
</span><span>        &lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">select</span><span>&gt;  
</span><span>      &lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">form</span><span>-</span><span style="color: rgb(153, 0, 115);">item</span><span>&gt;  
</span><span>      &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">form</span><span>-</span><span style="color: rgb(153, 0, 115);">item</span><span>&gt;  
</span><span>        &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">button</span><span> </span><span style="color: rgb(153, 0, 115);">type</span><span>="</span><span style="color: rgb(153, 0, 115);">primary</span><span>" </span><span style="color: rgb(153, 0, 115);">icon</span><span>="</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">icon</span><span>-</span><span style="color: rgb(153, 0, 115);">search</span><span>" </span><span style="color: rgb(153, 0, 115);">size</span><span>="</span><span style="color: rgb(153, 0, 115);">mini</span><span>" @</span><span style="color: rgb(153, 0, 115);">click</span><span>="</span><span style="color: rgb(153, 0, 115);">handleQuery</span><span>"&gt;搜索&lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">button</span><span>&gt;  
</span><span>        &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">button</span><span> </span><span style="color: rgb(153, 0, 115);">icon</span><span>="</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">icon</span><span>-</span><span style="color: rgb(153, 0, 115);">refresh</span><span>" </span><span style="color: rgb(153, 0, 115);">size</span><span>="</span><span style="color: rgb(153, 0, 115);">mini</span><span>" @</span><span style="color: rgb(153, 0, 115);">click</span><span>="</span><span style="color: rgb(153, 0, 115);">resetQuery</span><span>"&gt;重置&lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">button</span><span>&gt;  
</span><span>      &lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">form</span><span>-</span><span style="color: rgb(153, 0, 115);">item</span><span>&gt;  
</span><span>    &lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">form</span><span>&gt;  
</span>  
<span>    &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">row</span><span> :</span><span style="color: rgb(153, 0, 115);">gutter</span><span>="</span><span style="color: rgb(153, 0, 115);">10</span><span>" </span><span style="color: rgb(153, 0, 115);">class</span><span>="</span><span style="color: rgb(153, 0, 115);">mb8</span><span>"&gt;  
</span><span>      &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">col</span><span> :</span><span style="color: rgb(153, 0, 115);">span</span><span>="</span><span style="color: rgb(153, 0, 115);">1</span><span>.</span><span style="color: rgb(153, 0, 115);">5</span><span>"&gt;  
</span><span>        &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">button</span><span>  
</span><span>          </span><span style="color: rgb(153, 0, 115);">type</span><span>="</span><span style="color: rgb(153, 0, 115);">primary</span><span>"  
</span><span>          </span><span style="color: rgb(153, 0, 115);">plain</span><span>  
</span><span>          </span><span style="color: rgb(153, 0, 115);">icon</span><span>="</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">icon</span><span>-</span><span style="color: rgb(153, 0, 115);">plus</span><span>"  
</span><span>          </span><span style="color: rgb(153, 0, 115);">size</span><span>="</span><span style="color: rgb(153, 0, 115);">mini</span><span>"  
</span><span>          @</span><span style="color: rgb(153, 0, 115);">click</span><span>="</span><span style="color: rgb(153, 0, 115);">handleAdd</span><span>"  
</span><span>          </span><span style="color: rgb(153, 0, 115);">v</span><span>-</span><span style="color: rgb(153, 0, 115);">hasPermi</span><span>="['</span><span style="color: rgb(153, 0, 115);">system:</span><span style="color: rgb(153, 0, 115);">company</span><span style="color: rgb(153, 0, 115);">:</span><span style="color: rgb(153, 0, 115);">add</span><span>']"  
</span><span>        &gt;新增&lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">button</span><span>&gt;  
</span><span>      &lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">col</span><span>&gt;  
</span><span>      &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">col</span><span> :</span><span style="color: rgb(153, 0, 115);">span</span><span>="</span><span style="color: rgb(153, 0, 115);">1</span><span>.</span><span style="color: rgb(153, 0, 115);">5</span><span>"&gt;  
</span><span>        &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>  
</span>  
<span></span><span style="color: rgb(153, 0, 115);">Wiki</span><span> </span><span style="color: rgb(153, 0, 115);">pages</span><span> </span><span style="color: rgb(153, 0, 115);">you</span><span> </span><span style="color: rgb(153, 0, 115);">might</span><span> </span><span style="color: rgb(153, 0, 115);">want</span><span> </span><span style="color: rgb(153, 0, 115);">to</span><span> </span><span style="color: rgb(153, 0, 115);">explore:  
</span><span style="color: rgb(153, 0, 115);"></span><span>- [</span><span style="color: rgb(153, 0, 115);">Code</span><span> </span><span style="color: rgb(153, 0, 115);">Generation</span><span> </span><span style="color: rgb(153, 0, 115);">Service</span><span> </span><span style="color: rgb(153, 0, 115);">Layer</span><span> (</span><span style="color: rgb(153, 0, 115);">1211454975</span><span>/</span><span style="color: rgb(153, 0, 115);">crowdmarket</span><span>)](/</span><span style="color: rgb(153, 0, 115);">wiki</span><span>/</span><span style="color: rgb(153, 0, 115);">1211454975</span><span>/</span><span style="color: rgb(153, 0, 115);">crowdmarket</span><span>#</span><span style="color: rgb(153, 0, 115);">2</span><span>.</span><span style="color: rgb(153, 0, 115);">3</span><span>)</span></code></pre></pre></div><div class="flex items-center gap-1 text-neutral-300"><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M234,80.12A24,24,0,0,0,216,72H160V56a40,40,0,0,0-40-40,8,8,0,0,0-7.16,4.42L75.06,96H32a16,16,0,0,0-16,16v88a16,16,0,0,0,16,16H204a24,24,0,0,0,23.82-21l12-96A24,24,0,0,0,234,80.12ZM32,112H72v88H32ZM223.94,97l-12,96a8,8,0,0,1-7.94,7H88V105.89l36.71-73.43A24,24,0,0,1,144,56V80a8,8,0,0,0,8,8h64a8,8,0,0,1,7.94,9Z"></path></svg></button><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M239.82,157l-12-96A24,24,0,0,0,204,40H32A16,16,0,0,0,16,56v88a16,16,0,0,0,16,16H75.06l37.78,75.58A8,8,0,0,0,120,240a40,40,0,0,0,40-40V184h56a24,24,0,0,0,23.82-27ZM72,144H32V56H72Zm150,21.29a7.88,7.88,0,0,1-6,2.71H152a8,8,0,0,0-8,8v24a24,24,0,0,1-19.29,23.54L88,150.11V56H204a8,8,0,0,1,7.94,7l12,96A7.87,7.87,0,0,1,222,165.29Z"></path></svg></button></div></div></div></div></div><div class="min-w-0 flex-1 scroll-smooth xl:[flex-grow:3]" style="scrollbar-width: thin; scrollbar-color: rgb(90, 90, 90) transparent; min-height: unset;"><div class="sticky left-0 top-0 overflow-y-auto rounded-md" style="max-height: calc(-55px + 100vh);"><div class="flex flex-col gap-2 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-3 dark:border-[#2f2f2f] dark:bg-[#141414]"><div data-state="closed"><button type="button" aria-controls="radix-«rk»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned multi_tenant.sql</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«rk»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«rl»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned GenTableServiceImpl.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«rl»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«rm»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned VelocityUtils.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«rm»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«rn»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned IGenTableService.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«rn»" hidden="" style=""></div></div></div></div></div></div><div class="mb-8 mt-16 h-px w-full bg-neutral-300 dark:bg-neutral-700"></div><div id="8" class="flex flex-col gap-3 pt-8 lg:flex-row" data-query-display="true" data-query-index="7"><div class="flex max-h-fit min-w-0 flex-1 flex-shrink-0 flex-col xl:[flex-grow:2]"><div class=""><div class="flex flex-col"><a class="flex items-center gap-2 text-base text-neutral-400 transition-colors hover:text-black dark:hover:text-white" href="https://deepwiki.com/1211454975/crowdmarket"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"></path></svg>return to 1211454975/crowdmarket</a><div class="flex flex-col items-start gap-2 text-white"><div class="group relative flex items-center"><span class="text-xl xl:text-2xl">继续生成未完成的代码<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to query"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></span></div></div></div><div class="py-3"><div class="text-primary/70 flex flex-col items-start justify-between text-sm"><div class="mb-1"><div class="inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" viewBox="0 0 256 256" class="mr-1"><path d="M213.85,125.46l-112,120a8,8,0,0,1-13.69-7l14.66-73.33L45.19,143.49a8,8,0,0,1-3-13l112-120a8,8,0,0,1,13.69,7L153.18,90.9l57.63,21.61a8,8,0,0,1,3,12.95Z"></path></svg>Fast</div></div><div class="flex w-full items-center justify-between gap-2"><div class="">Searched across 1211454975/crowdmarket</div></div></div></div><div class="h-fit rounded-lg" style="scrollbar-width: thin; scrollbar-color: rgb(58, 58, 58) transparent;"><div class="dark:[&amp;_pre:has(code)]:bg-shade dark:[&amp;_code[data-lang]]:bg-shade relative flex flex-col gap-1 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-4 text-white [overflow-wrap:anywhere] dark:border-[#2F2F2F] dark:bg-[#141414] [&amp;_pre]:my-3"><div class="prose-custom prose-custom-md prose-custom-gray !max-w-none text-neutral-300 [overflow-wrap:anywhere]"><p>I'll continue generating the unfinished code for the tenant database management UI implementation in the CrowdMarket system.</p>
<h1 class="group flex items-center">Answer  </h1>
<p>Continuing with the tenant database management UI implementation:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span>&lt;template&gt;  
</span><span>  &lt;div </span><span style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span>="</span><span style="color: rgb(153, 0, 115);">app</span><span>-</span><span style="color: rgb(153, 0, 115);">container</span><span>"&gt;  
</span><span>    &lt;!-- </span><span style="color: rgb(153, 0, 115);">Search</span><span> </span><span style="color: rgb(153, 0, 115);">form</span><span> (</span><span style="color: rgb(153, 0, 115);">already</span><span> </span><span style="color: rgb(153, 0, 115);">provided</span><span> </span><span style="color: rgb(153, 0, 115);">in</span><span> </span><span style="color: rgb(153, 0, 115);">previous</span><span> </span><span style="color: rgb(153, 0, 115);">response</span><span>) --&gt;  
</span>      
<span>    &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">row</span><span> :</span><span style="color: rgb(153, 0, 115);">gutter</span><span>="</span><span style="color: rgb(153, 0, 115);">10</span><span>" </span><span style="color: rgb(153, 0, 115);">class</span><span>="</span><span style="color: rgb(153, 0, 115);">mb8</span><span>"&gt;  
</span><span>      &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">col</span><span> :</span><span style="color: rgb(153, 0, 115);">span</span><span>="</span><span style="color: rgb(153, 0, 115);">1</span><span>.</span><span style="color: rgb(153, 0, 115);">5</span><span>"&gt;  
</span><span>        &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">button</span><span>  
</span><span>          </span><span style="color: rgb(153, 0, 115);">type</span><span>="</span><span style="color: rgb(153, 0, 115);">primary</span><span>"  
</span><span>          </span><span style="color: rgb(153, 0, 115);">plain</span><span>  
</span><span>          </span><span style="color: rgb(153, 0, 115);">icon</span><span>="</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">icon</span><span>-</span><span style="color: rgb(153, 0, 115);">plus</span><span>"  
</span><span>          </span><span style="color: rgb(153, 0, 115);">size</span><span>="</span><span style="color: rgb(153, 0, 115);">mini</span><span>"  
</span><span>          @</span><span style="color: rgb(153, 0, 115);">click</span><span>="</span><span style="color: rgb(153, 0, 115);">handleAdd</span><span>"  
</span><span>          </span><span style="color: rgb(153, 0, 115);">v</span><span>-</span><span style="color: rgb(153, 0, 115);">hasPermi</span><span>="['</span><span style="color: rgb(153, 0, 115);">system:</span><span style="color: rgb(153, 0, 115);">company</span><span style="color: rgb(153, 0, 115);">:</span><span style="color: rgb(153, 0, 115);">add</span><span>']"  
</span><span>        &gt;新增&lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">button</span><span>&gt;  
</span><span>      &lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">col</span><span>&gt;  
</span><span>      &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">col</span><span> :</span><span style="color: rgb(153, 0, 115);">span</span><span>="</span><span style="color: rgb(153, 0, 115);">1</span><span>.</span><span style="color: rgb(153, 0, 115);">5</span><span>"&gt;  
</span><span>        &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">button</span><span>  
</span><span>          </span><span style="color: rgb(153, 0, 115);">type</span><span>="</span><span style="color: rgb(153, 0, 115);">success</span><span>"  
</span><span>          </span><span style="color: rgb(153, 0, 115);">plain</span><span>  
</span><span>          </span><span style="color: rgb(153, 0, 115);">icon</span><span>="</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">icon</span><span>-</span><span style="color: rgb(153, 0, 115);">edit</span><span>"  
</span><span>          </span><span style="color: rgb(153, 0, 115);">size</span><span>="</span><span style="color: rgb(153, 0, 115);">mini</span><span>"  
</span><span>          :</span><span style="color: rgb(153, 0, 115);">disabled</span><span>="</span><span style="color: rgb(153, 0, 115);">single</span><span>"  
</span><span>          @</span><span style="color: rgb(153, 0, 115);">click</span><span>="</span><span style="color: rgb(153, 0, 115);">handleUpdate</span><span>"  
</span><span>          </span><span style="color: rgb(153, 0, 115);">v</span><span>-</span><span style="color: rgb(153, 0, 115);">hasPermi</span><span>="['</span><span style="color: rgb(153, 0, 115);">system:</span><span style="color: rgb(153, 0, 115);">company</span><span style="color: rgb(153, 0, 115);">:</span><span style="color: rgb(153, 0, 115);">edit</span><span>']"  
</span><span>        &gt;修改&lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">button</span><span>&gt;  
</span><span>      &lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">col</span><span>&gt;  
</span><span>      &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">col</span><span> :</span><span style="color: rgb(153, 0, 115);">span</span><span>="</span><span style="color: rgb(153, 0, 115);">1</span><span>.</span><span style="color: rgb(153, 0, 115);">5</span><span>"&gt;  
</span><span>        &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">button</span><span>  
</span><span>          </span><span style="color: rgb(153, 0, 115);">type</span><span>="</span><span style="color: rgb(153, 0, 115);">danger</span><span>"  
</span><span>          </span><span style="color: rgb(153, 0, 115);">plain</span><span>  
</span><span>          </span><span style="color: rgb(153, 0, 115);">icon</span><span>="</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">icon</span><span>-</span><span style="color: rgb(153, 0, 115);">delete</span><span>"  
</span><span>          </span><span style="color: rgb(153, 0, 115);">size</span><span>="</span><span style="color: rgb(153, 0, 115);">mini</span><span>"  
</span><span>          :</span><span style="color: rgb(153, 0, 115);">disabled</span><span>="</span><span style="color: rgb(153, 0, 115);">multiple</span><span>"  
</span><span>          @</span><span style="color: rgb(153, 0, 115);">click</span><span>="</span><span style="color: rgb(153, 0, 115);">handleDelete</span><span>"  
</span><span>          </span><span style="color: rgb(153, 0, 115);">v</span><span>-</span><span style="color: rgb(153, 0, 115);">hasPermi</span><span>="['</span><span style="color: rgb(153, 0, 115);">system:</span><span style="color: rgb(153, 0, 115);">company</span><span style="color: rgb(153, 0, 115);">:</span><span style="color: rgb(153, 0, 115);">remove</span><span>']"  
</span><span>        &gt;删除&lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">button</span><span>&gt;  
</span><span>      &lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">col</span><span>&gt;  
</span><span>      &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">col</span><span> :</span><span style="color: rgb(153, 0, 115);">span</span><span>="</span><span style="color: rgb(153, 0, 115);">1</span><span>.</span><span style="color: rgb(153, 0, 115);">5</span><span>"&gt;  
</span><span>        &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">button</span><span>  
</span><span>          </span><span style="color: rgb(153, 0, 115);">type</span><span>="</span><span style="color: rgb(153, 0, 115);">warning</span><span>"  
</span><span>          </span><span style="color: rgb(153, 0, 115);">plain</span><span>  
</span><span>          </span><span style="color: rgb(153, 0, 115);">icon</span><span>="</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">icon</span><span>-</span><span style="color: rgb(153, 0, 115);">download</span><span>"  
</span><span>          </span><span style="color: rgb(153, 0, 115);">size</span><span>="</span><span style="color: rgb(153, 0, 115);">mini</span><span>"  
</span><span>          @</span><span style="color: rgb(153, 0, 115);">click</span><span>="</span><span style="color: rgb(153, 0, 115);">handleExport</span><span>"  
</span><span>          </span><span style="color: rgb(153, 0, 115);">v</span><span>-</span><span style="color: rgb(153, 0, 115);">hasPermi</span><span>="['</span><span style="color: rgb(153, 0, 115);">system:</span><span style="color: rgb(153, 0, 115);">company</span><span style="color: rgb(153, 0, 115);">:</span><span style="color: rgb(153, 0, 115);">export</span><span>']"  
</span><span>        &gt;导出&lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">button</span><span>&gt;  
</span><span>      &lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">col</span><span>&gt;  
</span><span>      &lt;</span><span style="color: rgb(153, 0, 115);">right</span><span>-</span><span style="color: rgb(153, 0, 115);">toolbar</span><span> :</span><span style="color: rgb(153, 0, 115);">showSearch</span><span>.</span><span style="color: rgb(153, 0, 115);">sync</span><span>="</span><span style="color: rgb(153, 0, 115);">showSearch</span><span>" @</span><span style="color: rgb(153, 0, 115);">queryTable</span><span>="</span><span style="color: rgb(153, 0, 115);">getList</span><span>"&gt;&lt;/</span><span style="color: rgb(153, 0, 115);">right</span><span>-</span><span style="color: rgb(153, 0, 115);">toolbar</span><span>&gt;  
</span><span>    &lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">row</span><span>&gt;  
</span>  
<span>    &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">table</span><span> </span><span style="color: rgb(153, 0, 115);">v</span><span>-</span><span style="color: rgb(153, 0, 115);">loading</span><span>="</span><span style="color: rgb(153, 0, 115);">loading</span><span>" :</span><span style="color: rgb(153, 0, 115);">data</span><span>="</span><span style="color: rgb(153, 0, 115);">companyList</span><span>" @</span><span style="color: rgb(153, 0, 115);">selection</span><span>-</span><span style="color: rgb(153, 0, 115);">change</span><span>="</span><span style="color: rgb(153, 0, 115);">handleSelectionChange</span><span>"&gt;  
</span><span>      &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">table</span><span>-</span><span style="color: rgb(153, 0, 115);">column</span><span> </span><span style="color: rgb(153, 0, 115);">type</span><span>="</span><span style="color: rgb(153, 0, 115);">selection</span><span>" </span><span style="color: rgb(153, 0, 115);">width</span><span>="</span><span style="color: rgb(153, 0, 115);">55</span><span>" </span><span style="color: rgb(153, 0, 115);">align</span><span>="</span><span style="color: rgb(153, 0, 115);">center</span><span>" /&gt;  
</span><span>      &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">table</span><span>-</span><span style="color: rgb(153, 0, 115);">column</span><span> </span><span style="color: rgb(153, 0, 115);">label</span><span>="公司</span><span style="color: rgb(153, 0, 115);">ID</span><span>" </span><span style="color: rgb(153, 0, 115);">align</span><span>="</span><span style="color: rgb(153, 0, 115);">center</span><span>" </span><span style="color: rgb(153, 0, 115);">prop</span><span>="</span><span style="color: rgb(153, 0, 115);">id</span><span>" /&gt;  
</span><span>      &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">table</span><span>-</span><span style="color: rgb(153, 0, 115);">column</span><span> </span><span style="color: rgb(153, 0, 115);">label</span><span>="公司名称" </span><span style="color: rgb(153, 0, 115);">align</span><span>="</span><span style="color: rgb(153, 0, 115);">center</span><span>" </span><span style="color: rgb(153, 0, 115);">prop</span><span>="</span><span style="color: rgb(153, 0, 115);">companyName</span><span>" /&gt;  
</span><span>      &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">table</span><span>-</span><span style="color: rgb(153, 0, 115);">column</span><span> </span><span style="color: rgb(153, 0, 115);">label</span><span>="状态" </span><span style="color: rgb(153, 0, 115);">align</span><span>="</span><span style="color: rgb(153, 0, 115);">center</span><span>" </span><span style="color: rgb(153, 0, 115);">prop</span><span>="</span><span style="color: rgb(153, 0, 115);">activeFlag</span><span>"&gt;  
</span><span>        &lt;</span><span style="color: rgb(153, 0, 115);">template</span><span> </span><span style="color: rgb(153, 0, 115);">slot</span><span>-</span><span style="color: rgb(153, 0, 115);">scope</span><span>="</span><span style="color: rgb(153, 0, 115);">scope</span><span>"&gt;  
</span><span>          &lt;</span><span style="color: rgb(153, 0, 115);">dict</span><span>-</span><span style="color: rgb(153, 0, 115);">tag</span><span> :</span><span style="color: rgb(153, 0, 115);">options</span><span>="</span><span style="color: rgb(153, 0, 115);">dict</span><span>.</span><span style="color: rgb(153, 0, 115);">type</span><span>.</span><span style="color: rgb(153, 0, 115);">sys_normal_disable</span><span>" :</span><span style="color: rgb(153, 0, 115);">value</span><span>="</span><span style="color: rgb(153, 0, 115);">scope</span><span>.</span><span style="color: rgb(153, 0, 115);">row</span><span>.</span><span style="color: rgb(153, 0, 115);">activeFlag</span><span>"/&gt;  
</span><span>        &lt;/</span><span style="color: rgb(153, 0, 115);">template</span><span>&gt;  
</span><span>      &lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">table</span><span>-</span><span style="color: rgb(153, 0, 115);">column</span><span>&gt;  
</span><span>      &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">table</span><span>-</span><span style="color: rgb(153, 0, 115);">column</span><span> </span><span style="color: rgb(153, 0, 115);">label</span><span>="数据库状态" </span><span style="color: rgb(153, 0, 115);">align</span><span>="</span><span style="color: rgb(153, 0, 115);">center</span><span>" </span><span style="color: rgb(153, 0, 115);">prop</span><span>="</span><span style="color: rgb(153, 0, 115);">dbStatus</span><span>"&gt;  
</span><span>        &lt;</span><span style="color: rgb(153, 0, 115);">template</span><span> </span><span style="color: rgb(153, 0, 115);">slot</span><span>-</span><span style="color: rgb(153, 0, 115);">scope</span><span>="</span><span style="color: rgb(153, 0, 115);">scope</span><span>"&gt;  
</span><span>          &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">tag</span><span> </span><span style="color: rgb(153, 0, 115);">v</span><span>-</span><span style="color: rgb(153, 0, 115);">if</span><span>="</span><span style="color: rgb(153, 0, 115);">scope</span><span>.</span><span style="color: rgb(153, 0, 115);">row</span><span>.</span><span style="color: rgb(153, 0, 115);">dbStatus</span><span> === </span><span style="color: rgb(153, 0, 115);">0</span><span>" </span><span style="color: rgb(153, 0, 115);">type</span><span>="</span><span style="color: rgb(153, 0, 115);">info</span><span>"&gt;未创建&lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">tag</span><span>&gt;  
</span><span>          &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">tag</span><span> </span><span style="color: rgb(153, 0, 115);">v</span><span>-</span><span style="color: rgb(153, 0, 115);">else</span><span>-</span><span style="color: rgb(153, 0, 115);">if</span><span>="</span><span style="color: rgb(153, 0, 115);">scope</span><span>.</span><span style="color: rgb(153, 0, 115);">row</span><span>.</span><span style="color: rgb(153, 0, 115);">dbStatus</span><span> === </span><span style="color: rgb(153, 0, 115);">1</span><span>" </span><span style="color: rgb(153, 0, 115);">type</span><span>="</span><span style="color: rgb(153, 0, 115);">success</span><span>"&gt;已创建&lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">tag</span><span>&gt;  
</span><span>          &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">tag</span><span> </span><span style="color: rgb(153, 0, 115);">v</span><span>-</span><span style="color: rgb(153, 0, 115);">else</span><span>-</span><span style="color: rgb(153, 0, 115);">if</span><span>="</span><span style="color: rgb(153, 0, 115);">scope</span><span>.</span><span style="color: rgb(153, 0, 115);">row</span><span>.</span><span style="color: rgb(153, 0, 115);">dbStatus</span><span> === </span><span style="color: rgb(153, 0, 115);">2</span><span>" </span><span style="color: rgb(153, 0, 115);">type</span><span>="</span><span style="color: rgb(153, 0, 115);">danger</span><span>"&gt;创建失败&lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">tag</span><span>&gt;  
</span><span>        &lt;/</span><span style="color: rgb(153, 0, 115);">template</span><span>&gt;  
</span><span>      &lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">table</span><span>-</span><span style="color: rgb(153, 0, 115);">column</span><span>&gt;  
</span><span>      &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">table</span><span>-</span><span style="color: rgb(153, 0, 115);">column</span><span> </span><span style="color: rgb(153, 0, 115);">label</span><span>="创建时间" </span><span style="color: rgb(153, 0, 115);">align</span><span>="</span><span style="color: rgb(153, 0, 115);">center</span><span>" </span><span style="color: rgb(153, 0, 115);">prop</span><span>="</span><span style="color: rgb(153, 0, 115);">createTime</span><span>" </span><span style="color: rgb(153, 0, 115);">width</span><span>="</span><span style="color: rgb(153, 0, 115);">180</span><span>"&gt;  
</span><span>        &lt;</span><span style="color: rgb(153, 0, 115);">template</span><span> </span><span style="color: rgb(153, 0, 115);">slot</span><span>-</span><span style="color: rgb(153, 0, 115);">scope</span><span>="</span><span style="color: rgb(153, 0, 115);">scope</span><span>"&gt;  
</span><span>          &lt;</span><span style="color: rgb(153, 0, 115);">span</span><span>&gt;{{ parseTime(scope.row.createTime) }}&lt;/span&gt;  
</span>        &lt;/template&gt;  
      &lt;/el-table-column&gt;  
<span>      &lt;el-table-column label=</span><span style="color: rgb(221, 17, 68);">"操作"</span><span> align=</span><span style="color: rgb(221, 17, 68);">"center"</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span>-</span><span style="color: rgb(153, 0, 115);">name</span><span>="</span><span style="color: rgb(153, 0, 115);">small</span><span>-</span><span style="color: rgb(153, 0, 115);">padding</span><span> </span><span style="color: rgb(153, 0, 115);">fixed</span><span>-</span><span style="color: rgb(153, 0, 115);">width</span><span>"&gt;  
</span><span>        &lt;</span><span style="color: rgb(153, 0, 115);">template</span><span> </span><span style="color: rgb(153, 0, 115);">slot</span><span>-</span><span style="color: rgb(153, 0, 115);">scope</span><span>="</span><span style="color: rgb(153, 0, 115);">scope</span><span>"&gt;  
</span><span>          &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">button</span><span>  
</span><span>            </span><span style="color: rgb(153, 0, 115);">size</span><span>="</span><span style="color: rgb(153, 0, 115);">mini</span><span>"  
</span><span>            </span><span style="color: rgb(153, 0, 115);">type</span><span>="</span><span style="color: rgb(153, 0, 115);">text</span><span>"  
</span><span>            </span><span style="color: rgb(153, 0, 115);">icon</span><span>="</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">icon</span><span>-</span><span style="color: rgb(153, 0, 115);">edit</span><span>"  
</span><span>            @</span><span style="color: rgb(153, 0, 115);">click</span><span>="</span><span style="color: rgb(153, 0, 115);">handleUpdate</span><span>(</span><span style="color: rgb(153, 0, 115);">scope</span><span>.</span><span style="color: rgb(153, 0, 115);">row</span><span>)"  
</span><span>            </span><span style="color: rgb(153, 0, 115);">v</span><span>-</span><span style="color: rgb(153, 0, 115);">hasPermi</span><span>="['</span><span style="color: rgb(153, 0, 115);">system:</span><span style="color: rgb(153, 0, 115);">company</span><span style="color: rgb(153, 0, 115);">:</span><span style="color: rgb(153, 0, 115);">edit</span><span>']"  
</span><span>          &gt;修改&lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">button</span><span>&gt;  
</span><span>          &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">button</span><span>  
</span><span>            </span><span style="color: rgb(153, 0, 115);">size</span><span>="</span><span style="color: rgb(153, 0, 115);">mini</span><span>"  
</span><span>            </span><span style="color: rgb(153, 0, 115);">type</span><span>="</span><span style="color: rgb(153, 0, 115);">text</span><span>"  
</span><span>            </span><span style="color: rgb(153, 0, 115);">icon</span><span>="</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">icon</span><span>-</span><span style="color: rgb(153, 0, 115);">delete</span><span>"  
</span><span>            @</span><span style="color: rgb(153, 0, 115);">click</span><span>="</span><span style="color: rgb(153, 0, 115);">handleDelete</span><span>(</span><span style="color: rgb(153, 0, 115);">scope</span><span>.</span><span style="color: rgb(153, 0, 115);">row</span><span>)"  
</span><span>            </span><span style="color: rgb(153, 0, 115);">v</span><span>-</span><span style="color: rgb(153, 0, 115);">hasPermi</span><span>="['</span><span style="color: rgb(153, 0, 115);">system:</span><span style="color: rgb(153, 0, 115);">company</span><span style="color: rgb(153, 0, 115);">:</span><span style="color: rgb(153, 0, 115);">remove</span><span>']"  
</span><span>          &gt;删除&lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">button</span><span>&gt;  
</span><span>          &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">button</span><span>  
</span><span>            </span><span style="color: rgb(153, 0, 115);">v</span><span>-</span><span style="color: rgb(153, 0, 115);">if</span><span>="</span><span style="color: rgb(153, 0, 115);">scope</span><span>.</span><span style="color: rgb(153, 0, 115);">row</span><span>.</span><span style="color: rgb(153, 0, 115);">dbStatus</span><span> === </span><span style="color: rgb(153, 0, 115);">0</span><span>"  
</span><span>            </span><span style="color: rgb(153, 0, 115);">size</span><span>="</span><span style="color: rgb(153, 0, 115);">mini</span><span>"  
</span><span>            </span><span style="color: rgb(153, 0, 115);">type</span><span>="</span><span style="color: rgb(153, 0, 115);">text</span><span>"  
</span><span>            </span><span style="color: rgb(153, 0, 115);">icon</span><span>="</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">icon</span><span>-</span><span style="color: rgb(153, 0, 115);">s</span><span>-</span><span style="color: rgb(153, 0, 115);">platform</span><span>"  
</span><span>            @</span><span style="color: rgb(153, 0, 115);">click</span><span>="</span><span style="color: rgb(153, 0, 115);">handleCreateDatabase</span><span>(</span><span style="color: rgb(153, 0, 115);">scope</span><span>.</span><span style="color: rgb(153, 0, 115);">row</span><span>)"  
</span><span>            </span><span style="color: rgb(153, 0, 115);">v</span><span>-</span><span style="color: rgb(153, 0, 115);">hasPermi</span><span>="['</span><span style="color: rgb(153, 0, 115);">system:</span><span style="color: rgb(153, 0, 115);">tenant</span><span style="color: rgb(153, 0, 115);">:</span><span style="color: rgb(153, 0, 115);">create</span><span>']"  
</span><span>          &gt;创建数据库&lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">button</span><span>&gt;  
</span><span>          &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">button</span><span>  
</span><span>            </span><span style="color: rgb(153, 0, 115);">v</span><span>-</span><span style="color: rgb(153, 0, 115);">if</span><span>="</span><span style="color: rgb(153, 0, 115);">scope</span><span>.</span><span style="color: rgb(153, 0, 115);">row</span><span>.</span><span style="color: rgb(153, 0, 115);">dbStatus</span><span> === </span><span style="color: rgb(153, 0, 115);">1</span><span>"  
</span><span>            </span><span style="color: rgb(153, 0, 115);">size</span><span>="</span><span style="color: rgb(153, 0, 115);">mini</span><span>"  
</span><span>            </span><span style="color: rgb(153, 0, 115);">type</span><span>="</span><span style="color: rgb(153, 0, 115);">text</span><span>"  
</span><span>            </span><span style="color: rgb(153, 0, 115);">icon</span><span>="</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">icon</span><span>-</span><span style="color: rgb(153, 0, 115);">view</span><span>"  
</span><span>            @</span><span style="color: rgb(153, 0, 115);">click</span><span>="</span><span style="color: rgb(153, 0, 115);">handleViewDatabase</span><span>(</span><span style="color: rgb(153, 0, 115);">scope</span><span>.</span><span style="color: rgb(153, 0, 115);">row</span><span>)"  
</span><span>            </span><span style="color: rgb(153, 0, 115);">v</span><span>-</span><span style="color: rgb(153, 0, 115);">hasPermi</span><span>="['</span><span style="color: rgb(153, 0, 115);">system:</span><span style="color: rgb(153, 0, 115);">tenant</span><span style="color: rgb(153, 0, 115);">:</span><span style="color: rgb(153, 0, 115);">query</span><span>']"  
</span><span>          &gt;查看数据库&lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">button</span><span>&gt;  
</span><span>        &lt;/</span><span style="color: rgb(153, 0, 115);">template</span><span>&gt;  
</span><span>      &lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">table</span><span>-</span><span style="color: rgb(153, 0, 115);">column</span><span>&gt;  
</span><span>    &lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">table</span><span>&gt;  
</span>      
<span>    &lt;</span><span style="color: rgb(153, 0, 115);">pagination</span><span>  
</span><span>      </span><span style="color: rgb(153, 0, 115);">v</span><span>-</span><span style="color: rgb(153, 0, 115);">show</span><span>="</span><span style="color: rgb(153, 0, 115);">total</span><span>&gt;</span><span style="color: rgb(153, 0, 115);">0</span><span>"  
</span><span>      :</span><span style="color: rgb(153, 0, 115);">total</span><span>="</span><span style="color: rgb(153, 0, 115);">total</span><span>"  
</span><span>      :</span><span style="color: rgb(153, 0, 115);">page</span><span>.</span><span style="color: rgb(153, 0, 115);">sync</span><span>="</span><span style="color: rgb(153, 0, 115);">queryParams</span><span>.</span><span style="color: rgb(153, 0, 115);">pageNum</span><span>"  
</span><span>      :</span><span style="color: rgb(153, 0, 115);">limit</span><span>.</span><span style="color: rgb(153, 0, 115);">sync</span><span>="</span><span style="color: rgb(153, 0, 115);">queryParams</span><span>.</span><span style="color: rgb(153, 0, 115);">pageSize</span><span>"  
</span><span>      @</span><span style="color: rgb(153, 0, 115);">pagination</span><span>="</span><span style="color: rgb(153, 0, 115);">getList</span><span>"  
</span>    /&gt;  
  
    &lt;!-- 添加或修改公司对话框 --&gt;  
<span>    &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">dialog</span><span> :</span><span style="color: rgb(153, 0, 115);">title</span><span>="</span><span style="color: rgb(153, 0, 115);">title</span><span>" :</span><span style="color: rgb(153, 0, 115);">visible</span><span>.</span><span style="color: rgb(153, 0, 115);">sync</span><span>="</span><span style="color: rgb(153, 0, 115);">open</span><span>" </span><span style="color: rgb(153, 0, 115);">width</span><span>="</span><span style="color: rgb(153, 0, 115);">500px</span><span>" </span><span style="color: rgb(153, 0, 115);">append</span><span>-</span><span style="color: rgb(153, 0, 115);">to</span><span>-</span><span style="color: rgb(153, 0, 115);">body</span><span>&gt;  
</span><span>      &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">form</span><span> </span><span style="color: rgb(153, 0, 115);">ref</span><span>="</span><span style="color: rgb(153, 0, 115);">form</span><span>" :</span><span style="color: rgb(153, 0, 115);">model</span><span>="</span><span style="color: rgb(153, 0, 115);">form</span><span>" :</span><span style="color: rgb(153, 0, 115);">rules</span><span>="</span><span style="color: rgb(153, 0, 115);">rules</span><span>" </span><span style="color: rgb(153, 0, 115);">label</span><span>-</span><span style="color: rgb(153, 0, 115);">width</span><span>="</span><span style="color: rgb(153, 0, 115);">80px</span><span>"&gt;  
</span><span>        &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">form</span><span>-</span><span style="color: rgb(153, 0, 115);">item</span><span> </span><span style="color: rgb(153, 0, 115);">label</span><span>="公司名称" </span><span style="color: rgb(153, 0, 115);">prop</span><span>="</span><span style="color: rgb(153, 0, 115);">companyName</span><span>"&gt;  
</span><span>          &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">input</span><span> </span><span style="color: rgb(153, 0, 115);">v</span><span>-</span><span style="color: rgb(153, 0, 115);">model</span><span>="</span><span style="color: rgb(153, 0, 115);">form</span><span>.</span><span style="color: rgb(153, 0, 115);">companyName</span><span>" </span><span style="color: rgb(153, 0, 115);">placeholder</span><span>="请输入公司名称" /&gt;  
</span><span>        &lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">form</span><span>-</span><span style="color: rgb(153, 0, 115);">item</span><span>&gt;  
</span><span>        &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">form</span><span>-</span><span style="color: rgb(153, 0, 115);">item</span><span> </span><span style="color: rgb(153, 0, 115);">label</span><span>="地址" </span><span style="color: rgb(153, 0, 115);">prop</span><span>="</span><span style="color: rgb(153, 0, 115);">address</span><span>"&gt;  
</span><span>          &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">input</span><span> </span><span style="color: rgb(153, 0, 115);">v</span><span>-</span><span style="color: rgb(153, 0, 115);">model</span><span>="</span><span style="color: rgb(153, 0, 115);">form</span><span>.</span><span style="color: rgb(153, 0, 115);">address</span><span>" </span><span style="color: rgb(153, 0, 115);">placeholder</span><span>="请输入地址" /&gt;  
</span><span>        &lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">form</span><span>-</span><span style="color: rgb(153, 0, 115);">item</span><span>&gt;  
</span><span>        &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">form</span><span>-</span><span style="color: rgb(153, 0, 115);">item</span><span> </span><span style="color: rgb(153, 0, 115);">label</span><span>="电话" </span><span style="color: rgb(153, 0, 115);">prop</span><span>="</span><span style="color: rgb(153, 0, 115);">phone</span><span>"&gt;  
</span><span>          &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">input</span><span> </span><span style="color: rgb(153, 0, 115);">v</span><span>-</span><span style="color: rgb(153, 0, 115);">model</span><span>="</span><span style="color: rgb(153, 0, 115);">form</span><span>.</span><span style="color: rgb(153, 0, 115);">phone</span><span>" </span><span style="color: rgb(153, 0, 115);">placeholder</span><span>="请输入电话" /&gt;  
</span><span>        &lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">form</span><span>-</span><span style="color: rgb(153, 0, 115);">item</span><span>&gt;  
</span><span>        &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">form</span><span>-</span><span style="color: rgb(153, 0, 115);">item</span><span> </span><span style="color: rgb(153, 0, 115);">label</span><span>="邮箱" </span><span style="color: rgb(153, 0, 115);">prop</span><span>="</span><span style="color: rgb(153, 0, 115);">email</span><span>"&gt;  
</span><span>          &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">input</span><span> </span><span style="color: rgb(153, 0, 115);">v</span><span>-</span><span style="color: rgb(153, 0, 115);">model</span><span>="</span><span style="color: rgb(153, 0, 115);">form</span><span>.</span><span style="color: rgb(153, 0, 115);">email</span><span>" </span><span style="color: rgb(153, 0, 115);">placeholder</span><span>="请输入邮箱" /&gt;  
</span><span>        &lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">form</span><span>-</span><span style="color: rgb(153, 0, 115);">item</span><span>&gt;  
</span><span>        &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">form</span><span>-</span><span style="color: rgb(153, 0, 115);">item</span><span> </span><span style="color: rgb(153, 0, 115);">label</span><span>="状态"&gt;  
</span><span>          &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">radio</span><span>-</span><span style="color: rgb(153, 0, 115);">group</span><span> </span><span style="color: rgb(153, 0, 115);">v</span><span>-</span><span style="color: rgb(153, 0, 115);">model</span><span>="</span><span style="color: rgb(153, 0, 115);">form</span><span>.</span><span style="color: rgb(153, 0, 115);">activeFlag</span><span>"&gt;  
</span><span>            &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">radio</span><span>  
</span><span>              </span><span style="color: rgb(153, 0, 115);">v</span><span>-</span><span style="color: rgb(153, 0, 115);">for</span><span>="</span><span style="color: rgb(153, 0, 115);">dict</span><span> </span><span style="color: rgb(153, 0, 115);">in</span><span> </span><span style="color: rgb(153, 0, 115);">dict</span><span>.</span><span style="color: rgb(153, 0, 115);">type</span><span>.</span><span style="color: rgb(153, 0, 115);">sys_normal_disable</span><span>"  
</span><span>              :</span><span style="color: rgb(153, 0, 115);">key</span><span>="</span><span style="color: rgb(153, 0, 115);">dict</span><span>.</span><span style="color: rgb(153, 0, 115);">value</span><span>"  
</span><span>              :</span><span style="color: rgb(153, 0, 115);">label</span><span>="</span><span style="color: rgb(153, 0, 115);">parseInt</span><span>(</span><span style="color: rgb(153, 0, 115);">dict</span><span>.</span><span style="color: rgb(153, 0, 115);">value</span><span>)"  
</span>            &gt;{{dict.label}}&lt;/el-radio&gt;  
          &lt;/el-radio-group&gt;  
        &lt;/el-form-item&gt;  
      &lt;/el-form&gt;  
<span>      &lt;div slot=</span><span style="color: rgb(221, 17, 68);">"footer"</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span>="</span><span style="color: rgb(153, 0, 115);">dialog</span><span>-</span><span style="color: rgb(153, 0, 115);">footer</span><span>"&gt;  
</span><span>        &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">button</span><span> </span><span style="color: rgb(153, 0, 115);">type</span><span>="</span><span style="color: rgb(153, 0, 115);">primary</span><span>" @</span><span style="color: rgb(153, 0, 115);">click</span><span>="</span><span style="color: rgb(153, 0, 115);">submitForm</span><span>"&gt;确 定&lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">button</span><span>&gt;  
</span><span>        &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">button</span><span> @</span><span style="color: rgb(153, 0, 115);">click</span><span>="</span><span style="color: rgb(153, 0, 115);">cancel</span><span>"&gt;取 消&lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">button</span><span>&gt;  
</span><span>      &lt;/</span><span style="color: rgb(153, 0, 115);">div</span><span>&gt;  
</span><span>    &lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">dialog</span><span>&gt;  
</span>      
    &lt;!-- 查看数据库对话框 --&gt;  
<span>    &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">dialog</span><span> </span><span style="color: rgb(153, 0, 115);">title</span><span>="数据库信息" :</span><span style="color: rgb(153, 0, 115);">visible</span><span>.</span><span style="color: rgb(153, 0, 115);">sync</span><span>="</span><span style="color: rgb(153, 0, 115);">dbOpen</span><span>" </span><span style="color: rgb(153, 0, 115);">width</span><span>="</span><span style="color: rgb(153, 0, 115);">600px</span><span>" </span><span style="color: rgb(153, 0, 115);">append</span><span>-</span><span style="color: rgb(153, 0, 115);">to</span><span>-</span><span style="color: rgb(153, 0, 115);">body</span><span>&gt;  
</span><span>      &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">descriptions</span><span> :</span><span style="color: rgb(153, 0, 115);">column</span><span>="</span><span style="color: rgb(153, 0, 115);">2</span><span>" </span><span style="color: rgb(153, 0, 115);">border</span><span>&gt;  
</span><span>        &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">descriptions</span><span>-</span><span style="color: rgb(153, 0, 115);">item</span><span> </span><span style="color: rgb(153, 0, 115);">label</span><span>="租户</span><span style="color: rgb(153, 0, 115);">ID</span><span>"&gt;{{ dbInfo.tenantId }}&lt;/el-descriptions-item&gt;  
</span><span>        &lt;el-descriptions-item label=</span><span style="color: rgb(221, 17, 68);">"数据库名称"</span><span>&gt;{{ dbInfo.dbName }}&lt;/el-descriptions-item&gt;  
</span><span>        &lt;el-descriptions-item label=</span><span style="color: rgb(221, 17, 68);">"数据库主机"</span><span>&gt;{{ dbInfo.dbHost }}&lt;/el-descriptions-item&gt;  
</span><span>        &lt;el-descriptions-item label=</span><span style="color: rgb(221, 17, 68);">"数据库端口"</span><span>&gt;{{ dbInfo.dbPort }}&lt;/el-descriptions-item&gt;  
</span><span>        &lt;el-descriptions-item label=</span><span style="color: rgb(221, 17, 68);">"数据库用户名"</span><span>&gt;{{ dbInfo.dbUsername }}&lt;/el-descriptions-item&gt;  
</span><span>        &lt;el-descriptions-item label=</span><span style="color: rgb(221, 17, 68);">"状态"</span><span>&gt;  
</span><span>          &lt;el-tag v-</span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span>=</span><span style="color: rgb(221, 17, 68);">"dbInfo.status === 1"</span><span> type=</span><span style="color: rgb(221, 17, 68);">"success"</span><span>&gt;启用&lt;/el-tag&gt;  
</span><span>          &lt;el-tag v-</span><span style="color: rgb(51, 51, 51); font-weight: bold;">else</span><span> type=</span><span style="color: rgb(221, 17, 68);">"danger"</span><span>&gt;停用&lt;/el-tag&gt;  
</span>        &lt;/el-descriptions-item&gt;  
<span>        &lt;el-descriptions-item label=</span><span style="color: rgb(221, 17, 68);">"创建时间"</span><span>&gt;{{ parseTime(dbInfo.createTime) }}&lt;/el-descriptions-item&gt;  
</span><span>        &lt;el-descriptions-item label=</span><span style="color: rgb(221, 17, 68);">"更新时间"</span><span>&gt;{{ parseTime(dbInfo.updateTime) }}&lt;/el-descriptions-item&gt;  
</span>      &lt;/el-descriptions&gt;  
<span>      &lt;div slot=</span><span style="color: rgb(221, 17, 68);">"footer"</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span>="</span><span style="color: rgb(153, 0, 115);">dialog</span><span>-</span><span style="color: rgb(153, 0, 115);">footer</span><span>"&gt;  
</span><span>        &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">button</span><span> </span><span style="color: rgb(153, 0, 115);">type</span><span>="</span><span style="color: rgb(153, 0, 115);">primary</span><span>" @</span><span style="color: rgb(153, 0, 115);">click</span><span>="</span><span style="color: rgb(153, 0, 115);">testDbConnection</span><span>"&gt;测试连接&lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">button</span><span>&gt;  
</span><span>        &lt;</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">button</span><span> @</span><span style="color: rgb(153, 0, 115);">click</span><span>="</span><span style="color: rgb(153, 0, 115);">dbOpen</span><span> = </span><span style="color: rgb(153, 0, 115);">false</span><span>"&gt;关 闭&lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">button</span><span>&gt;  
</span><span>      &lt;/</span><span style="color: rgb(153, 0, 115);">div</span><span>&gt;  
</span><span>    &lt;/</span><span style="color: rgb(153, 0, 115);">el</span><span>-</span><span style="color: rgb(153, 0, 115);">dialog</span><span>&gt;  
</span><span>  &lt;/</span><span style="color: rgb(153, 0, 115);">div</span><span>&gt;  
</span><span>&lt;/</span><span style="color: rgb(153, 0, 115);">template</span><span>&gt;  
</span>  
<span>&lt;</span><span style="color: rgb(153, 0, 115);">script</span><span>&gt;  
</span><span></span><span style="color: rgb(153, 0, 115);">import</span><span> { listCompany, getCompany, delCompany, addCompany, updateCompany, exportCompany } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">from</span><span> </span><span style="color: rgb(221, 17, 68);">"@/api/system/company"</span><span>;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> { createTenantDatabase, getTenantDatabase, testConnection } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">from</span><span> </span><span style="color: rgb(221, 17, 68);">"@/api/system/tenantDatabase"</span><span>;  
</span>  
<span>export </span><span style="color: rgb(51, 51, 51); font-weight: bold;">default</span><span> {  
</span><span>  name: </span><span style="color: rgb(221, 17, 68);">"Company"</span><span>,  
</span><span>  dicts: [</span><span style="color: rgb(221, 17, 68);">'sys_normal_disable'</span><span>],  
</span>  data() {  
<span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> {  
</span><span>      </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 遮罩层  </span><span>
</span><span>      loading: </span><span style="color: rgb(0, 128, 128);">true</span><span>,  
</span><span>      </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 选中数组  </span><span>
</span>      ids: [],  
<span>      </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 非单个禁用  </span><span>
</span><span>      single: </span><span style="color: rgb(0, 128, 128);">true</span><span>,  
</span><span>      </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 非多个禁用  </span><span>
</span><span>      multiple: </span><span style="color: rgb(0, 128, 128);">true</span><span>,  
</span><span>      </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 显示搜索条件  </span><span>
</span><span>      showSearch: </span><span style="color: rgb(0, 128, 128);">true</span><span>,  
</span><span>      </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 总条数  </span><span>
</span><span>      total: </span><span style="color: rgb(0, 128, 128);">0</span><span>,  
</span><span>      </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 公司表格数据  </span><span>
</span>      companyList: [],  
<span>      </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 弹出层标题  </span><span>
</span><span>      title: </span><span style="color: rgb(221, 17, 68);">""</span><span>,  
</span><span>      </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 是否显示弹出层  </span><span>
</span><span>      open: </span><span style="color: rgb(0, 128, 128);">false</span><span>,  
</span><span>      </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 是否显示数据库弹出层  </span><span>
</span><span>      dbOpen: </span><span style="color: rgb(0, 128, 128);">false</span><span>,  
</span><span>      </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 数据库信息  </span><span>
</span>      dbInfo: {},  
<span>      </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 查询参数  </span><span>
</span>      queryParams: {  
<span>        pageNum: </span><span style="color: rgb(0, 128, 128);">1</span><span>,  
</span><span>        pageSize: </span><span style="color: rgb(0, 128, 128);">10</span><span>,  
</span>        companyName: undefined,  
        activeFlag: undefined,  
        dbStatus: undefined  
      },  
<span>      </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 表单参数  </span><span>
</span>      form: {},  
<span>      </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 表单校验  </span><span>
</span>      rules: {  
        companyName: [  
<span>          { required: </span><span style="color: rgb(0, 128, 128);">true</span><span>, message: </span><span style="color: rgb(221, 17, 68);">"公司名称不能为空"</span><span>, trigger: </span><span style="color: rgb(221, 17, 68);">"blur"</span><span> }  
</span>        ],  
        email: [  
<span>          { type: </span><span style="color: rgb(221, 17, 68);">"email"</span><span>, message: </span><span style="color: rgb(221, 17, 68);">"请输入正确的邮箱地址"</span><span>, trigger: [</span><span style="color: rgb(221, 17, 68);">"blur"</span><span>, </span><span style="color: rgb(221, 17, 68);">"change"</span><span>] }  
</span>        ],  
        phone: [  
<span>          { pattern: /^</span><span style="color: rgb(0, 128, 128);">1</span><span>[</span><span style="color: rgb(0, 128, 128);">3</span><span style="color: rgb(0, 128, 128);">-9</span><span>]\d{</span><span style="color: rgb(0, 128, 128);">9</span><span>}$/, message: </span><span style="color: rgb(221, 17, 68);">"请输入正确的手机号码"</span><span>, trigger: </span><span style="color: rgb(221, 17, 68);">"blur"</span><span> }  
</span>        ]  
      }  
    };  
  },  
  created() {  
<span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.getList();  
</span>  },  
  methods: {  
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/** 查询公司列表 */</span><span>  
</span>    getList() {  
<span>      </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.loading = </span><span style="color: rgb(0, 128, 128);">true</span><span>;  
</span><span>      listCompany(</span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.queryParams).then(response =&gt; {  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.companyList = response.rows;  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.total = response.total;  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.loading = </span><span style="color: rgb(0, 128, 128);">false</span><span>;  
</span>      });  
    },  
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 取消按钮  </span><span>
</span>    cancel() {  
<span>      </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.open = </span><span style="color: rgb(0, 128, 128);">false</span><span>;  
</span><span>      </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.reset();  
</span>    },  
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 表单重置  </span><span>
</span>    reset() {  
<span>      </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.form = {  
</span>        id: undefined,  
        companyName: undefined,  
        address: undefined,  
        phone: undefined,  
        email: undefined,  
<span>        activeFlag: </span><span style="color: rgb(0, 128, 128);">0</span><span>  
</span>      };  
<span>      </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.resetForm(</span><span style="color: rgb(221, 17, 68);">"form"</span><span>);  
</span>    },  
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/** 搜索按钮操作 */</span><span>  
</span>    handleQuery() {  
<span>      </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.queryParams.pageNum = </span><span style="color: rgb(0, 128, 128);">1</span><span>;  
</span><span>      </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.getList();  
</span>    },  
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/** 重置按钮操作 */</span><span>  
</span>    resetQuery() {  
<span>      </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.resetForm(</span><span style="color: rgb(221, 17, 68);">"queryForm"</span><span>);  
</span><span>      </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.handleQuery();  
</span>    },  
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 多选框选中数据  </span><span>
</span>    handleSelectionChange(selection) {  
<span>      </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.ids = selection.map(item =&gt; item.id);  
</span><span>      </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.single = selection.length !== </span><span style="color: rgb(0, 128, 128);">1</span><span>;  
</span><span>      </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.multiple = !selection.length;  
</span>    },  
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/** 新增按钮操作 */</span><span>  
</span>    handleAdd() {  
<span>      </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.reset();  
</span><span>      </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.open = </span><span style="color: rgb(0, 128, 128);">true</span><span>;  
</span><span>      </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.title = </span><span style="color: rgb(221, 17, 68);">"添加公司"</span><span>;  
</span>    },  
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/** 修改按钮操作 */</span><span>  
</span>    handleUpdate(row) {  
<span>      </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.reset();  
</span><span>      </span><span style="color: rgb(51, 51, 51); font-weight: bold;">const</span><span> id = row.id || </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.ids;  
</span>      getCompany(id).then(response =&gt; {  
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.form = response.data;  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.open = </span><span style="color: rgb(0, 128, 128);">true</span><span>;  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.title = </span><span style="color: rgb(221, 17, 68);">"修改公司"</span><span>;  
</span>      });  
    },  
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/** 提交按钮 */</span><span>  
</span>    submitForm() {  
<span>      </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.$</span><span style="color: rgb(0, 134, 179);">ref</span><span>s[</span><span style="color: rgb(221, 17, 68);">"form"</span><span>].validate(valid =&gt; {  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (valid) {  
</span><span>          </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (</span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.form.id != undefined) {  
</span><span>            updateCompany(</span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.form).then(response =&gt; {  
</span><span>              </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.$modal.msgSuccess(</span><span style="color: rgb(221, 17, 68);">"修改成功"</span><span>);  
</span><span>              </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.open = </span><span style="color: rgb(0, 128, 128);">false</span><span>;  
</span><span>              </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.getList();  
</span>            });  
<span>          } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">else</span><span> {  
</span><span>            addCompany(</span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.form).then(response =&gt; {  
</span><span>              </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.$modal.msgSuccess(</span><span style="color: rgb(221, 17, 68);">"新增成功"</span><span>);  
</span><span>              </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.open = </span><span style="color: rgb(0, 128, 128);">false</span><span>;  
</span><span>              </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.getList();  
</span>            });  
          }  
        }  
      });  
    },  
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/** 删除按钮操作 */</span><span>  
</span>    handleDelete(row) {  
<span>      </span><span style="color: rgb(51, 51, 51); font-weight: bold;">const</span><span> ids = row.id || </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.ids;  
</span><span>      </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.$modal.confirm(</span><span style="color: rgb(221, 17, 68);">'是否确认删除公司编号为"'</span><span> + ids + </span><span style="color: rgb(221, 17, 68);">'"的数据项?'</span><span>).then(function() {  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> delCompany(ids);  
</span>      }).then(() =&gt; {  
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.getList();  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.$modal.msgSuccess(</span><span style="color: rgb(221, 17, 68);">"删除成功"</span><span>);  
</span><span>      }).</span><span style="color: rgb(51, 51, 51); font-weight: bold;">catch</span><span>(() =&gt; {});  
</span>    },  
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/** 导出按钮操作 */</span><span>  
</span>    handleExport() {  
<span>      </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.download(</span><span style="color: rgb(221, 17, 68);">'system/company/export'</span><span>, {  
</span><span>        ...</span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.queryParams  
</span>      }, `company_${new Date().getTime()}.xlsx`);  
    },  
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/** 创建数据库按钮操作 */</span><span>  
</span>    handleCreateDatabase(row) {  
<span>      </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.$modal.confirm(</span><span style="color: rgb(221, 17, 68);">'确认为"'</span><span> + row.companyName + </span><span style="color: rgb(221, 17, 68);">'"创建独立数据库吗?'</span><span>).then(() =&gt; {  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.loading = </span><span style="color: rgb(0, 128, 128);">true</span><span>;  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> createTenantDatabase(row.id);  
</span>      }).then(() =&gt; {  
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.loading = </span><span style="color: rgb(0, 128, 128);">false</span><span>;  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.getList();  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.$modal.msgSuccess(</span><span style="color: rgb(221, 17, 68);">"数据库创建成功"</span><span>);  
</span><span>      }).</span><span style="color: rgb(51, 51, 51); font-weight: bold;">catch</span><span>(() =&gt; {  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.loading = </span><span style="color: rgb(0, 128, 128);">false</span><span>;  
</span>      });  
    },  
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/** 查看数据库按钮操作 */</span><span>  
</span>    handleViewDatabase(row) {  
      getTenantDatabase(row.id).then(response =&gt; {  
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.dbInfo = response.data;  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.dbOpen = </span><span style="color: rgb(0, 128, 128);">true</span><span>;  
</span>      });  
    },  
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/** 测试数据库连接 */</span><span>  
</span>    testDbConnection() {  
<span>      testConnection(</span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.dbInfo).then(response =&gt; {  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.$modal.msgSuccess(</span><span style="color: rgb(221, 17, 68);">"数据库连接成功"</span><span>);  
</span><span>      }).</span><span style="color: rgb(51, 51, 51); font-weight: bold;">catch</span><span>(() =&gt; {});  
</span>    }  
  }  
};  
&lt;/script&gt;</code></pre></pre>
<h4 class="group flex items-center">4.2 API 实现</h4>
<p>为了支持前端UI，我们需要实现相应的API接口：</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 136); font-style: italic;">// src/api/system/tenantDatabase.js  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> request </span><span style="color: rgb(51, 51, 51); font-weight: bold;">from</span><span> </span><span style="color: rgb(221, 17, 68);">'@/utils/request'</span><span>  
</span>  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">// 查询租户数据库配置列表  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">export</span><span> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">listTenantDatabase</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">query</span><span class="hljs-function">) </span><span>{  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> request({  
</span><span>    </span><span>url</span><span>: </span><span style="color: rgb(221, 17, 68);">'/system/tenant/database/list'</span><span>,  
</span><span>    </span><span>method</span><span>: </span><span style="color: rgb(221, 17, 68);">'get'</span><span>,  
</span><span>    </span><span>params</span><span>: query  
</span>  })  
}  
  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">// 查询租户数据库配置详细  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">export</span><span> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">getTenantDatabase</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">tenantId</span><span class="hljs-function">) </span><span>{  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> request({  
</span><span>    </span><span>url</span><span>: </span><span style="color: rgb(221, 17, 68);">'/system/tenant/database/'</span><span> + tenantId,  
</span><span>    </span><span>method</span><span>: </span><span style="color: rgb(221, 17, 68);">'get'</span><span>  
</span>  })  
}  
  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">// 新增租户数据库配置  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">export</span><span> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">addTenantDatabase</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">data</span><span class="hljs-function">) </span><span>{  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> request({  
</span>    url</code></pre></pre></div><div class="flex items-center gap-1 text-neutral-300"><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M234,80.12A24,24,0,0,0,216,72H160V56a40,40,0,0,0-40-40,8,8,0,0,0-7.16,4.42L75.06,96H32a16,16,0,0,0-16,16v88a16,16,0,0,0,16,16H204a24,24,0,0,0,23.82-21l12-96A24,24,0,0,0,234,80.12ZM32,112H72v88H32ZM223.94,97l-12,96a8,8,0,0,1-7.94,7H88V105.89l36.71-73.43A24,24,0,0,1,144,56V80a8,8,0,0,0,8,8h64a8,8,0,0,1,7.94,9Z"></path></svg></button><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M239.82,157l-12-96A24,24,0,0,0,204,40H32A16,16,0,0,0,16,56v88a16,16,0,0,0,16,16H75.06l37.78,75.58A8,8,0,0,0,120,240a40,40,0,0,0,40-40V184h56a24,24,0,0,0,23.82-27ZM72,144H32V56H72Zm150,21.29a7.88,7.88,0,0,1-6,2.71H152a8,8,0,0,0-8,8v24a24,24,0,0,1-19.29,23.54L88,150.11V56H204a8,8,0,0,1,7.94,7l12,96A7.87,7.87,0,0,1,222,165.29Z"></path></svg></button></div></div></div></div></div><div class="min-w-0 flex-1 scroll-smooth xl:[flex-grow:3]" style="scrollbar-width: thin; scrollbar-color: rgb(90, 90, 90) transparent; min-height: unset;"><div class="sticky left-0 top-0 overflow-y-auto rounded-md" style="max-height: calc(-55px + 100vh);"><div class="flex flex-col gap-2 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-3 dark:border-[#2f2f2f] dark:bg-[#141414]"><div data-state="closed"><button type="button" aria-controls="radix-«ro»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned index.vue.vm</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«ro»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«rp»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned index-tree.vue.vm</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«rp»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«rq»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned StringUtils.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«rq»" hidden="" style=""></div></div></div></div></div></div><div class="mb-8 mt-16 h-px w-full bg-neutral-300 dark:bg-neutral-700"></div><div id="9" class="flex flex-col gap-3 pt-8 lg:flex-row" data-query-display="true" data-query-index="8"><div class="flex max-h-fit min-w-0 flex-1 flex-shrink-0 flex-col xl:[flex-grow:2]"><div class=""><div class="flex flex-col"><a class="flex items-center gap-2 text-base text-neutral-400 transition-colors hover:text-black dark:hover:text-white" href="https://deepwiki.com/1211454975/crowdmarket"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"></path></svg>return to 1211454975/crowdmarket</a><div class="flex flex-col items-start gap-2 text-white"><div class="group relative flex items-center"><span class="text-xl xl:text-2xl">方法getTargetDataSources未生成<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to query"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></span></div></div></div><div class="py-3"><div class="text-primary/70 flex flex-col items-start justify-between text-sm"><div class="mb-1"><div class="inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" viewBox="0 0 256 256" class="mr-1"><path d="M213.85,125.46l-112,120a8,8,0,0,1-13.69-7l14.66-73.33L45.19,143.49a8,8,0,0,1-3-13l112-120a8,8,0,0,1,13.69,7L153.18,90.9l57.63,21.61a8,8,0,0,1,3,12.95Z"></path></svg>Fast</div></div><div class="flex w-full items-center justify-between gap-2"><div class="">Searched across 1211454975/crowdmarket</div></div></div></div><div class="h-fit rounded-lg" style="scrollbar-width: thin; scrollbar-color: rgb(58, 58, 58) transparent;"><div class="dark:[&amp;_pre:has(code)]:bg-shade dark:[&amp;_code[data-lang]]:bg-shade relative flex flex-col gap-1 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-4 text-white [overflow-wrap:anywhere] dark:border-[#2F2F2F] dark:bg-[#141414] [&amp;_pre]:my-3"><div class="prose-custom prose-custom-md prose-custom-gray !max-w-none text-neutral-300 [overflow-wrap:anywhere]"><p>I'll help you with the missing <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">getTargetDataSources</code> method in the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">DynamicRoutingDataSource</code> class.</p>
<p>Based on your question, you're referring to the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">DynamicRoutingDataSource</code> class that was mentioned in the conversation about implementing a multi-database tenant isolation design for the CrowdMarket system.</p>
<p>In the code that was generated, there's a reference to a <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">getTargetDataSources()</code> method in the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">addTenantDataSource</code> method, but this method wasn't actually implemented. This method is needed to retrieve the current map of target data sources from the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">AbstractRoutingDataSource</code> class that <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">DynamicRoutingDataSource</code> extends.</p>
<p>Looking at the framework code in the codebase, specifically the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">AbstractRoutingDataSource</code> class from Spring Framework, this class doesn't expose a public getter for the target data sources map. Therefore, we need to add a method to access this protected field.</p>
<p>Here's how you can implement the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">getTargetDataSources</code> method in the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">DynamicRoutingDataSource</code> class:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;"> * Get the target DataSources map  
</span><span style="color: rgb(153, 153, 136); font-style: italic;"> * This is needed because targetDataSources is protected in AbstractRoutingDataSource  
</span><span style="color: rgb(153, 153, 136); font-style: italic;"> */</span><span>  
</span><span></span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> Map&lt;Object, Object&gt; </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">getTargetDataSources</span><span class="hljs-function hljs-params">()</span><span class="hljs-function"> </span><span>{  
</span><span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Use reflection to access the protected targetDataSources field  </span><span>
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">try</span><span> {  
</span><span>        Field field = AbstractRoutingDataSource.class.getDeclaredField(</span><span style="color: rgb(221, 17, 68);">"targetDataSources"</span><span>);  
</span><span>        field.setAccessible(</span><span style="color: rgb(51, 51, 51); font-weight: bold;">true</span><span>);  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> (Map&lt;Object, Object&gt;) field.get(</span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>);  
</span><span>    } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">catch</span><span> (Exception e) {  
</span><span>        log.error(</span><span style="color: rgb(221, 17, 68);">"Failed to get targetDataSources"</span><span>, e);  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> HashMap&lt;&gt;();  
</span>    }  
}</code></pre></pre>
<p>This method uses reflection to access the protected <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">targetDataSources</code> field in the parent <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">AbstractRoutingDataSource</code> class. You'll need to add an import for <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">java.lang.reflect.Field</code> and ensure you have a logger defined in the class.</p>
<p>With this method added, the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">addTenantDataSource</code> method will be able to retrieve and modify the target data sources map correctly.</p>
<p>Note that using reflection to access protected fields isn't ideal from a design perspective, but it's necessary in this case because Spring's <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">AbstractRoutingDataSource</code> doesn't provide a public getter for the target data sources map.</p></div><div class="flex items-center gap-1 text-neutral-300"><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M234,80.12A24,24,0,0,0,216,72H160V56a40,40,0,0,0-40-40,8,8,0,0,0-7.16,4.42L75.06,96H32a16,16,0,0,0-16,16v88a16,16,0,0,0,16,16H204a24,24,0,0,0,23.82-21l12-96A24,24,0,0,0,234,80.12ZM32,112H72v88H32ZM223.94,97l-12,96a8,8,0,0,1-7.94,7H88V105.89l36.71-73.43A24,24,0,0,1,144,56V80a8,8,0,0,0,8,8h64a8,8,0,0,1,7.94,9Z"></path></svg></button><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M239.82,157l-12-96A24,24,0,0,0,204,40H32A16,16,0,0,0,16,56v88a16,16,0,0,0,16,16H75.06l37.78,75.58A8,8,0,0,0,120,240a40,40,0,0,0,40-40V184h56a24,24,0,0,0,23.82-27ZM72,144H32V56H72Zm150,21.29a7.88,7.88,0,0,1-6,2.71H152a8,8,0,0,0-8,8v24a24,24,0,0,1-19.29,23.54L88,150.11V56H204a8,8,0,0,1,7.94,7l12,96A7.87,7.87,0,0,1,222,165.29Z"></path></svg></button></div></div></div></div></div><div class="min-w-0 flex-1 scroll-smooth xl:[flex-grow:3]" style="scrollbar-width: thin; scrollbar-color: rgb(90, 90, 90) transparent; min-height: unset;"><div class="sticky left-0 top-0 overflow-y-auto rounded-md" style="max-height: calc(-55px + 100vh);"><div class="flex flex-col gap-2 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-3 dark:border-[#2f2f2f] dark:bg-[#141414]"><div data-state="closed"><button type="button" aria-controls="radix-«rr»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned DataSourceAspect.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«rr»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«rs»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned SysMenu.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«rs»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«rt»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned SysCompany.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«rt»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«ru»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned DynamicDataSource.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«ru»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«rv»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned DynamicDataSourceContextHolder.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«rv»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r10»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned DruidConfig.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r10»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r11»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned IpUtils.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r11»" hidden="" style=""></div></div></div></div></div></div><div class="mb-8 mt-16 h-px w-full bg-neutral-300 dark:bg-neutral-700"></div><div id="10" class="flex flex-col gap-3 pt-8 lg:flex-row" data-query-display="true" data-query-index="9"><div class="flex max-h-fit min-w-0 flex-1 flex-shrink-0 flex-col xl:[flex-grow:2]"><div class=""><div class="flex flex-col"><a class="flex items-center gap-2 text-base text-neutral-400 transition-colors hover:text-black dark:hover:text-white" href="https://deepwiki.com/1211454975/crowdmarket"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"></path></svg>return to 1211454975/crowdmarket</a><div class="flex flex-col items-start gap-2 text-white"><div class="group relative flex items-center"><span class="text-xl xl:text-2xl">提示DynamicDataSourceConfig中无法注入ITenantDatabaseService<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to query"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></span></div></div></div><div class="py-3"><div class="text-primary/70 flex flex-col items-start justify-between text-sm"><div class="mb-1"><div class="inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" viewBox="0 0 256 256" class="mr-1"><path d="M213.85,125.46l-112,120a8,8,0,0,1-13.69-7l14.66-73.33L45.19,143.49a8,8,0,0,1-3-13l112-120a8,8,0,0,1,13.69,7L153.18,90.9l57.63,21.61a8,8,0,0,1,3,12.95Z"></path></svg>Fast</div></div><div class="flex w-full items-center justify-between gap-2"><div class="">Searched across 1211454975/crowdmarket</div></div></div></div><div class="h-fit rounded-lg" style="scrollbar-width: thin; scrollbar-color: rgb(58, 58, 58) transparent;"><div class="dark:[&amp;_pre:has(code)]:bg-shade dark:[&amp;_code[data-lang]]:bg-shade relative flex flex-col gap-1 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-4 text-white [overflow-wrap:anywhere] dark:border-[#2F2F2F] dark:bg-[#141414] [&amp;_pre]:my-3"><div class="prose-custom prose-custom-md prose-custom-gray !max-w-none text-neutral-300 [overflow-wrap:anywhere]"><p>I understand you're encountering an issue with dependency injection in the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">DynamicDataSourceConfig</code> class, specifically that it cannot inject the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">ITenantDatabaseService</code>.</p>
<p>Based on the code context provided, you're working on implementing a multi-database tenant isolation design for the CrowdMarket system. In this design, you've created a <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">DynamicDataSourceConfig</code> class that's supposed to use the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">TenantDatabaseService</code> to dynamically manage database connections for different tenants.</p>
<p>The issue you're facing is that Spring is unable to inject the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">ITenantDatabaseService</code> into your <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">DynamicDataSourceConfig</code> class. This is likely happening because of a circular dependency problem or because the service isn't available when the configuration class is being processed.</p>
<p>Looking at the code snippets, I can see that:</p>
<ol>
<li>You have a <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">DynamicDataSourceConfig</code> class with a <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">@Configuration</code> annotation</li>
<li>Inside this class, you're trying to <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">@Autowired</code> the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">TenantDatabaseService</code></li>
<li>You're also creating a <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">DynamicRoutingDataSource</code> bean that needs to use this service</li>
</ol>
<p>Here are a few potential solutions to resolve this issue:</p>
<h3 class="group flex items-center">Solution 1: Use Lazy Initialization  </h3>
<p>You can use <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">@Lazy</code> annotation to break the circular dependency:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 153); font-weight: bold;">@Configuration</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">DynamicDataSourceConfig</span><span class="hljs-class"> </span><span>{  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Lazy</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> ITenantDatabaseService tenantDatabaseService;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Rest of your code...  </span><span>
</span>}</code></pre></pre>
<h3 class="group flex items-center">Solution 2: Constructor Injection with Optional  </h3>
<p>Instead of field injection, use constructor injection with an optional parameter:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 153); font-weight: bold;">@Configuration</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">DynamicDataSourceConfig</span><span class="hljs-class"> </span><span>{  
</span>      
<span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">final</span><span> Optional&lt;ITenantDatabaseService&gt; tenantDatabaseService;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">DynamicDataSourceConfig</span><span class="hljs-function hljs-params">(Optional&lt;ITenantDatabaseService&gt; tenantDatabaseService)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>.tenantDatabaseService = tenantDatabaseService;  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Rest of your code...  </span><span>
</span>}</code></pre></pre>
<h3 class="group flex items-center">Solution 3: Use ApplicationContext  </h3>
<p>Instead of direct injection, use the ApplicationContext to get the bean when needed:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 153); font-weight: bold;">@Configuration</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">DynamicDataSourceConfig</span><span class="hljs-class"> </span><span>{  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> ApplicationContext applicationContext;  
</span>      
<span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span class="hljs-function"> ITenantDatabaseService </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">getTenantDatabaseService</span><span class="hljs-function hljs-params">()</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> applicationContext.getBean(ITenantDatabaseService.class);  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Use getTenantDatabaseService() method instead of direct field access  </span><span>
</span>}</code></pre></pre>
<h3 class="group flex items-center">Solution 4: Use SpringUtils  </h3>
<p>Based on the code snippets provided, I can see that your project has a <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">SpringUtils</code> class that can be used to get beans. You can use this instead of direct injection:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 153); font-weight: bold;">@Configuration</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">DynamicDataSourceConfig</span><span class="hljs-class"> </span><span>{  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Remove the @Autowired field  </span><span>
</span>      
<span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span class="hljs-function"> ITenantDatabaseService </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">getTenantDatabaseService</span><span class="hljs-function hljs-params">()</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> SpringUtils.getBean(ITenantDatabaseService.class);  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Use getTenantDatabaseService() method instead of direct field access  </span><span>
</span>}</code></pre></pre>
<p>This approach is particularly useful because I can see from the code context that your <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">SpringUtils</code> class already has methods like <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">getBean(Class&lt;T&gt; clz)</code> which can be used to retrieve beans from the Spring context.</p>
<p>I recommend trying Solution 4 first, as it seems to align best with your existing codebase structure and would avoid circular dependency issues.</p></div><div class="flex items-center gap-1 text-neutral-300"><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M234,80.12A24,24,0,0,0,216,72H160V56a40,40,0,0,0-40-40,8,8,0,0,0-7.16,4.42L75.06,96H32a16,16,0,0,0-16,16v88a16,16,0,0,0,16,16H204a24,24,0,0,0,23.82-21l12-96A24,24,0,0,0,234,80.12ZM32,112H72v88H32ZM223.94,97l-12,96a8,8,0,0,1-7.94,7H88V105.89l36.71-73.43A24,24,0,0,1,144,56V80a8,8,0,0,0,8,8h64a8,8,0,0,1,7.94,9Z"></path></svg></button><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M239.82,157l-12-96A24,24,0,0,0,204,40H32A16,16,0,0,0,16,56v88a16,16,0,0,0,16,16H75.06l37.78,75.58A8,8,0,0,0,120,240a40,40,0,0,0,40-40V184h56a24,24,0,0,0,23.82-27ZM72,144H32V56H72Zm150,21.29a7.88,7.88,0,0,1-6,2.71H152a8,8,0,0,0-8,8v24a24,24,0,0,1-19.29,23.54L88,150.11V56H204a8,8,0,0,1,7.94,7l12,96A7.87,7.87,0,0,1,222,165.29Z"></path></svg></button></div></div></div></div></div><div class="min-w-0 flex-1 scroll-smooth xl:[flex-grow:3]" style="scrollbar-width: thin; scrollbar-color: rgb(90, 90, 90) transparent; min-height: unset;"><div class="sticky left-0 top-0 overflow-y-auto rounded-md" style="max-height: calc(-55px + 100vh);"><div class="flex flex-col gap-2 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-3 dark:border-[#2f2f2f] dark:bg-[#141414]"><div data-state="closed"><button type="button" aria-controls="radix-«r12»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned DruidConfig.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r12»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r13»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned SpringUtils.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r13»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r14»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned HttpUtils.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r14»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r15»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned Base64.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r15»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r16»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned DynamicDataSource.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r16»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r17»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned MyBatisConfig.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r17»" hidden="" style=""></div></div></div></div></div></div><div class="mb-8 mt-16 h-px w-full bg-neutral-300 dark:bg-neutral-700"></div><div id="11" class="flex flex-col gap-3 pt-8 lg:flex-row" data-query-display="true" data-query-index="10"><div class="flex max-h-fit min-w-0 flex-1 flex-shrink-0 flex-col xl:[flex-grow:2]"><div class=""><div class="flex flex-col"><a class="flex items-center gap-2 text-base text-neutral-400 transition-colors hover:text-black dark:hover:text-white" href="https://deepwiki.com/1211454975/crowdmarket"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"></path></svg>return to 1211454975/crowdmarket</a><div class="flex flex-col items-start gap-2 text-white"><div class="group relative flex items-center"><span class="text-xl xl:text-2xl">在代码库中，已经存在DruidConfig，是否可以在现有的动态数据源代码基础上，完善租户数据源配置工作<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to query"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></span></div></div></div><div class="py-3"><div class="text-primary/70 flex flex-col items-start justify-between text-sm"><div class="mb-1"><div class="inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" viewBox="0 0 256 256" class="mr-1"><path d="M213.85,125.46l-112,120a8,8,0,0,1-13.69-7l14.66-73.33L45.19,143.49a8,8,0,0,1-3-13l112-120a8,8,0,0,1,13.69,7L153.18,90.9l57.63,21.61a8,8,0,0,1,3,12.95Z"></path></svg>Fast</div></div><div class="flex w-full items-center justify-between gap-2"><div class="">Searched across 1211454975/crowdmarket</div></div></div></div><div class="h-fit rounded-lg" style="scrollbar-width: thin; scrollbar-color: rgb(58, 58, 58) transparent;"><div class="dark:[&amp;_pre:has(code)]:bg-shade dark:[&amp;_code[data-lang]]:bg-shade relative flex flex-col gap-1 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-4 text-white [overflow-wrap:anywhere] dark:border-[#2F2F2F] dark:bg-[#141414] [&amp;_pre]:my-3"><div class="prose-custom prose-custom-md prose-custom-gray !max-w-none text-neutral-300 [overflow-wrap:anywhere]"><p>I'll help you understand how to enhance the tenant database configuration using the existing DruidConfig in the CrowdMarket system.</p>
<h1 class="group flex items-center">Answer  </h1>
<p>Based on your question, you're asking if it's possible to enhance the tenant database configuration by building upon the existing dynamic data source code in the CrowdMarket system, specifically leveraging the existing <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">DruidConfig</code> class.</p>
<p>Looking at the codebase, I can see that the CrowdMarket system already has a <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">DruidConfig</code> class that configures multiple data sources using Druid connection pooling. This class is located in: <span role="link" tabindex="0" class="bg-pacific/10 text-pacific active:bg-pacific/20 hover:bg-pacific/20 cursor-pointer rounded-md px-[0.25rem] py-[0.12rem] text-xs font-normal leading-[15px] transition-colors duration-100 before:hidden after:hidden" style="font-family: &quot;IBM Plex Mono&quot;, &quot;IBM Plex Mono Fallback&quot;; font-weight: 400; font-style: normal;">DruidConfig.java:32-34</span></p>
<p>The existing <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">DruidConfig</code> class already implements a dynamic data source mechanism that supports master-slave configuration: <span role="link" tabindex="0" class="bg-pacific/10 text-pacific active:bg-pacific/20 hover:bg-pacific/20 cursor-pointer rounded-md px-[0.25rem] py-[0.12rem] text-xs font-normal leading-[15px] transition-colors duration-100 before:hidden after:hidden" style="font-family: &quot;IBM Plex Mono&quot;, &quot;IBM Plex Mono Fallback&quot;; font-weight: 400; font-style: normal;">DruidConfig.java:52-60</span></p>
<p>This is a good foundation to build upon for implementing tenant-specific databases. Instead of creating a completely new configuration class like <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">DynamicDataSourceConfig</code>, you can extend the existing <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">DruidConfig</code> to support tenant-specific data sources.</p>
<p>Here's how you can enhance the existing <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">DruidConfig</code> class to support tenant databases:</p>
<ol>
<li>First, modify the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">dataSource</code> method to support tenant data sources:</li>
</ol>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 153); font-weight: bold;">@Bean(name = "dynamicDataSource")</span><span>  
</span><span></span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Primary</span><span>  
</span><span></span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> DynamicDataSource </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">dataSource</span><span class="hljs-function hljs-params">(DataSource masterDataSource)</span><span class="hljs-function"> </span><span>{  
</span><span>    Map&lt;Object, Object&gt; targetDataSources = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> HashMap&lt;&gt;();  
</span>    targetDataSources.put(DataSourceType.MASTER.name(), masterDataSource);  
<span>    setDataSource(targetDataSources, DataSourceType.SLAVE.name(), </span><span style="color: rgb(221, 17, 68);">"slaveDataSource"</span><span>);  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Initialize with tenant data sources that are already configured  </span><span>
</span>    initTenantDataSources(targetDataSources);  
      
<span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> DynamicDataSource(masterDataSource, targetDataSources);  
</span>}  
  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;"> * Initialize tenant data sources from the database  
</span><span style="color: rgb(153, 153, 136); font-style: italic;"> */</span><span>  
</span><span></span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">initTenantDataSources</span><span class="hljs-function hljs-params">(Map&lt;Object, Object&gt; targetDataSources)</span><span class="hljs-function"> </span><span>{  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">try</span><span> {  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Get tenant database service using SpringUtils to avoid circular dependency  </span><span>
</span>        ITenantDatabaseService tenantDatabaseService = SpringUtils.getBean(ITenantDatabaseService.class);  
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (tenantDatabaseService != </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>) {  
</span><span>            </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Get all active tenant databases  </span><span>
</span><span>            TenantDatabase query = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> TenantDatabase();  
</span><span>            query.setStatus(</span><span style="color: rgb(0, 128, 128);">1</span><span>); </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Only active databases  </span><span>
</span>            List&lt;TenantDatabase&gt; tenantDatabases = tenantDatabaseService.selectTenantDatabaseList(query);  
              
<span>            </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Add each tenant database to the target data sources  </span><span>
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">for</span><span> (TenantDatabase tenantDb : tenantDatabases) {  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">try</span><span> {  
</span>                    DataSource tenantDataSource = createTenantDataSource(tenantDb);  
                    targetDataSources.put(tenantDb.getTenantId(), tenantDataSource);  
<span>                } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">catch</span><span> (Exception e) {  
</span><span>                    log.error(</span><span style="color: rgb(221, 17, 68);">"Failed to initialize tenant data source for tenant: "</span><span> + tenantDb.getTenantId(), e);  
</span>                }  
            }  
        }  
<span>    } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">catch</span><span> (Exception e) {  
</span><span>        log.error(</span><span style="color: rgb(221, 17, 68);">"Failed to initialize tenant data sources"</span><span>, e);  
</span>    }  
}  
  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;"> * Create a data source for a tenant  
</span><span style="color: rgb(153, 153, 136); font-style: italic;"> */</span><span>  
</span><span></span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span class="hljs-function"> DataSource </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">createTenantDataSource</span><span class="hljs-function hljs-params">(TenantDatabase tenantDb)</span><span class="hljs-function"> </span><span>{  
</span><span>    DruidDataSource dataSource = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> DruidDataSource();  
</span><span>    dataSource.setUrl(</span><span style="color: rgb(221, 17, 68);">"jdbc:mysql://"</span><span> + tenantDb.getDbHost() + </span><span style="color: rgb(221, 17, 68);">":"</span><span> + tenantDb.getDbPort() + </span><span style="color: rgb(221, 17, 68);">"/"</span><span> + tenantDb.getDbName());  
</span>    dataSource.setUsername(tenantDb.getDbUsername());  
    dataSource.setPassword(decryptPassword(tenantDb.getDbPassword()));  
<span>    dataSource.setDriverClassName(</span><span style="color: rgb(221, 17, 68);">"com.mysql.cj.jdbc.Driver"</span><span>);  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Apply the same Druid properties as the master data source  </span><span>
</span>    DruidProperties druidProperties = SpringUtils.getBean(DruidProperties.class);  
<span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> druidProperties.dataSource(dataSource);  
</span>}  
  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;"> * Decrypt the password  
</span><span style="color: rgb(153, 153, 136); font-style: italic;"> */</span><span>  
</span><span></span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span class="hljs-function"> String </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">decryptPassword</span><span class="hljs-function hljs-params">(String encryptedPassword)</span><span class="hljs-function"> </span><span>{  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">try</span><span> {  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Implement password decryption logic  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> encryptedPassword; </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Placeholder  </span><span>
</span><span>    } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">catch</span><span> (Exception e) {  
</span><span>        log.error(</span><span style="color: rgb(221, 17, 68);">"Failed to decrypt password"</span><span>, e);  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> encryptedPassword;  
</span>    }  
}</code></pre></pre>
<ol start="2">
<li>Extend the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">DynamicDataSource</code> class to support adding tenant data sources dynamically:</li>
</ol>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">DynamicDataSource</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">extends</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">AbstractRoutingDataSource</span><span class="hljs-class"> </span><span>{  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">static</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">final</span><span> Logger log = LoggerFactory.getLogger(DynamicDataSource.class);  
</span>      
<span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">DynamicDataSource</span><span class="hljs-function hljs-params">(DataSource defaultTargetDataSource, Map&lt;Object, Object&gt; targetDataSources)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">super</span><span>.setDefaultTargetDataSource(defaultTargetDataSource);  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">super</span><span>.setTargetDataSources(targetDataSources);  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">super</span><span>.afterPropertiesSet();  
</span>    }  
  
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Override</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">protected</span><span class="hljs-function"> Object </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">determineCurrentLookupKey</span><span class="hljs-function hljs-params">()</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> DynamicDataSourceContextHolder.getDataSourceType();  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Add a tenant data source  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">synchronized</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">addTenantDataSource</span><span class="hljs-function hljs-params">(String tenantId, DataSource dataSource)</span><span class="hljs-function"> </span><span>{  
</span>        Map&lt;Object, Object&gt; targetDataSources = getTargetDataSources();  
        targetDataSources.put(tenantId, dataSource);  
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">super</span><span>.setTargetDataSources(targetDataSources);  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">super</span><span>.afterPropertiesSet();  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Get the target data sources map  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@SuppressWarnings("unchecked")</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> Map&lt;Object, Object&gt; </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">getTargetDataSources</span><span class="hljs-function hljs-params">()</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">try</span><span> {  
</span><span>            Field field = AbstractRoutingDataSource.class.getDeclaredField(</span><span style="color: rgb(221, 17, 68);">"targetDataSources"</span><span>);  
</span><span>            field.setAccessible(</span><span style="color: rgb(51, 51, 51); font-weight: bold;">true</span><span>);  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> (Map&lt;Object, Object&gt;) field.get(</span><span style="color: rgb(51, 51, 51); font-weight: bold;">this</span><span>);  
</span><span>        } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">catch</span><span> (Exception e) {  
</span><span>            log.error(</span><span style="color: rgb(221, 17, 68);">"Failed to get targetDataSources"</span><span>, e);  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> HashMap&lt;&gt;();  
</span>        }  
    }  
}</code></pre></pre>
<ol start="3">
<li>Create a <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">TenantDataSourceService</code> to manage tenant data sources:</li>
</ol>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 153); font-weight: bold;">@Service</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">TenantDataSourceService</span><span class="hljs-class"> </span><span>{  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">static</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">final</span><span> Logger log = LoggerFactory.getLogger(TenantDataSourceService.class);  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> ITenantDatabaseService tenantDatabaseService;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> DynamicDataSource dynamicDataSource;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> DruidProperties druidProperties;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Get or create a data source for a tenant  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> DataSource </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">getTenantDataSource</span><span class="hljs-function hljs-params">(String tenantId)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Check if data source already exists  </span><span>
</span>        Map&lt;Object, Object&gt; targetDataSources = dynamicDataSource.getTargetDataSources();  
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (targetDataSources.containsKey(tenantId)) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> (DataSource) targetDataSources.get(tenantId);  
</span>        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Get tenant database configuration  </span><span>
</span>        TenantDatabase tenantDb = tenantDatabaseService.selectTenantDatabaseByTenantId(tenantId);  
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (tenantDb == </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span> || tenantDb.getStatus() != </span><span style="color: rgb(0, 128, 128);">1</span><span>) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">throw</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> ServiceException(</span><span style="color: rgb(221, 17, 68);">"Tenant database not found or inactive"</span><span>);  
</span>        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Create new data source  </span><span>
</span><span>        DruidDataSource dataSource = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> DruidDataSource();  
</span><span>        dataSource.setUrl(</span><span style="color: rgb(221, 17, 68);">"jdbc:mysql://"</span><span> + tenantDb.getDbHost() + </span><span style="color: rgb(221, 17, 68);">":"</span><span> + tenantDb.getDbPort() + </span><span style="color: rgb(221, 17, 68);">"/"</span><span> + tenantDb.getDbName());  
</span>        dataSource.setUsername(tenantDb.getDbUsername());  
        dataSource.setPassword(decryptPassword(tenantDb.getDbPassword()));  
<span>        dataSource.setDriverClassName(</span><span style="color: rgb(221, 17, 68);">"com.mysql.cj.jdbc.Driver"</span><span>);  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Apply Druid properties  </span><span>
</span>        DataSource tenantDataSource = druidProperties.dataSource(dataSource);  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Add to dynamic data source  </span><span>
</span>        dynamicDataSource.addTenantDataSource(tenantId, tenantDataSource);  
          
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> tenantDataSource;  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Decrypt the password  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span class="hljs-function"> String </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">decryptPassword</span><span class="hljs-function hljs-params">(String encryptedPassword)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">try</span><span> {  
</span><span>            </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Implement password decryption logic  </span><span>
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> encryptedPassword; </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Placeholder  </span><span>
</span><span>        } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">catch</span><span> (Exception e) {  
</span><span>            log.error(</span><span style="color: rgb(221, 17, 68);">"Failed to decrypt password"</span><span>, e);  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> encryptedPassword;  
</span>        }  
    }  
}</code></pre></pre>
<ol start="4">
<li>Modify the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">TenantContextHolder</code> to set the current tenant ID as the data source type:</li>
</ol>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">TenantContextHolder</span><span class="hljs-class"> </span><span>{  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">static</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">final</span><span> ThreadLocal&lt;String&gt; TENANT_ID_HOLDER = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> ThreadLocal&lt;&gt;();  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">static</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">final</span><span> ThreadLocal&lt;Boolean&gt; SYSTEM_OPERATION_HOLDER = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> ThreadLocal&lt;&gt;();  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Set tenant ID  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">static</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">setTenantId</span><span class="hljs-function hljs-params">(String tenantId)</span><span class="hljs-function"> </span><span>{  
</span>        TENANT_ID_HOLDER.set(tenantId);  
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Set the tenant ID as the data source type if it's not a system operation  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (!isSystemOperation()) {  
</span>            DynamicDataSourceContextHolder.setDataSourceType(tenantId);  
        }  
    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Get tenant ID  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">static</span><span class="hljs-function"> String </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">getTenantId</span><span class="hljs-function hljs-params">()</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> TENANT_ID_HOLDER.get();  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Clear tenant ID  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">static</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">clearTenantId</span><span class="hljs-function hljs-params">()</span><span class="hljs-function"> </span><span>{  
</span>        TENANT_ID_HOLDER.remove();  
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Reset data source type to master  </span><span>
</span>        DynamicDataSourceContextHolder.clearDataSourceType();  
    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Set system operation flag  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">static</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">setSystemOperation</span><span class="hljs-function hljs-params">(</span><span class="hljs-function hljs-params" style="color: rgb(51, 51, 51); font-weight: bold;">boolean</span><span class="hljs-function hljs-params"> isSystemOperation)</span><span class="hljs-function"> </span><span>{  
</span>        SYSTEM_OPERATION_HOLDER.set(isSystemOperation);  
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// If it's a system operation, use master data source  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (isSystemOperation) {  
</span>            DynamicDataSourceContextHolder.setDataSourceType(DataSourceType.MASTER.name());  
<span>        } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">else</span><span> {  
</span><span>            </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Otherwise, use tenant data source  </span><span>
</span>            String tenantId = getTenantId();  
<span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (StringUtils.isNotEmpty(tenantId)) {  
</span>                DynamicDataSourceContextHolder.setDataSourceType(tenantId);  
            }  
        }  
    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Check if it's a system operation  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">static</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">boolean</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">isSystemOperation</span><span class="hljs-function hljs-params">()</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> Boolean.TRUE.equals(SYSTEM_OPERATION_HOLDER.get());  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Clear system operation flag  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">static</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">clearSystemOperation</span><span class="hljs-function hljs-params">()</span><span class="hljs-function"> </span><span>{  
</span>        SYSTEM_OPERATION_HOLDER.remove();  
    }  
}</code></pre></pre>
<p>By extending the existing <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">DruidConfig</code> and <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">DynamicDataSource</code> classes, you can leverage the current dynamic data source mechanism to support tenant-specific databases. This approach avoids creating a completely new configuration class and integrates well with the existing codebase.</p>
<p>The key advantages of this approach are:</p>
<ol>
<li>It reuses the existing Druid connection pool configuration</li>
<li>It leverages the existing dynamic data source mechanism</li>
<li>It avoids circular dependency issues by using <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">SpringUtils</code> to get beans</li>
<li>It integrates seamlessly with the existing tenant context mechanism</li>
</ol>
<p>This implementation should resolve the issues you were facing with dependency injection in the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">DynamicDataSourceConfig</code> class, as it builds upon the existing <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">DruidConfig</code> class instead of creating a new configuration class.</p>
<h2 class="group flex items-center">Notes  </h2>
<p>The implementation above assumes that you have already created the necessary database tables and entity classes for tenant database management, as discussed in previous conversations. It also assumes that you have implemented the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">ITenantDatabaseService</code> interface and its implementation.</p>
<p>The key insight is that instead of creating a new configuration class, you can extend the existing <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">DruidConfig</code> class to support tenant-specific databases, which avoids circular dependency issues and integrates better with the existing codebase.</p>
<p>Wiki pages you might want to explore:</p>
<ul>
<li><a href="https://deepwiki.com/1211454975/crowdmarket/1.2-technology-stack">Technology Stack (1211454975/crowdmarket)</a></li>
</ul></div><div class="flex items-center gap-1 text-neutral-300"><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M234,80.12A24,24,0,0,0,216,72H160V56a40,40,0,0,0-40-40,8,8,0,0,0-7.16,4.42L75.06,96H32a16,16,0,0,0-16,16v88a16,16,0,0,0,16,16H204a24,24,0,0,0,23.82-21l12-96A24,24,0,0,0,234,80.12ZM32,112H72v88H32ZM223.94,97l-12,96a8,8,0,0,1-7.94,7H88V105.89l36.71-73.43A24,24,0,0,1,144,56V80a8,8,0,0,0,8,8h64a8,8,0,0,1,7.94,9Z"></path></svg></button><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M239.82,157l-12-96A24,24,0,0,0,204,40H32A16,16,0,0,0,16,56v88a16,16,0,0,0,16,16H75.06l37.78,75.58A8,8,0,0,0,120,240a40,40,0,0,0,40-40V184h56a24,24,0,0,0,23.82-27ZM72,144H32V56H72Zm150,21.29a7.88,7.88,0,0,1-6,2.71H152a8,8,0,0,0-8,8v24a24,24,0,0,1-19.29,23.54L88,150.11V56H204a8,8,0,0,1,7.94,7l12,96A7.87,7.87,0,0,1,222,165.29Z"></path></svg></button></div></div></div></div></div><div class="min-w-0 flex-1 scroll-smooth xl:[flex-grow:3]" style="scrollbar-width: thin; scrollbar-color: rgb(90, 90, 90) transparent; min-height: unset;"><div class="sticky left-0 top-0 overflow-y-auto rounded-md" style="max-height: calc(-55px + 100vh);"><div class="flex flex-col gap-3 p-0 pb-[90px]"><div id="file-Repo 1211454975/crowdmarket: crowdmarket-server/ruoyi-framework/src/main/java/com/ruoyi/framework/config/DruidConfig.java" class="flex flex-col gap-2 scroll-smooth rounded-md" style="content-visibility: auto;"><div class="scrollbar-hide relative w-full p-0 ring-1 ring-neutral-800 rounded-sm"><div class="bg-secondary dark:bg-surface sticky top-0 z-10 flex w-full items-center justify-between px-3 py-1.5 text-sm text-neutral-300 rounded-t-sm"><div class="flex min-w-0 grow items-center gap-2"><button><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M213.66,101.66l-80,80a8,8,0,0,1-11.32,0l-80-80A8,8,0,0,1,53.66,90.34L128,164.69l74.34-74.35a8,8,0,0,1,11.32,11.32Z"></path></svg></button><div class="[&amp;_svg_path]:fill-current size-4 flex-shrink-0" style="fill: rgb(204, 62, 68); height: 20px; width: 20px;"><svg viewBox="-4 -4 20 20"><path d="M6 0a6 6 0 106 6 6 6 0 00-6-6zm2.14 6.8a2.16 2.16 0 01-2.29 2.41 2.5 2.5 0 01-2-.87l.73-.92a1.52 1.52 0 001.23.59c.66 0 1.06-.42 1.06-1.32V2.8h1.26z" class="cls-1"></path></svg></div><a href="https://github.com/1211454975/crowdmarket" target="_blank" rel="noreferrer" class="cursor-pointer truncate text-neutral-500 hover:underline">1211454975/crowdmarket</a><a href="https://github.com/1211454975/crowdmarket/blob/f24a6f5e/crowdmarket-server/ruoyi-framework/src/main/java/com/ruoyi/framework/config/DruidConfig.java" target="_blank" rel="noreferrer" class="cursor-pointer truncate text-black dark:text-neutral-300 hover:underline">crowdmarket-server/ruoyi-framework/src/main/java/com/ruoyi/framework/config/DruidConfig.java</a><button><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4 text-neutral-500"><path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z"></path></svg></button></div></div><div class="scrollbar-hide grid overflow-auto scroll-smooth"><button class="h-5 w-full cursor-pointer bg-[#f0f0f0] hover:bg-[#e0e0e0] dark:bg-neutral-800 dark:hover:bg-neutral-700/80"><div class="flex h-full items-center gap-1.5 pl-[1.3rem] text-xs font-light text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M205.66,138.34a8,8,0,0,1-11.32,11.32L136,91.31V224a8,8,0,0,1-16,0V91.31L61.66,149.66a8,8,0,0,1-11.32-11.32l72-72a8,8,0,0,1,11.32,0ZM216,32H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"></path></svg></div></button><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-neutral-800/80"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">29</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">*</span><span> 
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">30</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">*</span><span> </span><span class="token annotation" style="color: rgb(57, 58, 52);">@author</span><span> ruoyi
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">31</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">*</span><span class="token" style="color: rgb(57, 58, 52);">/</span></span></code></pre></div><div class="citation-10-0"><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-[#6096FF]/10 clickable-snippet cursor-pointer"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">32</span><span class="token annotation" style="color: rgb(57, 58, 52);">@Configuration</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">33</span><span></span><span class="token" style="color: rgb(0, 0, 255);">public</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">class</span><span> </span><span class="token" style="color: rgb(43, 145, 175);">DruidConfig</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">34</span><span></span><span class="token" style="color: rgb(57, 58, 52);">{</span></span></code></pre></div></div><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-neutral-800/80"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">35</span><span>    </span><span class="token annotation" style="color: rgb(57, 58, 52);">@Bean</span><span>
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">36</span><span>    </span><span class="token annotation" style="color: rgb(57, 58, 52);">@ConfigurationProperties</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(163, 21, 21);">"spring.datasource.druid.master"</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span>
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">37</span><span>    </span><span class="token" style="color: rgb(0, 0, 255);">public</span><span> </span><span class="token" style="color: rgb(43, 145, 175);">DataSource</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">masterDataSource</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(43, 145, 175);">DruidProperties</span><span> druidProperties</span><span class="token" style="color: rgb(57, 58, 52);">)</span></span></code></pre></div><button class="h-5 w-full cursor-pointer bg-[#f0f0f0] hover:bg-[#e0e0e0] dark:bg-neutral-800 dark:hover:bg-neutral-700/80"><div class="flex h-full items-center gap-1.5 pl-[1.3rem] text-xs font-light text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M224,128a8,8,0,0,1-8,8H40a8,8,0,0,1,0-16H216A8,8,0,0,1,224,128ZM101.66,53.66,120,35.31V96a8,8,0,0,0,16,0V35.31l18.34,18.35a8,8,0,0,0,11.32-11.32l-32-32a8,8,0,0,0-11.32,0l-32,32a8,8,0,0,0,11.32,11.32Zm52.68,148.68L136,220.69V160a8,8,0,0,0-16,0v60.69l-18.34-18.35a8,8,0,0,0-11.32,11.32l32,32a8,8,0,0,0,11.32,0l32-32a8,8,0,0,0-11.32-11.32Z"></path></svg></div></button><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-neutral-800/80"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">49</span><span>        </span><span class="token" style="color: rgb(0, 0, 255);">return</span><span> druidProperties</span><span class="token" style="color: rgb(57, 58, 52);">.</span><span class="token" style="color: rgb(57, 58, 52);">dataSource</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span>dataSource</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">50</span><span>    </span><span class="token" style="color: rgb(57, 58, 52);">}</span><span>
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">51</span></span></code></pre></div><div class="citation-10-1"><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-[#6096FF]/10 clickable-snippet cursor-pointer"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">52</span><span>    </span><span class="token annotation" style="color: rgb(57, 58, 52);">@Bean</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span>name </span><span class="token" style="color: rgb(57, 58, 52);">=</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">"dynamicDataSource"</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">53</span><span>    </span><span class="token annotation" style="color: rgb(57, 58, 52);">@Primary</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">54</span><span>    </span><span class="token" style="color: rgb(0, 0, 255);">public</span><span> </span><span class="token" style="color: rgb(43, 145, 175);">DynamicDataSource</span><span> </span><span class="token" style="color: rgb(57, 58, 52);">dataSource</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(43, 145, 175);">DataSource</span><span> masterDataSource</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">55</span><span>    </span><span class="token" style="color: rgb(57, 58, 52);">{</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">56</span><span>        </span><span class="token" style="color: rgb(43, 145, 175);">Map</span><span class="token generics" style="color: rgb(57, 58, 52);">&lt;</span><span class="token generics" style="color: rgb(43, 145, 175);">Object</span><span class="token generics" style="color: rgb(57, 58, 52);">,</span><span class="token generics"> </span><span class="token generics" style="color: rgb(43, 145, 175);">Object</span><span class="token generics" style="color: rgb(57, 58, 52);">&gt;</span><span> targetDataSources </span><span class="token" style="color: rgb(57, 58, 52);">=</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">new</span><span> </span><span class="token" style="color: rgb(43, 145, 175);">HashMap</span><span class="token generics" style="color: rgb(57, 58, 52);">&lt;</span><span class="token generics" style="color: rgb(57, 58, 52);">&gt;</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">57</span><span>        targetDataSources</span><span class="token" style="color: rgb(57, 58, 52);">.</span><span class="token" style="color: rgb(57, 58, 52);">put</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(43, 145, 175);">DataSourceType</span><span class="token" style="color: rgb(57, 58, 52);">.</span><span>MASTER</span><span class="token" style="color: rgb(57, 58, 52);">.</span><span class="token" style="color: rgb(57, 58, 52);">name</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> masterDataSource</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">58</span><span>        </span><span class="token" style="color: rgb(57, 58, 52);">setDataSource</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span>targetDataSources</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(43, 145, 175);">DataSourceType</span><span class="token" style="color: rgb(57, 58, 52);">.</span><span>SLAVE</span><span class="token" style="color: rgb(57, 58, 52);">.</span><span class="token" style="color: rgb(57, 58, 52);">name</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> </span><span class="token" style="color: rgb(163, 21, 21);">"slaveDataSource"</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">59</span><span>        </span><span class="token" style="color: rgb(0, 0, 255);">return</span><span> </span><span class="token" style="color: rgb(0, 0, 255);">new</span><span> </span><span class="token" style="color: rgb(43, 145, 175);">DynamicDataSource</span><span class="token" style="color: rgb(57, 58, 52);">(</span><span>masterDataSource</span><span class="token" style="color: rgb(57, 58, 52);">,</span><span> targetDataSources</span><span class="token" style="color: rgb(57, 58, 52);">)</span><span class="token" style="color: rgb(57, 58, 52);">;</span><span>
</span></span><span style="background-color: var(--bg-secondary); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">60</span><span>    </span><span class="token" style="color: rgb(57, 58, 52);">}</span></span></code></pre></div></div><div class="relative w-full min-w-max overflow-hidden [&amp;_pre]:overflow-hidden bg-neutral-800/80"><pre style="color: rgb(57, 58, 52); font-family: Consolas, &quot;Bitstream Vera Sans Mono&quot;, &quot;Courier New&quot;, Courier, monospace; direction: ltr; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; font-size: 0.9em; line-height: 1.2em; tab-size: 4; hyphens: none; padding: 0px; margin: 0px; overflow: auto; border: 1px solid rgb(221, 221, 221); background-color: white; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">61</span><span>    
</span></span><span style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">62</span><span>    </span><span class="token doc-comment" style="color: rgb(0, 128, 0); font-style: italic;">/**
</span></span><span class="token doc-comment" style="background-color: rgb(248, 248, 248); display: block; white-space: pre; padding: 0px 20px; color: rgb(0, 128, 0); font-style: italic;"><span class="linenumber react-syntax-highlighter-line-number" style="display: inline-block; min-width: 2.25em; padding-right: 1em; text-align: right; user-select: none; font-size: 11px; font-weight: normal; font-family: monospace; color: rgb(0, 128, 0); font-style: italic;">63</span>     * 设置数据源</span></code></pre></div><button class="h-5 w-full cursor-pointer bg-[#f0f0f0] hover:bg-[#e0e0e0] dark:bg-neutral-800 dark:hover:bg-neutral-700/80"><div class="flex h-full items-center gap-1.5 pl-[1.3rem] text-xs font-light text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-3 w-3"><path d="M50.34,117.66a8,8,0,0,1,11.32-11.32L120,164.69V32a8,8,0,0,1,16,0V164.69l58.34-58.35a8,8,0,0,1,11.32,11.32l-72,72a8,8,0,0,1-11.32,0ZM216,208H40a8,8,0,0,0,0,16H216a8,8,0,0,0,0-16Z"></path></svg></div></button></div></div></div></div></div></div></div><div class="mb-8 mt-16 h-px w-full bg-neutral-300 dark:bg-neutral-700"></div><div id="12" class="flex flex-col gap-3 pt-8 lg:flex-row" data-query-display="true" data-query-index="11"><div class="flex max-h-fit min-w-0 flex-1 flex-shrink-0 flex-col xl:[flex-grow:2]"><div class=""><div class="flex flex-col"><a class="flex items-center gap-2 text-base text-neutral-400 transition-colors hover:text-black dark:hover:text-white" href="https://deepwiki.com/1211454975/crowdmarket"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"></path></svg>return to 1211454975/crowdmarket</a><div class="flex flex-col items-start gap-2 text-white"><div class="group relative flex items-center"><span class="text-xl xl:text-2xl">请完整生成tenantDatabase.js的内容<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to query"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></span></div></div></div><div class="py-3"><div class="text-primary/70 flex flex-col items-start justify-between text-sm"><div class="mb-1"><div class="inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" viewBox="0 0 256 256" class="mr-1"><path d="M213.85,125.46l-112,120a8,8,0,0,1-13.69-7l14.66-73.33L45.19,143.49a8,8,0,0,1-3-13l112-120a8,8,0,0,1,13.69,7L153.18,90.9l57.63,21.61a8,8,0,0,1,3,12.95Z"></path></svg>Fast</div></div><div class="flex w-full items-center justify-between gap-2"><div class="">Searched across 1211454975/crowdmarket</div></div></div></div><div class="h-fit rounded-lg" style="scrollbar-width: thin; scrollbar-color: rgb(58, 58, 58) transparent;"><div class="dark:[&amp;_pre:has(code)]:bg-shade dark:[&amp;_code[data-lang]]:bg-shade relative flex flex-col gap-1 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-4 text-white [overflow-wrap:anywhere] dark:border-[#2F2F2F] dark:bg-[#141414] [&amp;_pre]:my-3"><div class="prose-custom prose-custom-md prose-custom-gray !max-w-none text-neutral-300 [overflow-wrap:anywhere]"><p>I'll help you generate the complete content for the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">tenantDatabase.js</code> file, which appears to be a frontend API service file for managing tenant databases in the CrowdMarket system.</p>
<p>Based on our previous conversation, you're working on implementing a multi-tenant database management system where each tenant has their own dedicated database. The <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">tenantDatabase.js</code> file would contain the API methods to interact with the backend tenant database management endpoints.</p>
<p>Here's the complete implementation for the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">tenantDatabase.js</code> file:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 136); font-style: italic;">// src/api/system/tenantDatabase.js  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> request </span><span style="color: rgb(51, 51, 51); font-weight: bold;">from</span><span> </span><span style="color: rgb(221, 17, 68);">'@/utils/request'</span><span>  
</span>  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">// 查询租户数据库配置列表  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">export</span><span> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">listTenantDatabase</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">query</span><span class="hljs-function">) </span><span>{  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> request({  
</span><span>    </span><span>url</span><span>: </span><span style="color: rgb(221, 17, 68);">'/system/tenant/database/list'</span><span>,  
</span><span>    </span><span>method</span><span>: </span><span style="color: rgb(221, 17, 68);">'get'</span><span>,  
</span><span>    </span><span>params</span><span>: query  
</span>  })  
}  
  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">// 查询租户数据库配置详细  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">export</span><span> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">getTenantDatabase</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">tenantId</span><span class="hljs-function">) </span><span>{  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> request({  
</span><span>    </span><span>url</span><span>: </span><span style="color: rgb(221, 17, 68);">'/system/tenant/database/'</span><span> + tenantId,  
</span><span>    </span><span>method</span><span>: </span><span style="color: rgb(221, 17, 68);">'get'</span><span>  
</span>  })  
}  
  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">// 新增租户数据库配置  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">export</span><span> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">addTenantDatabase</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">data</span><span class="hljs-function">) </span><span>{  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> request({  
</span><span>    </span><span>url</span><span>: </span><span style="color: rgb(221, 17, 68);">'/system/tenant/database'</span><span>,  
</span><span>    </span><span>method</span><span>: </span><span style="color: rgb(221, 17, 68);">'post'</span><span>,  
</span><span>    </span><span>data</span><span>: data  
</span>  })  
}  
  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">// 修改租户数据库配置  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">export</span><span> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">updateTenantDatabase</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">data</span><span class="hljs-function">) </span><span>{  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> request({  
</span><span>    </span><span>url</span><span>: </span><span style="color: rgb(221, 17, 68);">'/system/tenant/database'</span><span>,  
</span><span>    </span><span>method</span><span>: </span><span style="color: rgb(221, 17, 68);">'put'</span><span>,  
</span><span>    </span><span>data</span><span>: data  
</span>  })  
}  
  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">// 删除租户数据库配置  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">export</span><span> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">delTenantDatabase</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">ids</span><span class="hljs-function">) </span><span>{  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> request({  
</span><span>    </span><span>url</span><span>: </span><span style="color: rgb(221, 17, 68);">'/system/tenant/database/'</span><span> + ids,  
</span><span>    </span><span>method</span><span>: </span><span style="color: rgb(221, 17, 68);">'delete'</span><span>  
</span>  })  
}  
  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">// 创建租户数据库  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">export</span><span> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">createTenantDatabase</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">tenantId</span><span class="hljs-function">) </span><span>{  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> request({  
</span><span>    </span><span>url</span><span>: </span><span style="color: rgb(221, 17, 68);">'/system/tenant/database/create/'</span><span> + tenantId,  
</span><span>    </span><span>method</span><span>: </span><span style="color: rgb(221, 17, 68);">'post'</span><span>  
</span>  })  
}  
  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">// 测试数据库连接  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">export</span><span> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">testConnection</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">data</span><span class="hljs-function">) </span><span>{  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> request({  
</span><span>    </span><span>url</span><span>: </span><span style="color: rgb(221, 17, 68);">'/system/tenant/database/test'</span><span>,  
</span><span>    </span><span>method</span><span>: </span><span style="color: rgb(221, 17, 68);">'post'</span><span>,  
</span><span>    </span><span>data</span><span>: data  
</span>  })  
}  
  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">// 导出租户数据库配置  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">export</span><span> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">function</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">exportTenantDatabase</span><span class="hljs-function">(</span><span class="hljs-function hljs-params">query</span><span class="hljs-function">) </span><span>{  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> request({  
</span><span>    </span><span>url</span><span>: </span><span style="color: rgb(221, 17, 68);">'/system/tenant/database/export'</span><span>,  
</span><span>    </span><span>method</span><span>: </span><span style="color: rgb(221, 17, 68);">'get'</span><span>,  
</span><span>    </span><span>params</span><span>: query  
</span>  })  
}</code></pre></pre>
<p>This file provides a complete set of API methods that correspond to the backend controller endpoints we discussed earlier. These methods will be used by the frontend components to interact with the tenant database management functionality.</p>
<p>The methods include:</p>
<ul>
<li>Listing tenant database configurations</li>
<li>Getting details of a specific tenant database</li>
<li>Adding new tenant database configurations</li>
<li>Updating existing configurations</li>
<li>Deleting configurations</li>
<li>Creating actual tenant databases</li>
<li>Testing database connections</li>
<li>Exporting database configurations</li>
</ul>
<p>These API methods align with the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">TenantDatabaseController</code> backend implementation we discussed previously, which handles the corresponding HTTP requests.</p>
<p>Notes: This implementation assumes that your frontend uses a request utility function similar to what's commonly used in Vue.js applications with axios. The actual implementation might need adjustments based on your specific frontend architecture and API conventions.</p>
<p>Wiki pages you might want to explore:</p>
<ul>
<li><a href="https://deepwiki.com/1211454975/crowdmarket/5-development-workflow">Development Workflow (1211454975/crowdmarket)</a></li>
</ul></div><div class="flex items-center gap-1 text-neutral-300"><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M234,80.12A24,24,0,0,0,216,72H160V56a40,40,0,0,0-40-40,8,8,0,0,0-7.16,4.42L75.06,96H32a16,16,0,0,0-16,16v88a16,16,0,0,0,16,16H204a24,24,0,0,0,23.82-21l12-96A24,24,0,0,0,234,80.12ZM32,112H72v88H32ZM223.94,97l-12,96a8,8,0,0,1-7.94,7H88V105.89l36.71-73.43A24,24,0,0,1,144,56V80a8,8,0,0,0,8,8h64a8,8,0,0,1,7.94,9Z"></path></svg></button><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M239.82,157l-12-96A24,24,0,0,0,204,40H32A16,16,0,0,0,16,56v88a16,16,0,0,0,16,16H75.06l37.78,75.58A8,8,0,0,0,120,240a40,40,0,0,0,40-40V184h56a24,24,0,0,0,23.82-27ZM72,144H32V56H72Zm150,21.29a7.88,7.88,0,0,1-6,2.71H152a8,8,0,0,0-8,8v24a24,24,0,0,1-19.29,23.54L88,150.11V56H204a8,8,0,0,1,7.94,7l12,96A7.87,7.87,0,0,1,222,165.29Z"></path></svg></button></div></div></div></div></div><div class="min-w-0 flex-1 scroll-smooth xl:[flex-grow:3]" style="scrollbar-width: thin; scrollbar-color: rgb(90, 90, 90) transparent; min-height: unset;"><div class="sticky left-0 top-0 overflow-y-auto rounded-md" style="max-height: calc(-55px + 100vh);"><div class="flex flex-col gap-2 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-3 dark:border-[#2f2f2f] dark:bg-[#141414]"><div data-state="closed"><button type="button" aria-controls="radix-«r18»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned GenController.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r18»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r19»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned multi_tenant.sql</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r19»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r1a»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned GenTableServiceImpl.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r1a»" hidden="" style=""></div></div></div></div></div></div><div class="mb-8 mt-16 h-px w-full bg-neutral-300 dark:bg-neutral-700"></div><div id="13" class="flex flex-col gap-3 pt-8 lg:flex-row" data-query-display="true" data-query-index="12"><div class="flex max-h-fit min-w-0 flex-1 flex-shrink-0 flex-col xl:[flex-grow:2]"><div class=""><div class="flex flex-col"><a class="flex items-center gap-2 text-base text-neutral-400 transition-colors hover:text-black dark:hover:text-white" href="https://deepwiki.com/1211454975/crowdmarket"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"></path></svg>return to 1211454975/crowdmarket</a><div class="flex flex-col items-start gap-2 text-white"><div class="group relative flex items-center"><span class="text-xl xl:text-2xl">在元数据表单管理中，需要把数据管理作为单独的一个模块，元数据信息存储在主数据库中，而生成的数据表在对应的租户数据库中，请重新调整一下方案<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to query"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></span></div></div></div><div class="py-3"><div class="text-primary/70 flex flex-col items-start justify-between text-sm"><div class="mb-1"><div class="inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" viewBox="0 0 256 256" class="mr-1"><path d="M213.85,125.46l-112,120a8,8,0,0,1-13.69-7l14.66-73.33L45.19,143.49a8,8,0,0,1-3-13l112-120a8,8,0,0,1,13.69,7L153.18,90.9l57.63,21.61a8,8,0,0,1,3,12.95Z"></path></svg>Fast</div></div><div class="flex w-full items-center justify-between gap-2"><div class="">Searched across 1211454975/crowdmarket</div></div></div></div><div class="h-fit rounded-lg" style="scrollbar-width: thin; scrollbar-color: rgb(58, 58, 58) transparent;"><div class="dark:[&amp;_pre:has(code)]:bg-shade dark:[&amp;_code[data-lang]]:bg-shade relative flex flex-col gap-1 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-4 text-white [overflow-wrap:anywhere] dark:border-[#2F2F2F] dark:bg-[#141414] [&amp;_pre]:my-3"><div class="prose-custom prose-custom-md prose-custom-gray !max-w-none text-neutral-300 [overflow-wrap:anywhere]"><p>I'll analyze your request and provide an adjusted solution for the metadata form management system in the CrowdMarket framework.</p>
<h1 class="group flex items-center">Answer  </h1>
<p>Based on your request, you want to restructure the form management module so that:</p>
<ol>
<li>Form metadata information is stored in the main database</li>
<li>The actual data tables generated from these form definitions are stored in the respective tenant databases</li>
</ol>
<p>This approach aligns well with the multi-tenant architecture of CrowdMarket, where each tenant has their own dedicated database for business data while sharing system-level configurations.</p>
<h2 class="group flex items-center">Revised Architecture  </h2>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><div class="group relative cursor-pointer overflow-x-auto rounded-md bg-[#f2f1f0] p-4 transition-colors hover:bg-[#ededed] dark:bg-[#1f1f1f] dark:hover:bg-[#242424]" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«r44»" data-state="closed"><div class="flex justify-center"><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1132.421875 377" style="max-width: 1132.421875px;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-crodrunhuei"><style>#mermaid-crodrunhuei{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-crodrunhuei .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-crodrunhuei .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-crodrunhuei .error-icon{fill:#dddddd;}#mermaid-crodrunhuei .error-text{fill:#222222;stroke:#222222;}#mermaid-crodrunhuei .edge-thickness-normal{stroke-width:1px;}#mermaid-crodrunhuei .edge-thickness-thick{stroke-width:3.5px;}#mermaid-crodrunhuei .edge-pattern-solid{stroke-dasharray:0;}#mermaid-crodrunhuei .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-crodrunhuei .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-crodrunhuei .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-crodrunhuei .marker{fill:#999;stroke:#999;}#mermaid-crodrunhuei .marker.cross{stroke:#999;}#mermaid-crodrunhuei svg{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px;}#mermaid-crodrunhuei p{margin:0;}#mermaid-crodrunhuei .label{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;color:#333;}#mermaid-crodrunhuei .cluster-label text{fill:#444;}#mermaid-crodrunhuei .cluster-label span{color:#444;}#mermaid-crodrunhuei .cluster-label span p{background-color:transparent;}#mermaid-crodrunhuei .label text,#mermaid-crodrunhuei span{fill:#333;color:#333;}#mermaid-crodrunhuei .node rect,#mermaid-crodrunhuei .node circle,#mermaid-crodrunhuei .node ellipse,#mermaid-crodrunhuei .node polygon,#mermaid-crodrunhuei .node path{fill:#ffffff;stroke:#dddddd;stroke-width:1px;}#mermaid-crodrunhuei .rough-node .label text,#mermaid-crodrunhuei .node .label text,#mermaid-crodrunhuei .image-shape .label,#mermaid-crodrunhuei .icon-shape .label{text-anchor:middle;}#mermaid-crodrunhuei .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-crodrunhuei .rough-node .label,#mermaid-crodrunhuei .node .label,#mermaid-crodrunhuei .image-shape .label,#mermaid-crodrunhuei .icon-shape .label{text-align:center;}#mermaid-crodrunhuei .node.clickable{cursor:pointer;}#mermaid-crodrunhuei .root .anchor path{fill:#999!important;stroke-width:0;stroke:#999;}#mermaid-crodrunhuei .arrowheadPath{fill:#0b0b0b;}#mermaid-crodrunhuei .edgePath .path{stroke:#999;stroke-width:2.0px;}#mermaid-crodrunhuei .flowchart-link{stroke:#999;fill:none;}#mermaid-crodrunhuei .edgeLabel{background-color:#ffffff;text-align:center;}#mermaid-crodrunhuei .edgeLabel p{background-color:#ffffff;}#mermaid-crodrunhuei .edgeLabel rect{opacity:0.5;background-color:#ffffff;fill:#ffffff;}#mermaid-crodrunhuei .labelBkg{background-color:rgba(255, 255, 255, 0.5);}#mermaid-crodrunhuei .cluster rect{fill:#f8f8f8;stroke:#dddddd;stroke-width:1px;}#mermaid-crodrunhuei .cluster text{fill:#444;}#mermaid-crodrunhuei .cluster span{color:#444;}#mermaid-crodrunhuei div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:12px;background:#dddddd;border:1px solid hsl(0, 0%, 76.6666666667%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-crodrunhuei .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-crodrunhuei rect.text{fill:none;stroke-width:0;}#mermaid-crodrunhuei .icon-shape,#mermaid-crodrunhuei .image-shape{background-color:#ffffff;text-align:center;}#mermaid-crodrunhuei .icon-shape p,#mermaid-crodrunhuei .image-shape p{background-color:#ffffff;padding:2px;}#mermaid-crodrunhuei .icon-shape rect,#mermaid-crodrunhuei .image-shape rect{opacity:0.5;background-color:#ffffff;fill:#ffffff;}#mermaid-crodrunhuei :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-crodrunhuei_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-crodrunhuei_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-crodrunhuei_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-crodrunhuei_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-crodrunhuei_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-crodrunhuei_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"><g data-look="classic" id="subGraph1" class="cluster"><rect height="232" width="746.609375" y="8" x="8" style=""></rect><g transform="translate(314.15625, 8)" class="cluster-label"><foreignobject height="24" width="134.296875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Tenant Databases</p></span></div></foreignobject></g></g><g data-look="classic" id="subGraph0" class="cluster"><rect height="361" width="349.8125" y="8" x="774.609375" style=""></rect><g transform="translate(892.2734375, 8)" class="cluster-label"><foreignobject height="24" width="114.484375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Main Database</p></span></div></foreignobject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid-crodrunhuei_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M951.911,111L953.225,115.167C954.54,119.333,957.168,127.667,958.483,135.333C959.797,143,959.797,150,959.797,153.5L959.797,157"></path><path marker-end="url(#mermaid-crodrunhuei_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_C_0" d="M959.797,215L959.797,219.167C959.797,223.333,959.797,231.667,959.797,240C959.797,248.333,959.797,256.667,959.797,264.333C959.797,272,959.797,279,959.797,282.5L959.797,286"></path><path marker-end="url(#mermaid-crodrunhuei_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_D1_0" d="M139.102,99L139.102,105.167C139.102,111.333,139.102,123.667,139.102,133.333C139.102,143,139.102,150,139.102,153.5L139.102,157"></path><path marker-end="url(#mermaid-crodrunhuei_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_E1_0" d="M381.305,99L381.305,105.167C381.305,111.333,381.305,123.667,381.305,133.333C381.305,143,381.305,150,381.305,153.5L381.305,157"></path><path marker-end="url(#mermaid-crodrunhuei_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_F1_0" d="M623.508,99L623.508,105.167C623.508,111.333,623.508,123.667,623.508,133.333C623.508,143,623.508,150,623.508,153.5L623.508,157"></path><path marker-end="url(#mermaid-crodrunhuei_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_D1_0" d="M889.336,111L883.965,115.167C878.594,119.333,867.852,127.667,759.494,139.292C651.137,150.917,445.165,165.834,342.179,173.293L239.193,180.751"></path><path marker-end="url(#mermaid-crodrunhuei_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_E1_0" d="M901.523,111L897.454,115.167C893.385,119.333,885.247,127.667,815.224,138.751C745.201,149.835,613.293,163.669,547.339,170.586L481.384,177.504"></path><path marker-end="url(#mermaid-crodrunhuei_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_F1_0" d="M939.724,111L939.736,115.167C939.748,119.333,939.772,127.667,903.745,137.759C867.717,147.85,795.637,159.701,759.596,165.626L723.556,171.551"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g></g><g class="nodes"><g transform="translate(939.609375, 72)" id="flowchart-A-0" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignobject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Form Metadata Definitions</p></span></div></foreignobject></g></g><g transform="translate(959.796875, 188)" id="flowchart-B-1" class="node default"><rect height="54" width="218.9375" y="-27" x="-109.46875" style="" class="basic label-container"></rect><g transform="translate(-79.46875, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="158.9375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Form Field Metadata</p></span></div></foreignobject></g></g><g transform="translate(959.796875, 317)" id="flowchart-C-3" class="node default"><rect height="54" width="259.25" y="-27" x="-129.625" style="" class="basic label-container"></rect><g transform="translate(-99.625, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="199.25"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Form View Configurations</p></span></div></foreignobject></g></g><g transform="translate(139.1015625, 72)" id="flowchart-D-4" class="node default"><rect height="54" width="147.34375" y="-27" x="-73.671875" style="" class="basic label-container"></rect><g transform="translate(-43.671875, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="87.34375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Tenant1 DB</p></span></div></foreignobject></g></g><g transform="translate(139.1015625, 188)" id="flowchart-D1-5" class="node default"><rect height="54" width="192.203125" y="-27" x="-96.1015625" style="" class="basic label-container"></rect><g transform="translate(-66.1015625, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="132.203125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Form Data Tables</p></span></div></foreignobject></g></g><g transform="translate(381.3046875, 72)" id="flowchart-E-6" class="node default"><rect height="54" width="147.34375" y="-27" x="-73.671875" style="" class="basic label-container"></rect><g transform="translate(-43.671875, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="87.34375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Tenant2 DB</p></span></div></foreignobject></g></g><g transform="translate(381.3046875, 188)" id="flowchart-E1-7" class="node default"><rect height="54" width="192.203125" y="-27" x="-96.1015625" style="" class="basic label-container"></rect><g transform="translate(-66.1015625, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="132.203125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Form Data Tables</p></span></div></foreignobject></g></g><g transform="translate(623.5078125, 72)" id="flowchart-F-8" class="node default"><rect height="54" width="150.96875" y="-27" x="-75.484375" style="" class="basic label-container"></rect><g transform="translate(-45.484375, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="90.96875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>TenantN DB</p></span></div></foreignobject></g></g><g transform="translate(623.5078125, 188)" id="flowchart-F1-9" class="node default"><rect height="54" width="192.203125" y="-27" x="-96.1015625" style="" class="basic label-container"></rect><g transform="translate(-66.1015625, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="132.203125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Form Data Tables</p></span></div></foreignobject></g></g></g></g></g></svg></div><div class="bg-input-dark absolute right-2 top-2 rounded-sm p-1 opacity-0 transition-opacity group-hover:opacity-100"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="light:text-gray-800 text-white dark:text-white"><path d="M216,48V96a8,8,0,0,1-16,0V67.31l-42.34,42.35a8,8,0,0,1-11.32-11.32L188.69,56H160a8,8,0,0,1,0-16h48A8,8,0,0,1,216,48ZM98.34,146.34,56,188.69V160a8,8,0,0,0-16,0v48a8,8,0,0,0,8,8H96a8,8,0,0,0,0-16H67.31l42.35-42.34a8,8,0,0,0-11.32-11.32ZM208,152a8,8,0,0,0-8,8v28.69l-42.34-42.35a8,8,0,0,0-11.32,11.32L188.69,200H160a8,8,0,0,0,0,16h48a8,8,0,0,0,8-8V160A8,8,0,0,0,208,152ZM67.31,56H96a8,8,0,0,0,0-16H48a8,8,0,0,0-8,8V96a8,8,0,0,0,16,0V67.31l42.34,42.35a8,8,0,0,0,11.32-11.32Z"></path></svg></div></div></pre>
<h2 class="group flex items-center">Database Design  </h2>
<h3 class="group flex items-center">Main Database Tables (System-level)  </h3>
<ol>
<li><strong>Form Metadata Table</strong>:</li>
</ol>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `form_metadata` (  
</span><span>  `metadata_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'元数据ID'</span><span>,  
</span><span>  `metadata_name` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'元数据名称'</span><span>,  
</span><span>  `metadata_desc` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">500</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'元数据描述'</span><span>,  
</span><span>  `status` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'状态(0草稿,1发布,2停用)'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  `create_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建者'</span><span>,  
</span><span>  `create_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建时间'</span><span>,  
</span><span>  `update_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新者'</span><span>,  
</span><span>  `update_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新时间'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`metadata_id`),  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">UNIQUE</span><span> KEY `uk_metadata_name_tenant` (`metadata_name`,`tenant_id`)  
</span><span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'表单元数据表'</span><span>;</span></code></pre></pre>
<ol start="2">
<li><strong>Form Field Metadata Table</strong>:</li>
</ol>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `form_field_metadata` (  
</span><span>  `field_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'字段ID'</span><span>,  
</span><span>  `metadata_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'元数据ID'</span><span>,  
</span><span>  `field_name` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">50</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'字段名称'</span><span>,  
</span><span>  `field_label` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'字段标签'</span><span>,  
</span><span>  `field_type` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'字段类型'</span><span>,  
</span><span>  `column_name` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">50</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'数据库列名'</span><span>,  
</span><span>  `column_type` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">50</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'数据库列类型'</span><span>,  
</span><span>  `is_required` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'是否必填(0否1是)'</span><span>,  
</span><span>  `is_pk` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'是否主键(0否1是)'</span><span>,  
</span><span>  `is_list` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'1'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'是否列表显示(0否1是)'</span><span>,  
</span><span>  `is_query` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'是否查询条件(0否1是)'</span><span>,  
</span><span>  `query_type` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'EQ'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'查询方式'</span><span>,  
</span><span>  `html_type` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">50</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'input'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'显示类型'</span><span>,  
</span><span>  `dict_type` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'字典类型'</span><span>,  
</span><span>  `sort_order` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">int</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'排序'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`field_id`),  
</span>  KEY `idx_metadata_id` (`metadata_id`)  
<span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'表单字段元数据表'</span><span>;</span></code></pre></pre>
<ol start="3">
<li><strong>Form View Configuration Table</strong>:</li>
</ol>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `form_view_config` (  
</span><span>  `view_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'视图ID'</span><span>,  
</span><span>  `metadata_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'元数据ID'</span><span>,  
</span><span>  `view_name` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'视图名称'</span><span>,  
</span><span>  `view_type` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'视图类型(form表单,list列表,detail详情)'</span><span>,  
</span><span>  `view_config` text </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'视图配置JSON'</span><span>,  
</span><span>  `is_default` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'是否默认视图(0否1是)'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  `create_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建者'</span><span>,  
</span><span>  `create_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建时间'</span><span>,  
</span><span>  `update_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新者'</span><span>,  
</span><span>  `update_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新时间'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`view_id`),  
</span>  KEY `idx_metadata_id` (`metadata_id`)  
<span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'表单视图配置表'</span><span>;</span></code></pre></pre>
<ol start="4">
<li><strong>Form Tenant Table Mapping</strong>:</li>
</ol>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `form_tenant_table_mapping` (  
</span><span>  `mapping_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'映射ID'</span><span>,  
</span><span>  `metadata_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'元数据ID'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  `table_name` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户数据库中的表名'</span><span>,  
</span><span>  `is_created` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'表是否已创建(0否1是)'</span><span>,  
</span><span>  `create_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建时间'</span><span>,  
</span><span>  `update_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新时间'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`mapping_id`),  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">UNIQUE</span><span> KEY `uk_metadata_tenant` (`metadata_id`,`tenant_id`)  
</span><span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'表单租户表映射'</span><span>;</span></code></pre></pre>
<h3 class="group flex items-center">Tenant Database Tables (Business-level)  </h3>
<p>In each tenant's database, we'll dynamically create tables based on the form metadata. The table names will follow a pattern like:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">form_data_{metadata_id_without_hyphens}  
</code></pre>
<p>For example, if a form metadata has ID "a1b2c3d4-e5f6", the corresponding table in the tenant's database would be named <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">form_data_a1b2c3d4e5f6</code>.</p>
<h2 class="group flex items-center">Implementation Components  </h2>
<h3 class="group flex items-center">1. Table Generation Service  </h3>
<p>This service will be responsible for creating tables in tenant-specific databases based on form metadata:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 153); font-weight: bold;">@Service</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">TableGenerationService</span><span class="hljs-class"> </span><span>{  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> TenantDatabaseService tenantDatabaseService;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> FormFieldMetadataMapper fieldMetadataMapper;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> FormTenantTableMappingMapper mappingMapper;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Generate a physical database table in tenant-specific database  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Transactional</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">generateTable</span><span class="hljs-function hljs-params">(FormMetadata metadata, String tenantId)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Get tenant-specific DataSource  </span><span>
</span>        DataSource tenantDataSource = tenantDatabaseService.getTenantDataSource(tenantId);  
<span>        JdbcTemplate tenantJdbcTemplate = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> JdbcTemplate(tenantDataSource);  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Generate table name  </span><span>
</span><span>        String tableName = </span><span style="color: rgb(221, 17, 68);">"form_data_"</span><span> + metadata.getMetadataId().replace(</span><span style="color: rgb(221, 17, 68);">"-"</span><span>, </span><span style="color: rgb(221, 17, 68);">""</span><span>);  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Get all fields for this form  </span><span>
</span>        List&lt;FormFieldMetadata&gt; fields = fieldMetadataMapper.selectByMetadataId(metadata.getMetadataId());  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Build CREATE TABLE SQL  </span><span>
</span><span>        StringBuilder sql = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> StringBuilder();  
</span><span>        sql.append(</span><span style="color: rgb(221, 17, 68);">"CREATE TABLE "</span><span>).append(tableName).append(</span><span style="color: rgb(221, 17, 68);">" ("</span><span>);  
</span><span>        sql.append(</span><span style="color: rgb(221, 17, 68);">"id VARCHAR(36) NOT NULL COMMENT 'Primary Key',"</span><span>);  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Add columns for each field  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">for</span><span> (FormFieldMetadata field : fields) {  
</span><span>            sql.append(field.getColumnName()).append(</span><span style="color: rgb(221, 17, 68);">" "</span><span>);  
</span><span>            sql.append(convertToDbColumnType(field.getFieldType())).append(</span><span style="color: rgb(221, 17, 68);">" "</span><span>);  
</span>              
<span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (field.getIsRequired() == </span><span style="color: rgb(0, 128, 128);">1</span><span>) {  
</span><span>                sql.append(</span><span style="color: rgb(221, 17, 68);">"NOT NULL "</span><span>);  
</span><span>            } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">else</span><span> {  
</span><span>                sql.append(</span><span style="color: rgb(221, 17, 68);">"NULL "</span><span>);  
</span>            }  
              
<span>            sql.append(</span><span style="color: rgb(221, 17, 68);">"COMMENT '"</span><span>).append(field.getFieldLabel()).append(</span><span style="color: rgb(221, 17, 68);">"',"</span><span>);  
</span>        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Add standard audit columns (no tenant_id needed since it's in tenant-specific DB)  </span><span>
</span><span>        sql.append(</span><span style="color: rgb(221, 17, 68);">"create_by VARCHAR(64) DEFAULT '' COMMENT 'Creator',"</span><span>);  
</span><span>        sql.append(</span><span style="color: rgb(221, 17, 68);">"create_time DATETIME COMMENT 'Create Time',"</span><span>);  
</span><span>        sql.append(</span><span style="color: rgb(221, 17, 68);">"update_by VARCHAR(64) DEFAULT '' COMMENT 'Updater',"</span><span>);  
</span><span>        sql.append(</span><span style="color: rgb(221, 17, 68);">"update_time DATETIME COMMENT 'Update Time',"</span><span>);  
</span><span>        sql.append(</span><span style="color: rgb(221, 17, 68);">"PRIMARY KEY (id)"</span><span>);  
</span><span>        sql.append(</span><span style="color: rgb(221, 17, 68);">") ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='"</span><span>).append(metadata.getMetadataDesc()).append(</span><span style="color: rgb(221, 17, 68);">"'"</span><span>);  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Execute the SQL to create the table in tenant database  </span><span>
</span>        tenantJdbcTemplate.execute(sql.toString());  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Save the mapping between metadata, tenant and table name  </span><span>
</span><span>        FormTenantTableMapping mapping = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> FormTenantTableMapping();  
</span>        mapping.setMappingId(IdUtils.fastUUID());  
        mapping.setMetadataId(metadata.getMetadataId());  
        mapping.setTenantId(tenantId);  
        mapping.setTableName(tableName);  
<span>        mapping.setIsCreated(</span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span><span>        mapping.setCreateTime(</span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> Date());  
</span>          
        mappingMapper.insert(mapping);  
    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Helper methods...  </span><span>
</span>}</code></pre></pre>
<h3 class="group flex items-center">2. Form Data Service  </h3>
<p>This service will handle CRUD operations on the tenant-specific tables:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 153); font-weight: bold;">@Service</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">FormDataService</span><span class="hljs-class"> </span><span>{  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> FormMetadataMapper metadataMapper;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> FormTenantTableMappingMapper mappingMapper;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> TenantDatabaseService tenantDatabaseService;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Save form data to tenant-specific table  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Transactional</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">saveFormData</span><span class="hljs-function hljs-params">(String metadataId, Map&lt;String, Object&gt; formData, String tenantId, String username)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Get form metadata  </span><span>
</span>        FormMetadata metadata = metadataMapper.selectByPrimaryKey(metadataId);  
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (metadata == </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">throw</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> ServiceException(</span><span style="color: rgb(221, 17, 68);">"Form metadata not found"</span><span>);  
</span>        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Get table mapping  </span><span>
</span>        FormTenantTableMapping mapping = mappingMapper.selectByMetadataAndTenant(metadataId, tenantId);  
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (mapping == </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span> || mapping.getIsCreated() != </span><span style="color: rgb(0, 128, 128);">1</span><span>) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">throw</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> ServiceException(</span><span style="color: rgb(221, 17, 68);">"Form table not created for this tenant"</span><span>);  
</span>        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Get tenant-specific DataSource  </span><span>
</span>        DataSource tenantDataSource = tenantDatabaseService.getTenantDataSource(tenantId);  
<span>        JdbcTemplate tenantJdbcTemplate = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> JdbcTemplate(tenantDataSource);  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Build INSERT SQL  </span><span>
</span>        String tableName = mapping.getTableName();  
        List&lt;FormFieldMetadata&gt; fields = metadataMapper.getFormFields(metadataId);  
          
<span>        StringBuilder sql = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> StringBuilder();  
</span><span>        StringBuilder columns = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> StringBuilder();  
</span><span>        StringBuilder values = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> StringBuilder();  
</span>          
<span>        sql.append(</span><span style="color: rgb(221, 17, 68);">"INSERT INTO "</span><span>).append(tableName).append(</span><span style="color: rgb(221, 17, 68);">" ("</span><span>);  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Add id column  </span><span>
</span>        String id = IdUtils.fastUUID();  
<span>        columns.append(</span><span style="color: rgb(221, 17, 68);">"id,"</span><span>);  
</span><span>        values.append(</span><span style="color: rgb(221, 17, 68);">"'"</span><span>).append(id).append(</span><span style="color: rgb(221, 17, 68);">"',"</span><span>);  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Add data columns  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">for</span><span> (FormFieldMetadata field : fields) {  
</span>            String columnName = field.getColumnName();  
            Object value = formData.get(field.getFieldName());  
              
<span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (value != </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>) {  
</span><span>                columns.append(columnName).append(</span><span style="color: rgb(221, 17, 68);">","</span><span>);  
</span>                  
<span>                </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Format value based on field type  </span><span>
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (field.getFieldType().equals(</span><span style="color: rgb(221, 17, 68);">"string"</span><span>) || field.getFieldType().equals(</span><span style="color: rgb(221, 17, 68);">"text"</span><span>)) {  
</span><span>                    values.append(</span><span style="color: rgb(221, 17, 68);">"'"</span><span>).append(value.toString().replace(</span><span style="color: rgb(221, 17, 68);">"'"</span><span>, </span><span style="color: rgb(221, 17, 68);">"''"</span><span>)).append(</span><span style="color: rgb(221, 17, 68);">"',"</span><span>);  
</span><span>                } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">else</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (field.getFieldType().equals(</span><span style="color: rgb(221, 17, 68);">"datetime"</span><span>)) {  
</span><span>                    values.append(</span><span style="color: rgb(221, 17, 68);">"'"</span><span>).append(value).append(</span><span style="color: rgb(221, 17, 68);">"',"</span><span>);  
</span><span>                } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">else</span><span> {  
</span><span>                    values.append(value).append(</span><span style="color: rgb(221, 17, 68);">","</span><span>);  
</span>                }  
            }  
        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Add audit columns  </span><span>
</span><span>        columns.append(</span><span style="color: rgb(221, 17, 68);">"create_by,create_time"</span><span>);  
</span><span>        values.append(</span><span style="color: rgb(221, 17, 68);">"'"</span><span>).append(username).append(</span><span style="color: rgb(221, 17, 68);">"',NOW()"</span><span>);  
</span>          
<span>        sql.append(columns).append(</span><span style="color: rgb(221, 17, 68);">") VALUES ("</span><span>).append(values).append(</span><span style="color: rgb(221, 17, 68);">")"</span><span>);  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Execute SQL in tenant database  </span><span>
</span>        tenantJdbcTemplate.execute(sql.toString());  
    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Query form data from tenant-specific table  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> List&lt;Map&lt;String, Object&gt;&gt; queryFormData(String metadataId, Map&lt;String, Object&gt; queryParams, String tenantId) {  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Get table mapping  </span><span>
</span>        FormTenantTableMapping mapping = mappingMapper.selectByMetadataAndTenant(metadataId, tenantId);  
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (mapping == </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span> || mapping.getIsCreated() != </span><span style="color: rgb(0, 128, 128);">1</span><span>) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">throw</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> ServiceException(</span><span style="color: rgb(221, 17, 68);">"Form table not created for this tenant"</span><span>);  
</span>        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Get tenant-specific DataSource  </span><span>
</span>        DataSource tenantDataSource = tenantDatabaseService.getTenantDataSource(tenantId);  
<span>        JdbcTemplate tenantJdbcTemplate = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> JdbcTemplate(tenantDataSource);  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Build query SQL  </span><span>
</span>        String tableName = mapping.getTableName();  
<span>        StringBuilder sql = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> StringBuilder();  
</span><span>        sql.append(</span><span style="color: rgb(221, 17, 68);">"SELECT * FROM "</span><span>).append(tableName);  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Add query conditions  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (queryParams != </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span> &amp;&amp; !queryParams.isEmpty()) {  
</span><span>            sql.append(</span><span style="color: rgb(221, 17, 68);">" WHERE "</span><span>);  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">boolean</span><span> first = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">true</span><span>;  
</span>              
<span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">for</span><span> (Map.Entry&lt;String, Object&gt; entry : queryParams.entrySet()) {  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (entry.getValue() != </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>) {  
</span><span>                    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (!first) {  
</span><span>                        sql.append(</span><span style="color: rgb(221, 17, 68);">" AND "</span><span>);  
</span>                    }  
<span>                    sql.append(entry.getKey()).append(</span><span style="color: rgb(221, 17, 68);">" = '"</span><span>).append(entry.getValue()).append(</span><span style="color: rgb(221, 17, 68);">"'"</span><span>);  
</span><span>                    first = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">false</span><span>;  
</span>                }  
            }  
        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Execute query in tenant database  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> tenantJdbcTemplate.queryForList(sql.toString());  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Additional methods for update, delete, etc.  </span><span>
</span>}</code></pre></pre>
<h3 class="group flex items-center">3. Form Publishing Workflow  </h3>
<p>When a form is published, we need to create the corresponding table in each tenant's database:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 153); font-weight: bold;">@Service</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">FormPublishService</span><span class="hljs-class"> </span><span>{  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> FormMetadataMapper metadataMapper;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> TableGenerationService tableGenerationService;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> SysCompanyMapper companyMapper;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Publish a form and generate tables in all tenant databases  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Transactional</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">publishForm</span><span class="hljs-function hljs-params">(String metadataId, String username)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Get form metadata  </span><span>
</span>        FormMetadata metadata = metadataMapper.selectByPrimaryKey(metadataId);  
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (metadata == </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">throw</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> ServiceException(</span><span style="color: rgb(221, 17, 68);">"Form metadata not found"</span><span>);  
</span>        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Check if form is already published  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (metadata.getStatus() == </span><span style="color: rgb(0, 128, 128);">1</span><span>) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">throw</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> ServiceException(</span><span style="color: rgb(221, 17, 68);">"Form is already published"</span><span>);  
</span>        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Update form status to published  </span><span>
</span><span>        metadata.setStatus(</span><span style="color: rgb(0, 128, 128);">1</span><span>); </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 1 = Published  </span><span>
</span>        metadata.setUpdateBy(username);  
<span>        metadata.setUpdateTime(</span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> Date());  
</span>        metadataMapper.updateByPrimaryKey(metadata);  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Get all active ten  </span><span>
</span>  
Wiki pages you might want to explore:  
<span>- [</span><span class="hljs-function">CrowdMarket System </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">Overview</span><span class="hljs-function"> </span><span class="hljs-function hljs-params">(</span><span class="hljs-function hljs-params" style="color: rgb(0, 128, 128);">1211454975</span><span class="hljs-function hljs-params">/crowdmarket)</span><span class="hljs-function">]</span><span class="hljs-function hljs-params">(/wiki/</span><span class="hljs-function hljs-params" style="color: rgb(0, 128, 128);">1211454975</span><span class="hljs-function hljs-params">/crowdmarket#</span><span class="hljs-function hljs-params" style="color: rgb(0, 128, 128);">1</span><span class="hljs-function hljs-params">)</span></code></pre></pre></div><div class="flex items-center gap-1 text-neutral-300"><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M234,80.12A24,24,0,0,0,216,72H160V56a40,40,0,0,0-40-40,8,8,0,0,0-7.16,4.42L75.06,96H32a16,16,0,0,0-16,16v88a16,16,0,0,0,16,16H204a24,24,0,0,0,23.82-21l12-96A24,24,0,0,0,234,80.12ZM32,112H72v88H32ZM223.94,97l-12,96a8,8,0,0,1-7.94,7H88V105.89l36.71-73.43A24,24,0,0,1,144,56V80a8,8,0,0,0,8,8h64a8,8,0,0,1,7.94,9Z"></path></svg></button><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M239.82,157l-12-96A24,24,0,0,0,204,40H32A16,16,0,0,0,16,56v88a16,16,0,0,0,16,16H75.06l37.78,75.58A8,8,0,0,0,120,240a40,40,0,0,0,40-40V184h56a24,24,0,0,0,23.82-27ZM72,144H32V56H72Zm150,21.29a7.88,7.88,0,0,1-6,2.71H152a8,8,0,0,0-8,8v24a24,24,0,0,1-19.29,23.54L88,150.11V56H204a8,8,0,0,1,7.94,7l12,96A7.87,7.87,0,0,1,222,165.29Z"></path></svg></button></div></div></div></div></div><div class="min-w-0 flex-1 scroll-smooth xl:[flex-grow:3]" style="scrollbar-width: thin; scrollbar-color: rgb(90, 90, 90) transparent; min-height: unset;"><div class="sticky left-0 top-0 overflow-y-auto rounded-md" style="max-height: calc(-55px + 100vh);"><div class="flex flex-col gap-2 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-3 dark:border-[#2f2f2f] dark:bg-[#141414]"><div data-state="closed"><button type="button" aria-controls="radix-«r1b»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned multi_tenant.sql</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r1b»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r1c»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned SysRoleMapper.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r1c»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r1d»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned SysUserMapper.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r1d»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r1e»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned GenTableColumnMapper.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r1e»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r1f»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned pom.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r1f»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r1g»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned SysJobLogMapper.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r1g»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r1h»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned SysNoticeMapper.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r1h»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r1i»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned SysRoleDeptMapper.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r1i»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r1j»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned pom.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r1j»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r1k»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned SysDictDataMapper.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r1k»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r1l»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned GenTableColumnServiceImpl.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r1l»" hidden="" style=""></div></div></div></div></div></div><div class="mb-8 mt-16 h-px w-full bg-neutral-300 dark:bg-neutral-700"></div><div id="14" class="flex flex-col gap-3 pt-8 lg:flex-row" data-query-display="true" data-query-index="13"><div class="flex max-h-fit min-w-0 flex-1 flex-shrink-0 flex-col xl:[flex-grow:2]"><div class=""><div class="flex flex-col"><a class="flex items-center gap-2 text-base text-neutral-400 transition-colors hover:text-black dark:hover:text-white" href="https://deepwiki.com/1211454975/crowdmarket"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"></path></svg>return to 1211454975/crowdmarket</a><div class="flex flex-col items-start gap-2 text-white"><div class="group relative flex items-center"><span class="text-xl xl:text-2xl">在元数据表单设计时，需要考虑业务规则管理，请独立地对业务规则管理模块进行分析，并补充到上述方案<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to query"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></span></div></div></div><div class="py-3"><div class="text-primary/70 flex flex-col items-start justify-between text-sm"><div class="mb-1"><div class="inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" viewBox="0 0 256 256" class="mr-1"><path d="M213.85,125.46l-112,120a8,8,0,0,1-13.69-7l14.66-73.33L45.19,143.49a8,8,0,0,1-3-13l112-120a8,8,0,0,1,13.69,7L153.18,90.9l57.63,21.61a8,8,0,0,1,3,12.95Z"></path></svg>Fast</div></div><div class="flex w-full items-center justify-between gap-2"><div class="">Searched across 1211454975/crowdmarket</div></div></div></div><div class="h-fit rounded-lg" style="scrollbar-width: thin; scrollbar-color: rgb(58, 58, 58) transparent;"><div class="dark:[&amp;_pre:has(code)]:bg-shade dark:[&amp;_code[data-lang]]:bg-shade relative flex flex-col gap-1 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-4 text-white [overflow-wrap:anywhere] dark:border-[#2F2F2F] dark:bg-[#141414] [&amp;_pre]:my-3"><div class="prose-custom prose-custom-md prose-custom-gray !max-w-none text-neutral-300 [overflow-wrap:anywhere]"><p>I'll analyze the business rules management module for the metadata form design in the CrowdMarket system and integrate it into the existing solution.</p>
<h1 class="group flex items-center">Business Rules Management Module Analysis  </h1>
<p>Based on your request, I'll analyze how to incorporate business rules management into the metadata form design for the CrowdMarket system. This will complement the existing multi-tenant form management solution that stores metadata in the main database while generating data tables in tenant-specific databases.</p>
<h2 class="group flex items-center">1. Business Rules Management Overview  </h2>
<p>Business rules management allows non-technical users to define, modify, and enforce business logic without requiring code changes. In the context of metadata-driven forms, business rules can control:</p>
<ol>
<li><strong>Validation Rules</strong>: Field-level and form-level validations</li>
<li><strong>Calculation Rules</strong>: Automatic calculations based on form values</li>
<li><strong>Visibility Rules</strong>: Showing/hiding fields based on conditions</li>
<li><strong>Dependency Rules</strong>: Field values affecting other fields</li>
<li><strong>Workflow Rules</strong>: Triggering actions based on data changes</li>
</ol>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><div class="group relative cursor-pointer overflow-x-auto rounded-md bg-[#f2f1f0] p-4 transition-colors hover:bg-[#ededed] dark:bg-[#1f1f1f] dark:hover:bg-[#242424]" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«r47»" data-state="closed"><div class="flex justify-center"><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 835.26953125 482" style="max-width: 835.26953125px;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-88isjemdwgc"><style>#mermaid-88isjemdwgc{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-88isjemdwgc .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-88isjemdwgc .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-88isjemdwgc .error-icon{fill:#dddddd;}#mermaid-88isjemdwgc .error-text{fill:#222222;stroke:#222222;}#mermaid-88isjemdwgc .edge-thickness-normal{stroke-width:1px;}#mermaid-88isjemdwgc .edge-thickness-thick{stroke-width:3.5px;}#mermaid-88isjemdwgc .edge-pattern-solid{stroke-dasharray:0;}#mermaid-88isjemdwgc .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-88isjemdwgc .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-88isjemdwgc .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-88isjemdwgc .marker{fill:#999;stroke:#999;}#mermaid-88isjemdwgc .marker.cross{stroke:#999;}#mermaid-88isjemdwgc svg{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px;}#mermaid-88isjemdwgc p{margin:0;}#mermaid-88isjemdwgc .label{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;color:#333;}#mermaid-88isjemdwgc .cluster-label text{fill:#444;}#mermaid-88isjemdwgc .cluster-label span{color:#444;}#mermaid-88isjemdwgc .cluster-label span p{background-color:transparent;}#mermaid-88isjemdwgc .label text,#mermaid-88isjemdwgc span{fill:#333;color:#333;}#mermaid-88isjemdwgc .node rect,#mermaid-88isjemdwgc .node circle,#mermaid-88isjemdwgc .node ellipse,#mermaid-88isjemdwgc .node polygon,#mermaid-88isjemdwgc .node path{fill:#ffffff;stroke:#dddddd;stroke-width:1px;}#mermaid-88isjemdwgc .rough-node .label text,#mermaid-88isjemdwgc .node .label text,#mermaid-88isjemdwgc .image-shape .label,#mermaid-88isjemdwgc .icon-shape .label{text-anchor:middle;}#mermaid-88isjemdwgc .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-88isjemdwgc .rough-node .label,#mermaid-88isjemdwgc .node .label,#mermaid-88isjemdwgc .image-shape .label,#mermaid-88isjemdwgc .icon-shape .label{text-align:center;}#mermaid-88isjemdwgc .node.clickable{cursor:pointer;}#mermaid-88isjemdwgc .root .anchor path{fill:#999!important;stroke-width:0;stroke:#999;}#mermaid-88isjemdwgc .arrowheadPath{fill:#0b0b0b;}#mermaid-88isjemdwgc .edgePath .path{stroke:#999;stroke-width:2.0px;}#mermaid-88isjemdwgc .flowchart-link{stroke:#999;fill:none;}#mermaid-88isjemdwgc .edgeLabel{background-color:#ffffff;text-align:center;}#mermaid-88isjemdwgc .edgeLabel p{background-color:#ffffff;}#mermaid-88isjemdwgc .edgeLabel rect{opacity:0.5;background-color:#ffffff;fill:#ffffff;}#mermaid-88isjemdwgc .labelBkg{background-color:rgba(255, 255, 255, 0.5);}#mermaid-88isjemdwgc .cluster rect{fill:#f8f8f8;stroke:#dddddd;stroke-width:1px;}#mermaid-88isjemdwgc .cluster text{fill:#444;}#mermaid-88isjemdwgc .cluster span{color:#444;}#mermaid-88isjemdwgc div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:12px;background:#dddddd;border:1px solid hsl(0, 0%, 76.6666666667%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-88isjemdwgc .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-88isjemdwgc rect.text{fill:none;stroke-width:0;}#mermaid-88isjemdwgc .icon-shape,#mermaid-88isjemdwgc .image-shape{background-color:#ffffff;text-align:center;}#mermaid-88isjemdwgc .icon-shape p,#mermaid-88isjemdwgc .image-shape p{background-color:#ffffff;padding:2px;}#mermaid-88isjemdwgc .icon-shape rect,#mermaid-88isjemdwgc .image-shape rect{opacity:0.5;background-color:#ffffff;fill:#ffffff;}#mermaid-88isjemdwgc :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-88isjemdwgc_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-88isjemdwgc_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-88isjemdwgc_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-88isjemdwgc_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-88isjemdwgc_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-88isjemdwgc_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"><g data-look="classic" id="subGraph1" class="cluster"><rect height="337" width="262.140625" y="137" x="565.12890625" style=""></rect><g transform="translate(622.76953125, 137)" class="cluster-label"><foreignobject height="24" width="146.859375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Form Management</p></span></div></foreignobject></g></g><g data-look="classic" id="subGraph0" class="cluster"><rect height="337" width="537.12890625" y="8" x="8" style=""></rect><g transform="translate(176.564453125, 8)" class="cluster-label"><foreignobject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Business Rules Management</p></span></div></foreignobject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid-88isjemdwgc_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M134.737,87L133.936,91.167C133.135,95.333,131.532,103.667,130.731,112C129.93,120.333,129.93,128.667,129.93,136.333C129.93,144,129.93,151,129.93,154.5L129.93,158"></path><path marker-end="url(#mermaid-88isjemdwgc_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_C_0" d="M129.93,216L129.93,220.167C129.93,224.333,129.93,232.667,129.93,240.333C129.93,248,129.93,255,129.93,258.5L129.93,262"></path><path marker-end="url(#mermaid-88isjemdwgc_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_E_0" d="M385.655,216L378.056,220.167C370.457,224.333,355.26,232.667,347.661,240.333C340.063,248,340.063,255,340.063,258.5L340.063,262"></path><path marker-end="url(#mermaid-88isjemdwgc_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_G_0" d="M698.445,216L698.445,220.167C698.445,224.333,698.445,232.667,698.445,240.333C698.445,248,698.445,255,698.445,258.5L698.445,262"></path><path marker-end="url(#mermaid-88isjemdwgc_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G_H_0" d="M698.445,320L698.445,324.167C698.445,328.333,698.445,336.667,698.445,345C698.445,353.333,698.445,361.667,698.294,369.334C698.143,377.001,697.84,384.002,697.689,387.503L697.538,391.004"></path><path marker-end="url(#mermaid-88isjemdwgc_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_F_0" d="M226.836,85.579L241.797,89.983C256.758,94.386,286.68,103.193,301.641,111.763C316.602,120.333,316.602,128.667,364.759,139.391C412.916,150.116,509.23,163.232,557.387,169.791L605.544,176.349"></path><path marker-end="url(#mermaid-88isjemdwgc_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_G_0" d="M459.487,216L463.282,220.167C467.077,224.333,474.668,232.667,498.583,241.673C522.498,250.679,562.738,260.358,582.858,265.198L602.978,270.037"></path><path marker-end="url(#mermaid-88isjemdwgc_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_H_0" d="M448.575,216L450.686,220.167C452.797,224.333,457.02,232.667,459.131,245.5C461.242,258.333,461.242,275.667,461.242,293C461.242,310.333,461.242,327.667,489.854,340.5C518.465,353.333,575.688,361.667,608.855,369.577C642.022,377.487,651.135,384.974,655.691,388.717L660.247,392.461"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g></g><g class="nodes"><g transform="translate(139.9296875, 60)" id="flowchart-A-0" class="node default"><rect height="54" width="173.8125" y="-27" x="-86.90625" style="" class="basic label-container"></rect><g transform="translate(-56.90625, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="113.8125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Rule Definition</p></span></div></foreignobject></g></g><g transform="translate(129.9296875, 189)" id="flowchart-B-1" class="node default"><rect height="54" width="173.859375" y="-27" x="-86.9296875" style="" class="basic label-container"></rect><g transform="translate(-56.9296875, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="113.859375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Rule Condition</p></span></div></foreignobject></g></g><g transform="translate(129.9296875, 293)" id="flowchart-C-3" class="node default"><rect height="54" width="147.90625" y="-27" x="-73.953125" style="" class="basic label-container"></rect><g transform="translate(-43.953125, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="87.90625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Rule Action</p></span></div></foreignobject></g></g><g transform="translate(434.89453125, 189)" id="flowchart-D-4" class="node default"><rect height="54" width="150.46875" y="-27" x="-75.234375" style="" class="basic label-container"></rect><g transform="translate(-45.234375, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="90.46875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Rule Engine</p></span></div></foreignobject></g></g><g transform="translate(340.0625, 293)" id="flowchart-E-5" class="node default"><rect height="54" width="172.359375" y="-27" x="-86.1796875" style="" class="basic label-container"></rect><g transform="translate(-56.1796875, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="112.359375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Rule Execution</p></span></div></foreignobject></g></g><g transform="translate(698.4453125, 189)" id="flowchart-F-6" class="node default"><rect height="54" width="177.875" y="-27" x="-88.9375" style="" class="basic label-container"></rect><g transform="translate(-58.9375, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="117.875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Form Metadata</p></span></div></foreignobject></g></g><g transform="translate(698.4453125, 293)" id="flowchart-G-7" class="node default"><rect height="54" width="183.15625" y="-27" x="-91.578125" style="" class="basic label-container"></rect><g transform="translate(-61.578125, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="123.15625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Form Rendering</p></span></div></foreignobject></g></g><g transform="translate(696.19921875, 422)" id="flowchart-H-9" class="node default"><rect height="54" width="192.140625" y="-27" x="-96.0703125" style="" class="basic label-container"></rect><g transform="translate(-66.0703125, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="132.140625"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Form Submission</p></span></div></foreignobject></g></g></g></g></g></svg></div><div class="bg-input-dark absolute right-2 top-2 rounded-sm p-1 opacity-0 transition-opacity group-hover:opacity-100"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="light:text-gray-800 text-white dark:text-white"><path d="M216,48V96a8,8,0,0,1-16,0V67.31l-42.34,42.35a8,8,0,0,1-11.32-11.32L188.69,56H160a8,8,0,0,1,0-16h48A8,8,0,0,1,216,48ZM98.34,146.34,56,188.69V160a8,8,0,0,0-16,0v48a8,8,0,0,0,8,8H96a8,8,0,0,0,0-16H67.31l42.35-42.34a8,8,0,0,0-11.32-11.32ZM208,152a8,8,0,0,0-8,8v28.69l-42.34-42.35a8,8,0,0,0-11.32,11.32L188.69,200H160a8,8,0,0,0,0,16h48a8,8,0,0,0,8-8V160A8,8,0,0,0,208,152ZM67.31,56H96a8,8,0,0,0,0-16H48a8,8,0,0,0-8,8V96a8,8,0,0,0,16,0V67.31l42.34,42.35a8,8,0,0,0,11.32-11.32Z"></path></svg></div></div></pre>
<h2 class="group flex items-center">2. Database Design for Business Rules  </h2>
<p>To support business rules management, we need to add the following tables to the main database:</p>
<h3 class="group flex items-center">2.1 Rule Definition Table  </h3>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `form_rule` (  
</span><span>  `rule_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'规则ID'</span><span>,  
</span><span>  `metadata_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'元数据ID'</span><span>,  
</span><span>  `rule_name` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'规则名称'</span><span>,  
</span><span>  `rule_type` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'规则类型(validation,calculation,visibility,dependency,workflow)'</span><span>,  
</span><span>  `rule_desc` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">500</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'规则描述'</span><span>,  
</span><span>  `is_active` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'1'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'是否启用(0否1是)'</span><span>,  
</span><span>  `execution_order` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">int</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'执行顺序'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  `create_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建者'</span><span>,  
</span><span>  `create_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建时间'</span><span>,  
</span><span>  `update_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新者'</span><span>,  
</span><span>  `update_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新时间'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`rule_id`),  
</span>  KEY `idx_metadata_id` (`metadata_id`)  
<span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'表单规则定义表'</span><span>;</span></code></pre></pre>
<h3 class="group flex items-center">2.2 Rule Condition Table  </h3>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `form_rule_condition` (  
</span><span>  `condition_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'条件ID'</span><span>,  
</span><span>  `rule_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'规则ID'</span><span>,  
</span><span>  `field_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'字段ID'</span><span>,  
</span><span>  `operator` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'操作符(eq,ne,gt,lt,ge,le,contains,startswith,endswith)'</span><span>,  
</span><span>  `</span><span style="color: rgb(51, 51, 51); font-weight: bold;">value</span><span>` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">500</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'比较值'</span><span>,  
</span><span>  `logic_type` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">10</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'AND'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'逻辑类型(AND,OR)'</span><span>,  
</span><span>  `group_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'条件组ID'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`condition_id`),  
</span>  KEY `idx_rule_id` (`rule_id`)  
<span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'表单规则条件表'</span><span>;</span></code></pre></pre>
<h3 class="group flex items-center">2.3 Rule Action Table  </h3>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `form_rule_action` (  
</span><span>  `action_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'动作ID'</span><span>,  
</span><span>  `rule_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'规则ID'</span><span>,  
</span><span>  `action_type` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'动作类型(setValue,setVisible,setRequired,setReadOnly,calculate,message,api)'</span><span>,  
</span><span>  `target_field_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'目标字段ID'</span><span>,  
</span><span>  `action_value` text COMMENT </span><span style="color: rgb(221, 17, 68);">'动作值'</span><span>,  
</span><span>  `action_script` text COMMENT </span><span style="color: rgb(221, 17, 68);">'动作脚本'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`action_id`),  
</span>  KEY `idx_rule_id` (`rule_id`)  
<span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'表单规则动作表'</span><span>;</span></code></pre></pre>
<h2 class="group flex items-center">3. Business Rules Service Implementation  </h2>
<h3 class="group flex items-center">3.1 Rule Definition Service  </h3>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 153); font-weight: bold;">@Service</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">FormRuleService</span><span class="hljs-class"> </span><span>{  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> FormRuleMapper ruleMapper;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> FormRuleConditionMapper conditionMapper;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> FormRuleActionMapper actionMapper;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Get all rules for a form  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> List&lt;FormRule&gt; </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">getRulesByMetadataId</span><span class="hljs-function hljs-params">(String metadataId, String tenantId)</span><span class="hljs-function"> </span><span>{  
</span><span>        FormRule query = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> FormRule();  
</span>        query.setMetadataId(metadataId);  
        query.setTenantId(tenantId);  
          
        List&lt;FormRule&gt; rules = ruleMapper.selectFormRuleList(query);  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Load conditions and actions for each rule  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">for</span><span> (FormRule rule : rules) {  
</span>            rule.setConditions(conditionMapper.selectByRuleId(rule.getRuleId()));  
            rule.setActions(actionMapper.selectByRuleId(rule.getRuleId()));  
        }  
          
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> rules;  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Save a rule with its conditions and actions  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Transactional</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">saveRule</span><span class="hljs-function hljs-params">(FormRule rule)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (StringUtils.isEmpty(rule.getRuleId())) {  
</span><span>            </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Insert new rule  </span><span>
</span>            rule.setRuleId(IdUtils.fastUUID());  
<span>            rule.setCreateTime(</span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> Date());  
</span>            ruleMapper.insertFormRule(rule);  
<span>        } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">else</span><span> {  
</span><span>            </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Update existing rule  </span><span>
</span><span>            rule.setUpdateTime(</span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> Date());  
</span>            ruleMapper.updateFormRule(rule);  
              
<span>            </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Delete existing conditions and actions  </span><span>
</span>            conditionMapper.deleteByRuleId(rule.getRuleId());  
            actionMapper.deleteByRuleId(rule.getRuleId());  
        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Insert conditions  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (rule.getConditions() != </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span> &amp;&amp; !rule.getConditions().isEmpty()) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">for</span><span> (FormRuleCondition condition : rule.getConditions()) {  
</span>                condition.setConditionId(IdUtils.fastUUID());  
                condition.setRuleId(rule.getRuleId());  
                condition.setTenantId(rule.getTenantId());  
                conditionMapper.insertFormRuleCondition(condition);  
            }  
        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Insert actions  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (rule.getActions() != </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span> &amp;&amp; !rule.getActions().isEmpty()) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">for</span><span> (FormRuleAction action : rule.getActions()) {  
</span>                action.setActionId(IdUtils.fastUUID());  
                action.setRuleId(rule.getRuleId());  
                action.setTenantId(rule.getTenantId());  
                actionMapper.insertFormRuleAction(action);  
            }  
        }  
    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Delete a rule with its conditions and actions  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Transactional</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">deleteRule</span><span class="hljs-function hljs-params">(String ruleId)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Delete conditions and actions first  </span><span>
</span>        conditionMapper.deleteByRuleId(ruleId);  
        actionMapper.deleteByRuleId(ruleId);  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Delete rule  </span><span>
</span>        ruleMapper.deleteFormRuleById(ruleId);  
    }  
}</code></pre></pre>
<h3 class="group flex items-center">3.2 Rule Execution Engine  </h3>
<p>The rule execution engine will be responsible for evaluating and applying business rules at runtime:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 153); font-weight: bold;">@Service</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">RuleExecutionEngine</span><span class="hljs-class"> </span><span>{  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> FormRuleService ruleService;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Evaluate and apply rules for a form  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> Map&lt;String, Object&gt; </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">evaluateRules</span><span class="hljs-function hljs-params">(String metadataId, Map&lt;String, Object&gt; formData, String tenantId)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Get all rules for this form  </span><span>
</span>        List&lt;FormRule&gt; rules = ruleService.getRulesByMetadataId(metadataId, tenantId);  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Sort rules by execution order  </span><span>
</span>        rules.sort(Comparator.comparing(FormRule::getExecutionOrder));  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Apply each rule  </span><span>
</span><span>        Map&lt;String, Object&gt; result = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> HashMap&lt;&gt;(formData);  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">for</span><span> (FormRule rule : rules) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (rule.getIsActive() == </span><span style="color: rgb(0, 128, 128);">1</span><span> &amp;&amp; evaluateConditions(rule.getConditions(), result)) {  
</span>                applyActions(rule.getActions(), result);  
            }  
        }  
          
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> result;  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Evaluate rule conditions  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">boolean</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">evaluateConditions</span><span class="hljs-function hljs-params">(List&lt;FormRuleCondition&gt; conditions, Map&lt;String, Object&gt; formData)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (conditions == </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span> || conditions.isEmpty()) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">true</span><span>; </span><span style="color: rgb(153, 153, 136); font-style: italic;">// No conditions means always true  </span><span>
</span>        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Group conditions by group ID  </span><span>
</span>        Map&lt;String, List&lt;FormRuleCondition&gt;&gt; groups = conditions.stream()  
<span>            .collect(Collectors.groupingBy(c -&gt; c.getGroupId() == </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span> ? </span><span style="color: rgb(221, 17, 68);">""</span><span> : c.getGroupId()));  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Evaluate each group  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">boolean</span><span> result = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">true</span><span>;  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">for</span><span> (List&lt;FormRuleCondition&gt; group : groups.values()) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">boolean</span><span> groupResult = evaluateConditionGroup(group, formData);  
</span><span>            result = result &amp;&amp; groupResult; </span><span style="color: rgb(153, 153, 136); font-style: italic;">// All groups must be true (AND between groups)  </span><span>
</span>        }  
          
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> result;  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Evaluate a group of conditions  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">boolean</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">evaluateConditionGroup</span><span class="hljs-function hljs-params">(List&lt;FormRuleCondition&gt; group, Map&lt;String, Object&gt; formData)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (group.isEmpty()) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">true</span><span>;  
</span>        }  
          
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">boolean</span><span> result = evaluateCondition(group.get(</span><span style="color: rgb(0, 128, 128);">0</span><span>), formData);  
</span>          
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">for</span><span> (</span><span style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span> i = </span><span style="color: rgb(0, 128, 128);">1</span><span>; i &lt; group.size(); i++) {  
</span>            FormRuleCondition condition = group.get(i);  
<span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">boolean</span><span> conditionResult = evaluateCondition(condition, formData);  
</span>              
<span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (</span><span style="color: rgb(221, 17, 68);">"AND"</span><span>.equals(condition.getLogicType())) {  
</span>                result = result &amp;&amp; conditionResult;  
<span>            } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">else</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (</span><span style="color: rgb(221, 17, 68);">"OR"</span><span>.equals(condition.getLogicType())) {  
</span>                result = result || conditionResult;  
            }  
        }  
          
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> result;  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Evaluate a single condition  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">boolean</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">evaluateCondition</span><span class="hljs-function hljs-params">(FormRuleCondition condition, Map&lt;String, Object&gt; formData)</span><span class="hljs-function"> </span><span>{  
</span>        Object fieldValue = formData.get(condition.getFieldId());  
        String compareValue = condition.getValue();  
          
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (fieldValue == </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(221, 17, 68);">"eq"</span><span>.equals(condition.getOperator()) &amp;&amp; compareValue == </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>;  
</span>        }  
          
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">switch</span><span> (condition.getOperator()) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">case</span><span> </span><span style="color: rgb(221, 17, 68);">"eq"</span><span>:  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> String.valueOf(fieldValue).equals(compareValue);  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">case</span><span> </span><span style="color: rgb(221, 17, 68);">"ne"</span><span>:  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> !String.valueOf(fieldValue).equals(compareValue);  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">case</span><span> </span><span style="color: rgb(221, 17, 68);">"gt"</span><span>:  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> compareNumbers(fieldValue, compareValue) &gt; </span><span style="color: rgb(0, 128, 128);">0</span><span>;  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">case</span><span> </span><span style="color: rgb(221, 17, 68);">"lt"</span><span>:  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> compareNumbers(fieldValue, compareValue) &lt; </span><span style="color: rgb(0, 128, 128);">0</span><span>;  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">case</span><span> </span><span style="color: rgb(221, 17, 68);">"ge"</span><span>:  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> compareNumbers(fieldValue, compareValue) &gt;= </span><span style="color: rgb(0, 128, 128);">0</span><span>;  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">case</span><span> </span><span style="color: rgb(221, 17, 68);">"le"</span><span>:  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> compareNumbers(fieldValue, compareValue) &lt;= </span><span style="color: rgb(0, 128, 128);">0</span><span>;  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">case</span><span> </span><span style="color: rgb(221, 17, 68);">"contains"</span><span>:  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> String.valueOf(fieldValue).contains(compareValue);  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">case</span><span> </span><span style="color: rgb(221, 17, 68);">"startswith"</span><span>:  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> String.valueOf(fieldValue).startsWith(compareValue);  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">case</span><span> </span><span style="color: rgb(221, 17, 68);">"endswith"</span><span>:  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> String.valueOf(fieldValue).endsWith(compareValue);  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">default</span><span>:  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">false</span><span>;  
</span>        }  
    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Compare numbers for numeric operators  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">compareNumbers</span><span class="hljs-function hljs-params">(Object value1, String value2)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">try</span><span> {  
</span><span>            BigDecimal num1 = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> BigDecimal(String.valueOf(value1));  
</span><span>            BigDecimal num2 = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> BigDecimal(value2);  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> num1.compareTo(num2);  
</span><span>        } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">catch</span><span> (Exception e) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> </span><span style="color: rgb(0, 128, 128);">0</span><span>; </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Not comparable as numbers  </span><span>
</span>        }  
    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Apply rule actions  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">applyActions</span><span class="hljs-function hljs-params">(List&lt;FormRuleAction&gt; actions, Map&lt;String, Object&gt; formData)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (actions == </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span> || actions.isEmpty()) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span>;  
</span>        }  
          
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">for</span><span> (FormRuleAction action : actions) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">switch</span><span> (action.getActionType()) {  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">case</span><span> </span><span style="color: rgb(221, 17, 68);">"setValue"</span><span>:  
</span>                    formData.put(action.getTargetFieldId(), action.getActionValue());  
<span>                    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">break</span><span>;  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">case</span><span> </span><span style="color: rgb(221, 17, 68);">"calculate"</span><span>:  
</span>                    calculateValue(action, formData);  
<span>                    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">break</span><span>;  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">case</span><span> </span><span style="color: rgb(221, 17, 68);">"setVisible"</span><span>:  
</span><span>                    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Visibility is handled by the UI, store in special field  </span><span>
</span><span>                    formData.put(</span><span style="color: rgb(221, 17, 68);">"_visible_"</span><span> + action.getTargetFieldId(), </span><span style="color: rgb(221, 17, 68);">"true"</span><span>.equals(action.getActionValue()));  
</span><span>                    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">break</span><span>;  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">case</span><span> </span><span style="color: rgb(221, 17, 68);">"setRequired"</span><span>:  
</span><span>                    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Required flag is handled by the UI, store in special field  </span><span>
</span><span>                    formData.put(</span><span style="color: rgb(221, 17, 68);">"_required_"</span><span> + action.getTargetFieldId(), </span><span style="color: rgb(221, 17, 68);">"true"</span><span>.equals(action.getActionValue()));  
</span><span>                    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">break</span><span>;  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">case</span><span> </span><span style="color: rgb(221, 17, 68);">"setReadOnly"</span><span>:  
</span><span>                    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// ReadOnly flag is handled by the UI, store in special field  </span><span>
</span><span>                    formData.put(</span><span style="color: rgb(221, 17, 68);">"_readonly_"</span><span> + action.getTargetFieldId(), </span><span style="color: rgb(221, 17, 68);">"true"</span><span>.equals(action.getActionValue()));  
</span><span>                    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">break</span><span>;  
</span><span>                </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Other action types can be implemented as needed  </span><span>
</span>            }  
        }  
    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Calculate a value using expression  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">calculateValue</span><span class="hljs-function hljs-params">(FormRuleAction action, Map&lt;String, Object&gt; formData)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">try</span><span> {  
</span><span>            </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Use a JavaScript engine to evaluate expressions  </span><span>
</span><span>            ScriptEngineManager manager = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> ScriptEngineManager();  
</span><span>            ScriptEngine engine = manager.getEngineByName(</span><span style="color: rgb(221, 17, 68);">"JavaScript"</span><span>);  
</span>              
<span>            </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Add form data to script context  </span><span>
</span>            Bindings bindings = engine.createBindings();  
<span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">for</span><span> (Map.Entry&lt;String, Object&gt; entry : formData.entrySet()) {  
</span>                bindings.put(entry.getKey(), entry.getValue());  
            }  
              
<span>            </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Evaluate the expression  </span><span>
</span>            Object result = engine.eval(action.getActionScript(), bindings);  
              
<span>            </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Store the result  </span><span>
</span>            formData.put(action.getTargetFieldId(), result);  
<span>        } </span><span style="color: rgb(51, 51, 51); font-weight: bold;">catch</span><span> (Exception e) {  
</span><span>            </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Log error but continue processing  </span><span>
</span><span>            log.error(</span><span style="color: rgb(221, 17, 68);">"Error calculating value: "</span><span> + e.getMessage(), e);  
</span>        }  
    }  
}</code></pre></pre>
<h2 class="group flex items-center">4. Integration with Form Data Service  </h2>
<p>We need to integrate the rule execution engine with the form data service:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 153); font-weight: bold;">@Service</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">FormDataService</span><span class="hljs-class"> </span><span>{  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Existing code...  </span><span>
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> RuleExecutionEngine ruleEngine;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Save form data with rule execution  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Transactional</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">saveFormData</span><span class="hljs-function hljs-params">(String metadataId, Map&lt;String, Object&gt; formData, String tenantId, String username)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Apply business rules  </span><span>
</span>        Map&lt;String, Object&gt; processedData = ruleEngine.evaluateRules(metadataId, formData, tenantId);  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Continue with existing save logic using processedData instead of formData  </span><span>
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// ...  </span><span>
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Query form data and apply rules for calculated fields  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> List&lt;Map&lt;String, Object&gt;&gt; queryFormData(String metadataId, Map&lt;String, Object&gt; queryParams, String tenantId) {  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Existing query logic...  </span><span>
</span>        List&lt;Map&lt;String, Object&gt;&gt; results  
  
Wiki pages you might want to explore:  
<span>- [</span><span class="hljs-function">CrowdMarket System </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">Overview</span><span class="hljs-function"> </span><span class="hljs-function hljs-params">(</span><span class="hljs-function hljs-params" style="color: rgb(0, 128, 128);">1211454975</span><span class="hljs-function hljs-params">/crowdmarket)</span><span class="hljs-function">]</span><span class="hljs-function hljs-params">(/wiki/</span><span class="hljs-function hljs-params" style="color: rgb(0, 128, 128);">1211454975</span><span class="hljs-function hljs-params">/crowdmarket#</span><span class="hljs-function hljs-params" style="color: rgb(0, 128, 128);">1</span><span class="hljs-function hljs-params">)</span><span class="hljs-function">  
</span><span class="hljs-function">- [Code Generation Service </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">Layer</span><span class="hljs-function"> </span><span class="hljs-function hljs-params">(</span><span class="hljs-function hljs-params" style="color: rgb(0, 128, 128);">1211454975</span><span class="hljs-function hljs-params">/crowdmarket)</span><span class="hljs-function">]</span><span class="hljs-function hljs-params">(/wiki/</span><span class="hljs-function hljs-params" style="color: rgb(0, 128, 128);">1211454975</span><span class="hljs-function hljs-params">/crowdmarket#</span><span class="hljs-function hljs-params" style="color: rgb(0, 128, 128);">2.3</span><span class="hljs-function hljs-params">)</span></code></pre></pre></div><div class="flex items-center gap-1 text-neutral-300"><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M234,80.12A24,24,0,0,0,216,72H160V56a40,40,0,0,0-40-40,8,8,0,0,0-7.16,4.42L75.06,96H32a16,16,0,0,0-16,16v88a16,16,0,0,0,16,16H204a24,24,0,0,0,23.82-21l12-96A24,24,0,0,0,234,80.12ZM32,112H72v88H32ZM223.94,97l-12,96a8,8,0,0,1-7.94,7H88V105.89l36.71-73.43A24,24,0,0,1,144,56V80a8,8,0,0,0,8,8h64a8,8,0,0,1,7.94,9Z"></path></svg></button><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M239.82,157l-12-96A24,24,0,0,0,204,40H32A16,16,0,0,0,16,56v88a16,16,0,0,0,16,16H75.06l37.78,75.58A8,8,0,0,0,120,240a40,40,0,0,0,40-40V184h56a24,24,0,0,0,23.82-27ZM72,144H32V56H72Zm150,21.29a7.88,7.88,0,0,1-6,2.71H152a8,8,0,0,0-8,8v24a24,24,0,0,1-19.29,23.54L88,150.11V56H204a8,8,0,0,1,7.94,7l12,96A7.87,7.87,0,0,1,222,165.29Z"></path></svg></button></div></div></div></div></div><div class="min-w-0 flex-1 scroll-smooth xl:[flex-grow:3]" style="scrollbar-width: thin; scrollbar-color: rgb(90, 90, 90) transparent; min-height: unset;"><div class="sticky left-0 top-0 overflow-y-auto rounded-md" style="max-height: calc(-55px + 100vh);"><div class="flex flex-col gap-2 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-3 dark:border-[#2f2f2f] dark:bg-[#141414]"><div data-state="closed"><button type="button" aria-controls="radix-«r1m»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned multi_tenant.sql</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r1m»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r1n»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned SysRoleMapper.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r1n»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r1o»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned SysUserMapper.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r1o»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r1p»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned SysJobLogMapper.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r1p»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r1q»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned SysRoleDeptMapper.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r1q»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r1r»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned pom.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r1r»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r1s»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned GenTableServiceImpl.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r1s»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r1t»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned GenTableColumnServiceImpl.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r1t»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r1u»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned SysDictDataMapper.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r1u»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r1v»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned IGenTableColumnService.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r1v»" hidden="" style=""></div></div></div></div></div></div><div class="mb-8 mt-16 h-px w-full bg-neutral-300 dark:bg-neutral-700"></div><div id="15" class="flex flex-col gap-3 pt-8 lg:flex-row" data-query-display="true" data-query-index="14"><div class="flex max-h-fit min-w-0 flex-1 flex-shrink-0 flex-col xl:[flex-grow:2]"><div class=""><div class="flex flex-col"><a class="flex items-center gap-2 text-base text-neutral-400 transition-colors hover:text-black dark:hover:text-white" href="https://deepwiki.com/1211454975/crowdmarket"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"></path></svg>return to 1211454975/crowdmarket</a><div class="flex flex-col items-start gap-2 text-white"><div class="group relative flex items-center"><span class="text-xl xl:text-2xl">基于表单元数据，还需要提供图表功能，图表功能也采取零代码设计，业务人员只需要通过UI简单地进行设置，即可完成图表功能。<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to query"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></span></div></div></div><div class="py-3"><div class="text-primary/70 flex flex-col items-start justify-between text-sm"><div class="mb-1"><div class="inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" viewBox="0 0 256 256" class="mr-1"><path d="M213.85,125.46l-112,120a8,8,0,0,1-13.69-7l14.66-73.33L45.19,143.49a8,8,0,0,1-3-13l112-120a8,8,0,0,1,13.69,7L153.18,90.9l57.63,21.61a8,8,0,0,1,3,12.95Z"></path></svg>Fast</div></div><div class="flex w-full items-center justify-between gap-2"><div class="">Searched across 1211454975/crowdmarket</div></div></div></div><div class="h-fit rounded-lg" style="scrollbar-width: thin; scrollbar-color: rgb(58, 58, 58) transparent;"><div class="dark:[&amp;_pre:has(code)]:bg-shade dark:[&amp;_code[data-lang]]:bg-shade relative flex flex-col gap-1 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-4 text-white [overflow-wrap:anywhere] dark:border-[#2F2F2F] dark:bg-[#141414] [&amp;_pre]:my-3"><div class="prose-custom prose-custom-md prose-custom-gray !max-w-none text-neutral-300 [overflow-wrap:anywhere]"><p>I'll help you design a zero-code chart functionality based on the form metadata system we've been discussing for the CrowdMarket system.</p>
<h1 class="group flex items-center">基于表单元数据的零代码图表功能设计  </h1>
<p>根据您的需求，我将设计一个基于表单元数据的零代码图表功能，使业务人员能够通过简单的UI设置来创建和管理图表。这个功能将与之前讨论的表单元数据管理和多租户数据库架构无缝集成。</p>
<h2 class="group flex items-center">整体架构设计  </h2>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><div class="group relative cursor-pointer overflow-x-auto rounded-md bg-[#f2f1f0] p-4 transition-colors hover:bg-[#ededed] dark:bg-[#1f1f1f] dark:hover:bg-[#242424]" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«r4a»" data-state="closed"><div class="flex justify-center"><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 478 457" style="max-width: 478px;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-zxvntpi3nx"><style>#mermaid-zxvntpi3nx{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-zxvntpi3nx .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-zxvntpi3nx .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-zxvntpi3nx .error-icon{fill:#dddddd;}#mermaid-zxvntpi3nx .error-text{fill:#222222;stroke:#222222;}#mermaid-zxvntpi3nx .edge-thickness-normal{stroke-width:1px;}#mermaid-zxvntpi3nx .edge-thickness-thick{stroke-width:3.5px;}#mermaid-zxvntpi3nx .edge-pattern-solid{stroke-dasharray:0;}#mermaid-zxvntpi3nx .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-zxvntpi3nx .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-zxvntpi3nx .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-zxvntpi3nx .marker{fill:#999;stroke:#999;}#mermaid-zxvntpi3nx .marker.cross{stroke:#999;}#mermaid-zxvntpi3nx svg{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px;}#mermaid-zxvntpi3nx p{margin:0;}#mermaid-zxvntpi3nx .label{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;color:#333;}#mermaid-zxvntpi3nx .cluster-label text{fill:#444;}#mermaid-zxvntpi3nx .cluster-label span{color:#444;}#mermaid-zxvntpi3nx .cluster-label span p{background-color:transparent;}#mermaid-zxvntpi3nx .label text,#mermaid-zxvntpi3nx span{fill:#333;color:#333;}#mermaid-zxvntpi3nx .node rect,#mermaid-zxvntpi3nx .node circle,#mermaid-zxvntpi3nx .node ellipse,#mermaid-zxvntpi3nx .node polygon,#mermaid-zxvntpi3nx .node path{fill:#ffffff;stroke:#dddddd;stroke-width:1px;}#mermaid-zxvntpi3nx .rough-node .label text,#mermaid-zxvntpi3nx .node .label text,#mermaid-zxvntpi3nx .image-shape .label,#mermaid-zxvntpi3nx .icon-shape .label{text-anchor:middle;}#mermaid-zxvntpi3nx .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-zxvntpi3nx .rough-node .label,#mermaid-zxvntpi3nx .node .label,#mermaid-zxvntpi3nx .image-shape .label,#mermaid-zxvntpi3nx .icon-shape .label{text-align:center;}#mermaid-zxvntpi3nx .node.clickable{cursor:pointer;}#mermaid-zxvntpi3nx .root .anchor path{fill:#999!important;stroke-width:0;stroke:#999;}#mermaid-zxvntpi3nx .arrowheadPath{fill:#0b0b0b;}#mermaid-zxvntpi3nx .edgePath .path{stroke:#999;stroke-width:2.0px;}#mermaid-zxvntpi3nx .flowchart-link{stroke:#999;fill:none;}#mermaid-zxvntpi3nx .edgeLabel{background-color:#ffffff;text-align:center;}#mermaid-zxvntpi3nx .edgeLabel p{background-color:#ffffff;}#mermaid-zxvntpi3nx .edgeLabel rect{opacity:0.5;background-color:#ffffff;fill:#ffffff;}#mermaid-zxvntpi3nx .labelBkg{background-color:rgba(255, 255, 255, 0.5);}#mermaid-zxvntpi3nx .cluster rect{fill:#f8f8f8;stroke:#dddddd;stroke-width:1px;}#mermaid-zxvntpi3nx .cluster text{fill:#444;}#mermaid-zxvntpi3nx .cluster span{color:#444;}#mermaid-zxvntpi3nx div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:12px;background:#dddddd;border:1px solid hsl(0, 0%, 76.6666666667%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-zxvntpi3nx .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-zxvntpi3nx rect.text{fill:none;stroke-width:0;}#mermaid-zxvntpi3nx .icon-shape,#mermaid-zxvntpi3nx .image-shape{background-color:#ffffff;text-align:center;}#mermaid-zxvntpi3nx .icon-shape p,#mermaid-zxvntpi3nx .image-shape p{background-color:#ffffff;padding:2px;}#mermaid-zxvntpi3nx .icon-shape rect,#mermaid-zxvntpi3nx .image-shape rect{opacity:0.5;background-color:#ffffff;fill:#ffffff;}#mermaid-zxvntpi3nx :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-zxvntpi3nx_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-zxvntpi3nx_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-zxvntpi3nx_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-zxvntpi3nx_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-zxvntpi3nx_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-zxvntpi3nx_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"><g data-look="classic" id="subGraph1" class="cluster"><rect height="208" width="226" y="137" x="8" style=""></rect><g transform="translate(81, 137)" class="cluster-label"><foreignobject height="24" width="80"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>租户数据库</p></span></div></foreignobject></g></g><g data-look="classic" id="subGraph0" class="cluster"><rect height="337" width="216" y="8" x="254" style=""></rect><g transform="translate(330, 8)" class="cluster-label"><foreignobject height="24" width="64"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>主数据库</p></span></div></foreignobject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid-zxvntpi3nx_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M359,87L359,91.167C359,95.333,359,103.667,359,112C359,120.333,359,128.667,359,136.333C359,144,359,151,359,154.5L359,158"></path><path marker-end="url(#mermaid-zxvntpi3nx_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_C_0" d="M364.192,216L364.994,220.167C365.795,224.333,367.397,232.667,368.199,240.333C369,248,369,255,369,258.5L369,262"></path><path marker-end="url(#mermaid-zxvntpi3nx_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_E_0" d="M121,216L121,220.167C121,224.333,121,232.667,121,240.333C121,248,121,255,121,258.5L121,262"></path><path marker-end="url(#mermaid-zxvntpi3nx_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_E_0" d="M336.933,216L333.527,220.167C330.122,224.333,323.311,232.667,300.966,241.871C278.622,251.075,240.744,261.15,221.805,266.188L202.866,271.225"></path><path marker-end="url(#mermaid-zxvntpi3nx_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_F_0" d="M121,320L121,324.167C121,328.333,121,336.667,121,345C121,353.333,121,361.667,121,369.333C121,377,121,384,121,387.5L121,391"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g></g><g class="nodes"><g transform="translate(359, 60)" id="flowchart-A-0" class="node default"><rect height="54" width="140" y="-27" x="-70" style="" class="basic label-container"></rect><g transform="translate(-40, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="80"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>表单元数据</p></span></div></foreignobject></g></g><g transform="translate(359, 189)" id="flowchart-B-1" class="node default"><rect height="54" width="140" y="-27" x="-70" style="" class="basic label-container"></rect><g transform="translate(-40, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="80"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>图表元数据</p></span></div></foreignobject></g></g><g transform="translate(369, 293)" id="flowchart-C-3" class="node default"><rect height="54" width="124" y="-27" x="-62" style="" class="basic label-container"></rect><g transform="translate(-32, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="64"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>图表配置</p></span></div></foreignobject></g></g><g transform="translate(121, 189)" id="flowchart-D-4" class="node default"><rect height="54" width="140" y="-27" x="-70" style="" class="basic label-container"></rect><g transform="translate(-40, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="80"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>租户数据表</p></span></div></foreignobject></g></g><g transform="translate(121, 293)" id="flowchart-E-5" class="node default"><rect height="54" width="156" y="-27" x="-78" style="" class="basic label-container"></rect><g transform="translate(-48, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="96"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>图表数据查询</p></span></div></foreignobject></g></g><g transform="translate(121, 422)" id="flowchart-F-9" class="node default"><rect height="54" width="124" y="-27" x="-62" style="" class="basic label-container"></rect><g transform="translate(-32, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="64"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>图表渲染</p></span></div></foreignobject></g></g></g></g></g></svg></div><div class="bg-input-dark absolute right-2 top-2 rounded-sm p-1 opacity-0 transition-opacity group-hover:opacity-100"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="light:text-gray-800 text-white dark:text-white"><path d="M216,48V96a8,8,0,0,1-16,0V67.31l-42.34,42.35a8,8,0,0,1-11.32-11.32L188.69,56H160a8,8,0,0,1,0-16h48A8,8,0,0,1,216,48ZM98.34,146.34,56,188.69V160a8,8,0,0,0-16,0v48a8,8,0,0,0,8,8H96a8,8,0,0,0,0-16H67.31l42.35-42.34a8,8,0,0,0-11.32-11.32ZM208,152a8,8,0,0,0-8,8v28.69l-42.34-42.35a8,8,0,0,0-11.32,11.32L188.69,200H160a8,8,0,0,0,0,16h48a8,8,0,0,0,8-8V160A8,8,0,0,0,208,152ZM67.31,56H96a8,8,0,0,0,0-16H48a8,8,0,0,0-8,8V96a8,8,0,0,0,16,0V67.31l42.34,42.35a8,8,0,0,0,11.32-11.32Z"></path></svg></div></div></pre>
<h2 class="group flex items-center">数据库设计  </h2>
<h3 class="group flex items-center">1. 图表元数据表 (chart_metadata)  </h3>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `chart_metadata` (  
</span><span>  `chart_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'图表ID'</span><span>,  
</span><span>  `chart_name` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'图表名称'</span><span>,  
</span><span>  `chart_desc` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">500</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'图表描述'</span><span>,  
</span><span>  `chart_type` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'图表类型(bar柱状图,line折线图,pie饼图,radar雷达图等)'</span><span>,  
</span><span>  `metadata_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'关联的表单元数据ID'</span><span>,  
</span><span>  `status` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'状态(0草稿,1发布,2停用)'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  `create_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建者'</span><span>,  
</span><span>  `create_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建时间'</span><span>,  
</span><span>  `update_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新者'</span><span>,  
</span><span>  `update_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新时间'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`chart_id`),  
</span>  KEY `idx_metadata_id` (`metadata_id`),  
  KEY `idx_tenant_id` (`tenant_id`)  
<span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'图表元数据表'</span><span>;</span></code></pre></pre>
<h3 class="group flex items-center">2. 图表配置表 (chart_config)  </h3>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `chart_config` (  
</span><span>  `config_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'配置ID'</span><span>,  
</span><span>  `chart_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'图表ID'</span><span>,  
</span><span>  `dimension_fields` text COMMENT </span><span style="color: rgb(221, 17, 68);">'维度字段JSON'</span><span>,  
</span><span>  `measure_fields` text COMMENT </span><span style="color: rgb(221, 17, 68);">'度量字段JSON'</span><span>,  
</span><span>  `filter_condition` text COMMENT </span><span style="color: rgb(221, 17, 68);">'过滤条件JSON'</span><span>,  
</span><span>  `sort_config` text COMMENT </span><span style="color: rgb(221, 17, 68);">'排序配置JSON'</span><span>,  
</span><span>  `style_config` text COMMENT </span><span style="color: rgb(221, 17, 68);">'样式配置JSON'</span><span>,  
</span><span>  `data_limit` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">int</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'1000'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'数据限制条数'</span><span>,  
</span><span>  `refresh_interval` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">int</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'刷新间隔(秒)'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`config_id`),  
</span>  KEY `idx_chart_id` (`chart_id`)  
<span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'图表配置表'</span><span>;</span></code></pre></pre>
<h2 class="group flex items-center">核心功能模块  </h2>
<h3 class="group flex items-center">1. 图表设计器  </h3>
<p>图表设计器将提供一个直观的界面，让业务人员可以：</p>
<ol>
<li>选择数据源（基于已有的表单元数据）</li>
<li>选择图表类型（柱状图、折线图、饼图等）</li>
<li>配置维度和度量字段</li>
<li>设置过滤条件和排序规则</li>
<li>自定义图表样式和显示选项</li>
<li>预览图表效果</li>
</ol>
<p>图表设计器将生成JSON格式的配置，存储在<code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">chart_config</code>表中。</p>
<h3 class="group flex items-center">2. 图表数据服务  </h3>
<p>图表数据服务负责：</p>
<ol>
<li>根据图表配置从租户数据库中查询数据</li>
<li>对数据进行聚合和转换，以适应不同图表类型的需求</li>
<li>应用过滤条件和排序规则</li>
<li>返回格式化的数据，供图表渲染使用</li>
</ol>
<h3 class="group flex items-center">3. 图表渲染引擎  </h3>
<p>图表渲染引擎负责：</p>
<ol>
<li>根据图表类型和配置渲染图表</li>
<li>处理图表交互（如点击、悬停等）</li>
<li>支持图表导出（如PNG、PDF等格式）</li>
<li>支持图表嵌入到其他页面</li>
</ol>
<h2 class="group flex items-center">技术实现  </h2>
<h3 class="group flex items-center">1. 后端实现  </h3>
<h4 class="group flex items-center">1.1 图表元数据服务</h4>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 153); font-weight: bold;">@Service</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">ChartMetadataService</span><span class="hljs-class"> </span><span>{  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> ChartMetadataMapper chartMetadataMapper;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> ChartConfigMapper chartConfigMapper;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 创建图表元数据  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Transactional</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">createChartMetadata</span><span class="hljs-function hljs-params">(ChartMetadata chartMetadata, ChartConfig chartConfig)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 设置ID和创建时间  </span><span>
</span>        chartMetadata.setChartId(IdUtils.fastUUID());  
<span>        chartMetadata.setCreateTime(</span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> Date());  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 保存图表元数据  </span><span>
</span>        chartMetadataMapper.insertChartMetadata(chartMetadata);  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 设置图表配置的关联ID  </span><span>
</span>        chartConfig.setConfigId(IdUtils.fastUUID());  
        chartConfig.setChartId(chartMetadata.getChartId());  
        chartConfig.setTenantId(chartMetadata.getTenantId());  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 保存图表配置  </span><span>
</span>        chartConfigMapper.insertChartConfig(chartConfig);  
    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 更新图表元数据  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Transactional</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">updateChartMetadata</span><span class="hljs-function hljs-params">(ChartMetadata chartMetadata, ChartConfig chartConfig)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 设置更新时间  </span><span>
</span><span>        chartMetadata.setUpdateTime(</span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> Date());  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 更新图表元数据  </span><span>
</span>        chartMetadataMapper.updateChartMetadata(chartMetadata);  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 更新图表配置  </span><span>
</span>        chartConfigMapper.updateChartConfig(chartConfig);  
    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 获取图表元数据  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> ChartMetadata </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">getChartMetadata</span><span class="hljs-function hljs-params">(String chartId, String tenantId)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> chartMetadataMapper.selectChartMetadataById(chartId, tenantId);  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 获取图表配置  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> ChartConfig </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">getChartConfig</span><span class="hljs-function hljs-params">(String chartId, String tenantId)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> chartConfigMapper.selectChartConfigByChartId(chartId, tenantId);  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 查询图表列表  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> List&lt;ChartMetadata&gt; </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">listChartMetadata</span><span class="hljs-function hljs-params">(String tenantId, String metadataId)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> chartMetadataMapper.selectChartMetadataList(tenantId, metadataId);  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 删除图表  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Transactional</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">deleteChart</span><span class="hljs-function hljs-params">(String chartId, String tenantId)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 删除图表配置  </span><span>
</span>        chartConfigMapper.deleteChartConfigByChartId(chartId, tenantId);  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 删除图表元数据  </span><span>
</span>        chartMetadataMapper.deleteChartMetadataById(chartId, tenantId);  
    }  
}</code></pre></pre>
<h4 class="group flex items-center">1.2 图表数据服务</h4>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 153); font-weight: bold;">@Service</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">ChartDataService</span><span class="hljs-class"> </span><span>{  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> ChartMetadataService chartMetadataService;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> FormMetadataMapper formMetadataMapper;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> FormTenantTableMappingMapper mappingMapper;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> TenantDatabaseService tenantDatabaseService;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 查询图表数据  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> Map&lt;String, Object&gt; </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">queryChartData</span><span class="hljs-function hljs-params">(String chartId, String tenantId)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 获取图表元数据和配置  </span><span>
</span>        ChartMetadata chartMetadata = chartMetadataService.getChartMetadata(chartId, tenantId);  
        ChartConfig chartConfig = chartMetadataService.getChartConfig(chartId, tenantId);  
          
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (chartMetadata == </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span> || chartConfig == </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">throw</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> ServiceException(</span><span style="color: rgb(221, 17, 68);">"图表不存在"</span><span>);  
</span>        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 获取关联的表单元数据  </span><span>
</span>        String metadataId = chartMetadata.getMetadataId();  
        FormMetadata formMetadata = formMetadataMapper.selectByPrimaryKey(metadataId);  
          
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (formMetadata == </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">throw</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> ServiceException(</span><span style="color: rgb(221, 17, 68);">"关联的表单元数据不存在"</span><span>);  
</span>        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 获取租户表映射  </span><span>
</span>        FormTenantTableMapping mapping = mappingMapper.selectByMetadataAndTenant(metadataId, tenantId);  
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (mapping == </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span> || mapping.getIsCreated() != </span><span style="color: rgb(0, 128, 128);">1</span><span>) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">throw</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> ServiceException(</span><span style="color: rgb(221, 17, 68);">"租户数据表未创建"</span><span>);  
</span>        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 获取租户数据源  </span><span>
</span>        DataSource tenantDataSource = tenantDatabaseService.getTenantDataSource(tenantId);  
<span>        JdbcTemplate jdbcTemplate = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> JdbcTemplate(tenantDataSource);  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 构建SQL查询  </span><span>
</span>        String sql = buildChartSql(mapping.getTableName(), chartConfig);  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 执行查询  </span><span>
</span>        List&lt;Map&lt;String, Object&gt;&gt; data = jdbcTemplate.queryForList(sql);  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 处理数据，转换为图表所需格式  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> processChartData(data, chartMetadata.getChartType(), chartConfig);  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 构建图表SQL查询  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span class="hljs-function"> String </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">buildChartSql</span><span class="hljs-function hljs-params">(String tableName, ChartConfig chartConfig)</span><span class="hljs-function"> </span><span>{  
</span><span>        StringBuilder sql = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> StringBuilder();  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 解析维度和度量字段  </span><span>
</span>        List&lt;ChartDimension&gt; dimensions = JSON.parseArray(chartConfig.getDimensionFields(), ChartDimension.class);  
        List&lt;ChartMeasure&gt; measures = JSON.parseArray(chartConfig.getMeasureFields(), ChartMeasure.class);  
          
<span>        sql.append(</span><span style="color: rgb(221, 17, 68);">"SELECT "</span><span>);  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 添加维度字段  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">for</span><span> (</span><span style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span> i = </span><span style="color: rgb(0, 128, 128);">0</span><span>; i &lt; dimensions.size(); i++) {  
</span>            ChartDimension dimension = dimensions.get(i);  
            sql.append(dimension.getFieldName());  
<span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (i &lt; dimensions.size() - </span><span style="color: rgb(0, 128, 128);">1</span><span> || !measures.isEmpty()) {  
</span><span>                sql.append(</span><span style="color: rgb(221, 17, 68);">", "</span><span>);  
</span>            }  
        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 添加度量字段  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">for</span><span> (</span><span style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span> i = </span><span style="color: rgb(0, 128, 128);">0</span><span>; i &lt; measures.size(); i++) {  
</span>            ChartMeasure measure = measures.get(i);  
<span>            sql.append(measure.getAggregateFunction()).append(</span><span style="color: rgb(221, 17, 68);">"("</span><span>).append(measure.getFieldName()).append(</span><span style="color: rgb(221, 17, 68);">") AS "</span><span>).append(measure.getAlias());  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (i &lt; measures.size() - </span><span style="color: rgb(0, 128, 128);">1</span><span>) {  
</span><span>                sql.append(</span><span style="color: rgb(221, 17, 68);">", "</span><span>);  
</span>            }  
        }  
          
<span>        sql.append(</span><span style="color: rgb(221, 17, 68);">" FROM "</span><span>).append(tableName);  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 添加过滤条件  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (StringUtils.isNotEmpty(chartConfig.getFilterCondition())) {  
</span>            List&lt;ChartFilter&gt; filters = JSON.parseArray(chartConfig.getFilterCondition(), ChartFilter.class);  
<span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (!filters.isEmpty()) {  
</span><span>                sql.append(</span><span style="color: rgb(221, 17, 68);">" WHERE "</span><span>);  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">for</span><span> (</span><span style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span> i = </span><span style="color: rgb(0, 128, 128);">0</span><span>; i &lt; filters.size(); i++) {  
</span>                    ChartFilter filter = filters.get(i);  
<span>                    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (i &gt; </span><span style="color: rgb(0, 128, 128);">0</span><span>) {  
</span><span>                        sql.append(</span><span style="color: rgb(221, 17, 68);">" AND "</span><span>);  
</span>                    }  
                    sql.append(buildFilterCondition(filter));  
                }  
            }  
        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 添加分组  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (!dimensions.isEmpty()) {  
</span><span>            sql.append(</span><span style="color: rgb(221, 17, 68);">" GROUP BY "</span><span>);  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">for</span><span> (</span><span style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span> i = </span><span style="color: rgb(0, 128, 128);">0</span><span>; i &lt; dimensions.size(); i++) {  
</span>                ChartDimension dimension = dimensions.get(i);  
                sql.append(dimension.getFieldName());  
<span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (i &lt; dimensions.size() - </span><span style="color: rgb(0, 128, 128);">1</span><span>) {  
</span><span>                    sql.append(</span><span style="color: rgb(221, 17, 68);">", "</span><span>);  
</span>                }  
            }  
        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 添加排序  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (StringUtils.isNotEmpty(chartConfig.getSortConfig())) {  
</span>            List&lt;ChartSort&gt; sorts = JSON.parseArray(chartConfig.getSortConfig(), ChartSort.class);  
<span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (!sorts.isEmpty()) {  
</span><span>                sql.append(</span><span style="color: rgb(221, 17, 68);">" ORDER BY "</span><span>);  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">for</span><span> (</span><span style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span> i = </span><span style="color: rgb(0, 128, 128);">0</span><span>; i &lt; sorts.size(); i++) {  
</span>                    ChartSort sort = sorts.get(i);  
<span>                    sql.append(sort.getFieldName()).append(</span><span style="color: rgb(221, 17, 68);">" "</span><span>).append(sort.getDirection());  
</span><span>                    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (i &lt; sorts.size() - </span><span style="color: rgb(0, 128, 128);">1</span><span>) {  
</span><span>                        sql.append(</span><span style="color: rgb(221, 17, 68);">", "</span><span>);  
</span>                    }  
                }  
            }  
        }  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 添加数据限制  </span><span>
</span><span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">if</span><span> (chartConfig.getDataLimit() &gt; </span><span style="color: rgb(0, 128, 128);">0</span><span>) {  
</span><span>            sql.append(</span><span style="color: rgb(221, 17, 68);">" LIMIT "</span><span>).append(chartConfig.getDataLimit());  
</span>        }  
          
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> sql.toString();  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 构建过滤条件  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span class="hljs-function"> String </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">buildFilterCondition</span><span class="hljs-function hljs-params">(ChartFilter filter)</span><span class="hljs-function"> </span><span>{  
</span><span>        StringBuilder condition = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> StringBuilder();  
</span>        condition.append(filter.getFieldName());  
          
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">switch</span><span> (filter.getOperator()) {  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">case</span><span> </span><span style="color: rgb(221, 17, 68);">"eq"</span><span>:  
</span><span>                condition.append(</span><span style="color: rgb(221, 17, 68);">" = '"</span><span>).append(filter.getValue()).append(</span><span style="color: rgb(221, 17, 68);">"'"</span><span>);  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">break</span><span>;  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">case</span><span> </span><span style="color: rgb(221, 17, 68);">"ne"</span><span>:  
</span><span>                condition.append(</span><span style="color: rgb(221, 17, 68);">" != '"</span><span>).append(filter.getValue()).append(</span><span style="color: rgb(221, 17, 68);">"'"</span><span>);  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">break</span><span>;  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">case</span><span> </span><span style="color: rgb(221, 17, 68);">"gt"</span><span>:  
</span><span>                condition.append(</span><span style="color: rgb(221, 17, 68);">" &gt; "</span><span>).append(filter.getValue());  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">break</span><span>;  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">case</span><span> </span><span style="color: rgb(221, 17, 68);">"lt"</span><span>:  
</span><span>                condition.append(</span><span style="color: rgb(221, 17, 68);">" &lt; "</span><span>).append(filter.getValue());  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">break</span><span>;  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">case</span><span> </span><span style="color: rgb(221, 17, 68);">"ge"</span><span>:  
</span><span>                condition.append(</span><span style="color: rgb(221, 17, 68);">" &gt;= "</span><span>).append(filter.getValue());  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">break</span><span>;  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">case</span><span> </span><span style="color: rgb(221, 17, 68);">"le"</span><span>:  
</span><span>                condition.append(</span><span style="color: rgb(221, 17, 68);">" &lt;= "</span><span>).append(filter.getValue());  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">break</span><span>;  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">case</span><span> </span><span style="color: rgb(221, 17, 68);">"like"</span><span>:  
</span><span>                condition.append(</span><span style="color: rgb(221, 17, 68);">" LIKE '%"</span><span>).append(filter.getValue()).append(</span><span style="color: rgb(221, 17, 68);">"%'"</span><span>);  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">break</span><span>;  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">case</span><span> </span><span style="color: rgb(221, 17, 68);">"in"</span><span>:  
</span><span>                condition.append(</span><span style="color: rgb(221, 17, 68);">" IN ("</span><span>).append(filter.getValue()).append(</span><span style="color: rgb(221, 17, 68);">")"</span><span>);  
</span><span>                </span><span style="color: rgb(51, 51, 51); font-weight: bold;">break</span><span>;  
</span><span>            </span><span style="color: rgb(51, 51, 51); font-weight: bold;">default</span><span>:  
</span><span>                condition.append(</span><span style="color: rgb(221, 17, 68);">" = '"</span><span>).append(filter.getValue()).append(</span><span style="color: rgb(221, 17, 68);">"'"</span><span>);  
</span>        }  
          
<span>        </span><span style="color: rgb(51, 51, 51); font-weight: bold;">return</span><span> condition.toString();  
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * 处理图表数据  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span class="hljs-function"> Map&lt;String, Object&gt; </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">processChartData</span><span class="hljs-function hljs-params">(List&lt;Map&lt;String, Object&gt;&gt; data, String chartType, ChartConfig chartConfig)</span><span class="hljs-function"> </span><span>{  
</span><span>        Map&lt;String, Object&gt; result = </span><span style="color: rgb(51, 51, 51); font-weight: bold;">new</span><span> HashMap&lt;&gt;();  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 解析维度和度量字段  </span><span>
</span>        List&lt;ChartDimension&gt; dimensions = JSON.parseArray(chartConfig.getDimensionFields(), ChartDimension.class);  
        List&lt;ChartMeasure&gt; measures = JSON.parseArray(chartConfig.getMeasureFields(), ChartMeasure.class);  
          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// 根据图</span></code></pre></pre></div><div class="flex items-center gap-1 text-neutral-300"><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M234,80.12A24,24,0,0,0,216,72H160V56a40,40,0,0,0-40-40,8,8,0,0,0-7.16,4.42L75.06,96H32a16,16,0,0,0-16,16v88a16,16,0,0,0,16,16H204a24,24,0,0,0,23.82-21l12-96A24,24,0,0,0,234,80.12ZM32,112H72v88H32ZM223.94,97l-12,96a8,8,0,0,1-7.94,7H88V105.89l36.71-73.43A24,24,0,0,1,144,56V80a8,8,0,0,0,8,8h64a8,8,0,0,1,7.94,9Z"></path></svg></button><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M239.82,157l-12-96A24,24,0,0,0,204,40H32A16,16,0,0,0,16,56v88a16,16,0,0,0,16,16H75.06l37.78,75.58A8,8,0,0,0,120,240a40,40,0,0,0,40-40V184h56a24,24,0,0,0,23.82-27ZM72,144H32V56H72Zm150,21.29a7.88,7.88,0,0,1-6,2.71H152a8,8,0,0,0-8,8v24a24,24,0,0,1-19.29,23.54L88,150.11V56H204a8,8,0,0,1,7.94,7l12,96A7.87,7.87,0,0,1,222,165.29Z"></path></svg></button></div></div></div></div></div><div class="min-w-0 flex-1 scroll-smooth xl:[flex-grow:3]" style="scrollbar-width: thin; scrollbar-color: rgb(90, 90, 90) transparent; min-height: unset;"><div class="sticky left-0 top-0 overflow-y-auto rounded-md" style="max-height: calc(-55px + 100vh);"><div class="flex flex-col gap-2 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-3 dark:border-[#2f2f2f] dark:bg-[#141414]"><div data-state="closed"><button type="button" aria-controls="radix-«r20»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned LineChart.vue</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r20»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r21»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned PieChart.vue</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r21»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r22»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned RaddarChart.vue</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r22»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r23»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned BarChart.vue</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r23»" hidden="" style=""></div></div></div></div></div></div><div class="mb-8 mt-16 h-px w-full bg-neutral-300 dark:bg-neutral-700"></div><div id="16" class="flex flex-col gap-3 pt-8 lg:flex-row" data-query-display="true" data-query-index="15"><div class="flex max-h-fit min-w-0 flex-1 flex-shrink-0 flex-col xl:[flex-grow:2]"><div class=""><div class="flex flex-col"><a class="flex items-center gap-2 text-base text-neutral-400 transition-colors hover:text-black dark:hover:text-white" href="https://deepwiki.com/1211454975/crowdmarket"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"></path></svg>return to 1211454975/crowdmarket</a><div class="flex flex-col items-start gap-2 text-white"><div class="group relative flex items-center"><span class="text-xl xl:text-2xl">总结一下前面提供的需求和生成的方案：基于元数据的表单设计，表单数据管理，基于表单元数据的业务规则管理，基于表单元数据的图表管理，请重新综合分析一下，形成整个方案的设计文档。<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to query"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></span></div></div></div><div class="py-3"><div class="text-primary/70 flex flex-col items-start justify-between text-sm"><div class="mb-1"><div class="inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" viewBox="0 0 256 256" class="mr-1"><path d="M213.85,125.46l-112,120a8,8,0,0,1-13.69-7l14.66-73.33L45.19,143.49a8,8,0,0,1-3-13l112-120a8,8,0,0,1,13.69,7L153.18,90.9l57.63,21.61a8,8,0,0,1,3,12.95Z"></path></svg>Fast</div></div><div class="flex w-full items-center justify-between gap-2"><div class="">Searched across 1211454975/crowdmarket</div></div></div></div><div class="h-fit rounded-lg" style="scrollbar-width: thin; scrollbar-color: rgb(58, 58, 58) transparent;"><div class="dark:[&amp;_pre:has(code)]:bg-shade dark:[&amp;_code[data-lang]]:bg-shade relative flex flex-col gap-1 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-4 text-white [overflow-wrap:anywhere] dark:border-[#2F2F2F] dark:bg-[#141414] [&amp;_pre]:my-3"><div class="prose-custom prose-custom-md prose-custom-gray !max-w-none text-neutral-300 [overflow-wrap:anywhere]"><p>I'll provide a comprehensive design document that summarizes the requirements and solutions for the metadata-based form management system in the CrowdMarket framework.</p>
<h1 class="group flex items-center">元数据驱动的表单管理系统设计文档  </h1>
<h2 class="group flex items-center">1. 系统概述  </h2>
<p>本设计文档描述了在CrowdMarket系统框架下实现的零代码表单管理模块，该模块基于元数据驱动，支持多租户架构，并包含表单设计、数据管理、业务规则管理和图表管理四个核心功能模块。</p>
<p>系统采用元数据驱动的方式，将表单定义、业务规则和图表配置存储在主数据库中，而将实际的业务数据存储在各租户的独立数据库中，实现了配置与数据的分离，提高了系统的灵活性和扩展性。</p>
<h2 class="group flex items-center">2. 系统架构  </h2>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><div class="group relative cursor-pointer overflow-x-auto rounded-md bg-[#f2f1f0] p-4 transition-colors hover:bg-[#ededed] dark:bg-[#1f1f1f] dark:hover:bg-[#242424]" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«r4d»" data-state="closed"><div class="flex justify-center"><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 1610.0859375 532" style="max-width: 1610.0859375px;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-qaxink7u95b"><style>#mermaid-qaxink7u95b{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-qaxink7u95b .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-qaxink7u95b .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-qaxink7u95b .error-icon{fill:#dddddd;}#mermaid-qaxink7u95b .error-text{fill:#222222;stroke:#222222;}#mermaid-qaxink7u95b .edge-thickness-normal{stroke-width:1px;}#mermaid-qaxink7u95b .edge-thickness-thick{stroke-width:3.5px;}#mermaid-qaxink7u95b .edge-pattern-solid{stroke-dasharray:0;}#mermaid-qaxink7u95b .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-qaxink7u95b .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-qaxink7u95b .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-qaxink7u95b .marker{fill:#999;stroke:#999;}#mermaid-qaxink7u95b .marker.cross{stroke:#999;}#mermaid-qaxink7u95b svg{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:16px;}#mermaid-qaxink7u95b p{margin:0;}#mermaid-qaxink7u95b .label{font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;color:#333;}#mermaid-qaxink7u95b .cluster-label text{fill:#444;}#mermaid-qaxink7u95b .cluster-label span{color:#444;}#mermaid-qaxink7u95b .cluster-label span p{background-color:transparent;}#mermaid-qaxink7u95b .label text,#mermaid-qaxink7u95b span{fill:#333;color:#333;}#mermaid-qaxink7u95b .node rect,#mermaid-qaxink7u95b .node circle,#mermaid-qaxink7u95b .node ellipse,#mermaid-qaxink7u95b .node polygon,#mermaid-qaxink7u95b .node path{fill:#ffffff;stroke:#dddddd;stroke-width:1px;}#mermaid-qaxink7u95b .rough-node .label text,#mermaid-qaxink7u95b .node .label text,#mermaid-qaxink7u95b .image-shape .label,#mermaid-qaxink7u95b .icon-shape .label{text-anchor:middle;}#mermaid-qaxink7u95b .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-qaxink7u95b .rough-node .label,#mermaid-qaxink7u95b .node .label,#mermaid-qaxink7u95b .image-shape .label,#mermaid-qaxink7u95b .icon-shape .label{text-align:center;}#mermaid-qaxink7u95b .node.clickable{cursor:pointer;}#mermaid-qaxink7u95b .root .anchor path{fill:#999!important;stroke-width:0;stroke:#999;}#mermaid-qaxink7u95b .arrowheadPath{fill:#0b0b0b;}#mermaid-qaxink7u95b .edgePath .path{stroke:#999;stroke-width:2.0px;}#mermaid-qaxink7u95b .flowchart-link{stroke:#999;fill:none;}#mermaid-qaxink7u95b .edgeLabel{background-color:#ffffff;text-align:center;}#mermaid-qaxink7u95b .edgeLabel p{background-color:#ffffff;}#mermaid-qaxink7u95b .edgeLabel rect{opacity:0.5;background-color:#ffffff;fill:#ffffff;}#mermaid-qaxink7u95b .labelBkg{background-color:rgba(255, 255, 255, 0.5);}#mermaid-qaxink7u95b .cluster rect{fill:#f8f8f8;stroke:#dddddd;stroke-width:1px;}#mermaid-qaxink7u95b .cluster text{fill:#444;}#mermaid-qaxink7u95b .cluster span{color:#444;}#mermaid-qaxink7u95b div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:ui-sans-serif,-apple-system,system-ui,Segoe UI,Helvetica;font-size:12px;background:#dddddd;border:1px solid hsl(0, 0%, 76.6666666667%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-qaxink7u95b .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-qaxink7u95b rect.text{fill:none;stroke-width:0;}#mermaid-qaxink7u95b .icon-shape,#mermaid-qaxink7u95b .image-shape{background-color:#ffffff;text-align:center;}#mermaid-qaxink7u95b .icon-shape p,#mermaid-qaxink7u95b .image-shape p{background-color:#ffffff;padding:2px;}#mermaid-qaxink7u95b .icon-shape rect,#mermaid-qaxink7u95b .image-shape rect{opacity:0.5;background-color:#ffffff;fill:#ffffff;}#mermaid-qaxink7u95b :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-qaxink7u95b_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-qaxink7u95b_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-qaxink7u95b_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-qaxink7u95b_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-qaxink7u95b_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-qaxink7u95b_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"><g data-look="classic" id="subGraph2" class="cluster"><rect height="233" width="977" y="8" x="625.0859375" style=""></rect><g transform="translate(1081.5859375, 8)" class="cluster-label"><foreignobject height="24" width="64"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>功能模块</p></span></div></foreignobject></g></g><g data-look="classic" id="subGraph1" class="cluster"><rect height="258" width="597.0859375" y="137" x="8" style=""></rect><g transform="translate(266.54296875, 137)" class="cluster-label"><foreignobject height="24" width="80"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>租户数据库</p></span></div></foreignobject></g></g><g data-look="classic" id="subGraph0" class="cluster"><rect height="233" width="748" y="291" x="844.0859375" style=""></rect><g transform="translate(1186.0859375, 291)" class="cluster-label"><foreignobject height="24" width="64"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>主数据库</p></span></div></foreignobject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid-qaxink7u95b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M1072.086,361.86L1051.586,367.383C1031.086,372.907,990.086,383.953,969.586,393.643C949.086,403.333,949.086,411.667,949.086,419.333C949.086,427,949.086,434,949.086,437.5L949.086,441"></path><path marker-end="url(#mermaid-qaxink7u95b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_C_0" d="M1136.374,370L1135.493,374.167C1134.612,378.333,1132.849,386.667,1131.967,395C1131.086,403.333,1131.086,411.667,1131.086,419.333C1131.086,427,1131.086,434,1131.086,437.5L1131.086,441"></path><path marker-end="url(#mermaid-qaxink7u95b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_D_0" d="M1199.461,370L1208.315,374.167C1217.169,378.333,1234.878,386.667,1243.732,395C1252.586,403.333,1252.586,411.667,1256.319,419.531C1260.052,427.395,1267.518,434.79,1271.251,438.488L1274.984,442.185"></path><path marker-end="url(#mermaid-qaxink7u95b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_E_0" d="M1212.086,356.788L1244.419,363.157C1276.753,369.525,1341.419,382.263,1373.753,392.798C1406.086,403.333,1406.086,411.667,1412.015,419.64C1417.945,427.613,1429.803,435.226,1435.733,439.033L1441.662,442.839"></path><path marker-end="url(#mermaid-qaxink7u95b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_F1_0" d="M107.172,216L107.172,220.167C107.172,224.333,107.172,232.667,107.172,241C107.172,249.333,107.172,257.667,107.172,266C107.172,274.333,107.172,282.667,108.046,290.353C108.92,298.039,110.668,305.079,111.542,308.598L112.416,312.118"></path><path marker-end="url(#mermaid-qaxink7u95b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G_G1_0" d="M291.344,216L291.344,220.167C291.344,224.333,291.344,232.667,291.344,241C291.344,249.333,291.344,257.667,291.344,266C291.344,274.333,291.344,282.667,292.619,290.373C293.895,298.079,296.447,305.158,297.722,308.697L298.998,312.237"></path><path marker-end="url(#mermaid-qaxink7u95b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_H_H1_0" d="M476.422,216L476.422,220.167C476.422,224.333,476.422,232.667,476.422,241C476.422,249.333,476.422,257.667,476.422,266C476.422,274.333,476.422,282.667,478.042,290.393C479.662,298.12,482.902,305.24,484.522,308.799L486.142,312.359"></path><path marker-end="url(#mermaid-qaxink7u95b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_I_A_0" d="M1151.983,216L1150.334,220.167C1148.684,224.333,1145.385,232.667,1143.735,241C1142.086,249.333,1142.086,257.667,1142.086,266C1142.086,274.333,1142.086,282.667,1142.086,290.333C1142.086,298,1142.086,305,1142.086,308.5L1142.086,312"></path><path marker-end="url(#mermaid-qaxink7u95b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_J_A_0" d="M836.672,196.618L912.408,204.015C988.143,211.412,1139.615,226.206,1215.35,237.77C1291.086,249.333,1291.086,257.667,1291.086,266C1291.086,274.333,1291.086,282.667,1278.549,291.209C1266.011,299.751,1240.937,308.502,1228.4,312.877L1215.863,317.252"></path><path marker-end="url(#mermaid-qaxink7u95b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_J_F1_0" d="M723.839,216L718.463,220.167C713.088,224.333,702.337,232.667,602.892,241C503.448,249.333,315.31,257.667,221.241,266C127.172,274.333,127.172,282.667,126.694,290.339C126.216,298.012,125.261,305.024,124.783,308.531L124.305,312.037"></path><path marker-end="url(#mermaid-qaxink7u95b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_J_G1_0" d="M744.608,216L742.438,220.167C740.267,224.333,735.927,232.667,663.716,241C591.505,249.333,451.424,257.667,381.384,266C311.344,274.333,311.344,282.667,311.259,290.334C311.174,298,311.005,305.001,310.92,308.501L310.836,312.001"></path><path marker-end="url(#mermaid-qaxink7u95b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_J_H1_0" d="M836.672,212.189L852.824,216.99C868.977,221.792,901.281,231.396,844.573,240.365C787.865,249.333,642.143,257.667,569.283,266C496.422,274.333,496.422,282.667,496.669,290.335C496.915,298.003,497.409,305.007,497.656,308.508L497.902,312.01"></path><path marker-end="url(#mermaid-qaxink7u95b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_K_D_0" d="M1101.172,72.276L1143.241,78.896C1185.31,85.517,1269.448,98.759,1311.517,109.546C1353.586,120.333,1353.586,128.667,1353.586,141.5C1353.586,154.333,1353.586,171.667,1353.586,189C1353.586,206.333,1353.586,223.667,1353.586,236.5C1353.586,249.333,1353.586,257.667,1353.586,266C1353.586,274.333,1353.586,282.667,1353.586,295.5C1353.586,308.333,1353.586,325.667,1353.586,343C1353.586,360.333,1353.586,377.667,1353.586,390.5C1353.586,403.333,1353.586,411.667,1350.154,419.512C1346.723,427.358,1339.86,434.717,1336.428,438.396L1332.997,442.075"></path><path marker-end="url(#mermaid-qaxink7u95b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_K_J_0" d="M945.172,75.335L914.089,81.445C883.005,87.556,820.839,99.778,789.755,110.056C758.672,120.333,758.672,128.667,758.672,136.333C758.672,144,758.672,151,758.672,154.5L758.672,158"></path><path marker-end="url(#mermaid-qaxink7u95b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_L_E_0" d="M1497.086,216L1497.086,220.167C1497.086,224.333,1497.086,232.667,1497.086,241C1497.086,249.333,1497.086,257.667,1497.086,266C1497.086,274.333,1497.086,282.667,1497.086,295.5C1497.086,308.333,1497.086,325.667,1497.086,343C1497.086,360.333,1497.086,377.667,1497.086,390.5C1497.086,403.333,1497.086,411.667,1496.411,419.345C1495.735,427.024,1494.384,434.048,1493.709,437.56L1493.034,441.072"></path><path marker-end="url(#mermaid-qaxink7u95b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_M_E_0" d="M1042.672,196.055L1125.491,203.546C1208.31,211.037,1373.948,226.018,1456.767,237.676C1539.586,249.333,1539.586,257.667,1539.586,266C1539.586,274.333,1539.586,282.667,1539.586,295.5C1539.586,308.333,1539.586,325.667,1539.586,343C1539.586,360.333,1539.586,377.667,1539.586,390.5C1539.586,403.333,1539.586,411.667,1535.853,419.531C1532.12,427.395,1524.654,434.79,1520.921,438.488L1517.187,442.185"></path><path marker-end="url(#mermaid-qaxink7u95b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_M_F1_0" d="M886.672,205.026L857.491,211.022C828.31,217.017,769.948,229.009,657.531,239.171C545.115,249.333,378.643,257.667,295.408,266C212.172,274.333,212.172,282.667,205.374,290.672C198.576,298.678,184.979,306.355,178.181,310.194L171.383,314.033"></path><path marker-end="url(#mermaid-qaxink7u95b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_M_G1_0" d="M902.32,216L892.697,220.167C883.075,224.333,863.83,232.667,780.473,241C697.115,249.333,549.643,257.667,475.908,266C402.172,274.333,402.172,282.667,395.374,290.672C388.576,298.678,374.979,306.355,368.181,310.194L361.383,314.033"></path><path marker-end="url(#mermaid-qaxink7u95b_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_M_H1_0" d="M1007.204,216L1013.768,220.167C1020.331,224.333,1033.459,232.667,957.689,241C881.919,249.333,717.253,257.667,634.919,266C552.586,274.333,552.586,282.667,548.853,290.531C545.12,298.395,537.654,305.79,533.921,309.488L530.187,313.185"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignobject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignobject></g></g></g><g class="nodes"><g transform="translate(1142.0859375, 343)" id="flowchart-A-0" class="node default"><rect height="54" width="140" y="-27" x="-70" style="" class="basic label-container"></rect><g transform="translate(-40, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="80"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>表单元数据</p></span></div></foreignobject></g></g><g transform="translate(949.0859375, 472)" id="flowchart-B-1" class="node default"><rect height="54" width="140" y="-27" x="-70" style="" class="basic label-container"></rect><g transform="translate(-40, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="80"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>字段元数据</p></span></div></foreignobject></g></g><g transform="translate(1131.0859375, 472)" id="flowchart-C-3" class="node default"><rect height="54" width="124" y="-27" x="-62" style="" class="basic label-container"></rect><g transform="translate(-32, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="64"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>视图配置</p></span></div></foreignobject></g></g><g transform="translate(1305.0859375, 472)" id="flowchart-D-5" class="node default"><rect height="54" width="124" y="-27" x="-62" style="" class="basic label-container"></rect><g transform="translate(-32, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="64"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>业务规则</p></span></div></foreignobject></g></g><g transform="translate(1487.0859375, 472)" id="flowchart-E-7" class="node default"><rect height="54" width="140" y="-27" x="-70" style="" class="basic label-container"></rect><g transform="translate(-40, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="80"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>图表元数据</p></span></div></foreignobject></g></g><g transform="translate(107.171875, 189)" id="flowchart-F-8" class="node default"><rect height="54" width="128.34375" y="-27" x="-64.171875" style="" class="basic label-container"></rect><g transform="translate(-34.171875, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="68.34375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>租户1 DB</p></span></div></foreignobject></g></g><g transform="translate(120.0859375, 343)" id="flowchart-F1-9" class="node default"><rect height="54" width="140" y="-27" x="-70" style="" class="basic label-container"></rect><g transform="translate(-40, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="80"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>表单数据表</p></span></div></foreignobject></g></g><g transform="translate(291.34375, 189)" id="flowchart-G-10" class="node default"><rect height="54" width="128.34375" y="-27" x="-64.171875" style="" class="basic label-container"></rect><g transform="translate(-34.171875, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="68.34375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>租户2 DB</p></span></div></foreignobject></g></g><g transform="translate(310.0859375, 343)" id="flowchart-G1-11" class="node default"><rect height="54" width="140" y="-27" x="-70" style="" class="basic label-container"></rect><g transform="translate(-40, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="80"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>表单数据表</p></span></div></foreignobject></g></g><g transform="translate(476.421875, 189)" id="flowchart-H-12" class="node default"><rect height="54" width="131.96875" y="-27" x="-65.984375" style="" class="basic label-container"></rect><g transform="translate(-35.984375, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="71.96875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>租户N DB</p></span></div></foreignobject></g></g><g transform="translate(500.0859375, 343)" id="flowchart-H1-13" class="node default"><rect height="54" width="140" y="-27" x="-70" style="" class="basic label-container"></rect><g transform="translate(-40, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="80"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>表单数据表</p></span></div></foreignobject></g></g><g transform="translate(1162.671875, 189)" id="flowchart-I-14" class="node default"><rect height="54" width="140" y="-27" x="-70" style="" class="basic label-container"></rect><g transform="translate(-40, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="80"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>表单设计器</p></span></div></foreignobject></g></g><g transform="translate(758.671875, 189)" id="flowchart-J-16" class="node default"><rect height="54" width="156" y="-27" x="-78" style="" class="basic label-container"></rect><g transform="translate(-48, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="96"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>表单渲染引擎</p></span></div></foreignobject></g></g><g transform="translate(1023.171875, 60)" id="flowchart-K-24" class="node default"><rect height="54" width="156" y="-27" x="-78" style="" class="basic label-container"></rect><g transform="translate(-48, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="96"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>业务规则引擎</p></span></div></foreignobject></g></g><g transform="translate(1497.0859375, 189)" id="flowchart-L-28" class="node default"><rect height="54" width="140" y="-27" x="-70" style="" class="basic label-container"></rect><g transform="translate(-40, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="80"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>图表设计器</p></span></div></foreignobject></g></g><g transform="translate(964.671875, 189)" id="flowchart-M-30" class="node default"><rect height="54" width="156" y="-27" x="-78" style="" class="basic label-container"></rect><g transform="translate(-48, -12)" style="" class="label"><rect></rect><foreignobject height="24" width="96"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>图表渲染引擎</p></span></div></foreignobject></g></g></g></g></g></svg></div><div class="bg-input-dark absolute right-2 top-2 rounded-sm p-1 opacity-0 transition-opacity group-hover:opacity-100"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 256 256" class="light:text-gray-800 text-white dark:text-white"><path d="M216,48V96a8,8,0,0,1-16,0V67.31l-42.34,42.35a8,8,0,0,1-11.32-11.32L188.69,56H160a8,8,0,0,1,0-16h48A8,8,0,0,1,216,48ZM98.34,146.34,56,188.69V160a8,8,0,0,0-16,0v48a8,8,0,0,0,8,8H96a8,8,0,0,0,0-16H67.31l42.35-42.34a8,8,0,0,0-11.32-11.32ZM208,152a8,8,0,0,0-8,8v28.69l-42.34-42.35a8,8,0,0,0-11.32,11.32L188.69,200H160a8,8,0,0,0,0,16h48a8,8,0,0,0,8-8V160A8,8,0,0,0,208,152ZM67.31,56H96a8,8,0,0,0,0-16H48a8,8,0,0,0-8,8V96a8,8,0,0,0,16,0V67.31l42.34,42.35a8,8,0,0,0,11.32-11.32Z"></path></svg></div></div></pre>
<h2 class="group flex items-center">3. 数据库设计  </h2>
<h3 class="group flex items-center">3.1 主数据库表设计  </h3>
<h4 class="group flex items-center">3.1.1 表单元数据表 (form_metadata)</h4>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `form_metadata` (  
</span><span>  `metadata_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'元数据ID'</span><span>,  
</span><span>  `metadata_name` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'元数据名称'</span><span>,  
</span><span>  `metadata_desc` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">500</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'元数据描述'</span><span>,  
</span><span>  `status` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'状态(0草稿,1发布,2停用)'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  `create_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建者'</span><span>,  
</span><span>  `create_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建时间'</span><span>,  
</span><span>  `update_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新者'</span><span>,  
</span><span>  `update_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新时间'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`metadata_id`),  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">UNIQUE</span><span> KEY `uk_metadata_name_tenant` (`metadata_name`,`tenant_id`)  
</span><span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'表单元数据表'</span><span>;</span></code></pre></pre>
<h4 class="group flex items-center">3.1.2 表单字段元数据表 (form_field_metadata)</h4>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `form_field_metadata` (  
</span><span>  `field_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'字段ID'</span><span>,  
</span><span>  `metadata_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'元数据ID'</span><span>,  
</span><span>  `field_name` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">50</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'字段名称'</span><span>,  
</span><span>  `field_label` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'字段标签'</span><span>,  
</span><span>  `field_type` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'字段类型'</span><span>,  
</span><span>  `column_name` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">50</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'数据库列名'</span><span>,  
</span><span>  `column_type` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">50</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'数据库列类型'</span><span>,  
</span><span>  `is_required` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'是否必填(0否1是)'</span><span>,  
</span><span>  `is_pk` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'是否主键(0否1是)'</span><span>,  
</span><span>  `is_list` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'1'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'是否列表显示(0否1是)'</span><span>,  
</span><span>  `is_query` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'是否查询条件(0否1是)'</span><span>,  
</span><span>  `query_type` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'EQ'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'查询方式'</span><span>,  
</span><span>  `html_type` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">50</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'input'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'显示类型'</span><span>,  
</span><span>  `dict_type` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'字典类型'</span><span>,  
</span><span>  `sort_order` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">int</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'排序'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`field_id`),  
</span>  KEY `idx_metadata_id` (`metadata_id`)  
<span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'表单字段元数据表'</span><span>;</span></code></pre></pre>
<h4 class="group flex items-center">3.1.3 表单视图配置表 (form_view_config)</h4>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `form_view_config` (  
</span><span>  `view_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'视图ID'</span><span>,  
</span><span>  `metadata_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'元数据ID'</span><span>,  
</span><span>  `view_name` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'视图名称'</span><span>,  
</span><span>  `view_type` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'视图类型(form表单,list列表,detail详情)'</span><span>,  
</span><span>  `view_config` text </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'视图配置JSON'</span><span>,  
</span><span>  `is_default` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'是否默认视图(0否1是)'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  `create_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建者'</span><span>,  
</span><span>  `create_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建时间'</span><span>,  
</span><span>  `update_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新者'</span><span>,  
</span><span>  `update_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新时间'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`view_id`),  
</span>  KEY `idx_metadata_id` (`metadata_id`)  
<span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'表单视图配置表'</span><span>;</span></code></pre></pre>
<h4 class="group flex items-center">3.1.4 表单租户表映射 (form_tenant_table_mapping)</h4>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `form_tenant_table_mapping` (  
</span><span>  `mapping_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'映射ID'</span><span>,  
</span><span>  `metadata_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'元数据ID'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  `table_name` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户数据库中的表名'</span><span>,  
</span><span>  `is_created` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'表是否已创建(0否1是)'</span><span>,  
</span><span>  `create_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建时间'</span><span>,  
</span><span>  `update_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新时间'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`mapping_id`),  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">UNIQUE</span><span> KEY `uk_metadata_tenant` (`metadata_id`,`tenant_id`)  
</span><span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'表单租户表映射'</span><span>;</span></code></pre></pre>
<h4 class="group flex items-center">3.1.5 业务规则表 (form_rule)</h4>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `form_rule` (  
</span><span>  `rule_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'规则ID'</span><span>,  
</span><span>  `metadata_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'元数据ID'</span><span>,  
</span><span>  `rule_name` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'规则名称'</span><span>,  
</span><span>  `rule_type` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'规则类型(validation,calculation,visibility,dependency,workflow)'</span><span>,  
</span><span>  `rule_desc` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">500</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'规则描述'</span><span>,  
</span><span>  `is_active` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'1'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'是否启用(0否1是)'</span><span>,  
</span><span>  `execution_order` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">int</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'执行顺序'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  `create_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建者'</span><span>,  
</span><span>  `create_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建时间'</span><span>,  
</span><span>  `update_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新者'</span><span>,  
</span><span>  `update_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新时间'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`rule_id`),  
</span>  KEY `idx_metadata_id` (`metadata_id`)  
<span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'表单规则定义表'</span><span>;</span></code></pre></pre>
<h4 class="group flex items-center">3.1.6 规则条件表 (form_rule_condition)</h4>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `form_rule_condition` (  
</span><span>  `condition_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'条件ID'</span><span>,  
</span><span>  `rule_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'规则ID'</span><span>,  
</span><span>  `field_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'字段ID'</span><span>,  
</span><span>  `operator` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'操作符(eq,ne,gt,lt,ge,le,contains,startswith,endswith)'</span><span>,  
</span><span>  `</span><span style="color: rgb(51, 51, 51); font-weight: bold;">value</span><span>` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">500</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'比较值'</span><span>,  
</span><span>  `logic_type` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">10</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'AND'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'逻辑类型(AND,OR)'</span><span>,  
</span><span>  `group_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'条件组ID'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`condition_id`),  
</span>  KEY `idx_rule_id` (`rule_id`)  
<span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'表单规则条件表'</span><span>;</span></code></pre></pre>
<h4 class="group flex items-center">3.1.7 规则动作表 (form_rule_action)</h4>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `form_rule_action` (  
</span><span>  `action_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'动作ID'</span><span>,  
</span><span>  `rule_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'规则ID'</span><span>,  
</span><span>  `action_type` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'动作类型(setValue,setVisible,setRequired,setReadOnly,calculate,message,api)'</span><span>,  
</span><span>  `target_field_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'目标字段ID'</span><span>,  
</span><span>  `action_value` text COMMENT </span><span style="color: rgb(221, 17, 68);">'动作值'</span><span>,  
</span><span>  `action_script` text COMMENT </span><span style="color: rgb(221, 17, 68);">'动作脚本'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`action_id`),  
</span>  KEY `idx_rule_id` (`rule_id`)  
<span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'表单规则动作表'</span><span>;</span></code></pre></pre>
<h4 class="group flex items-center">3.1.8 图表元数据表 (chart_metadata)</h4>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `chart_metadata` (  
</span><span>  `chart_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'图表ID'</span><span>,  
</span><span>  `chart_name` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'图表名称'</span><span>,  
</span><span>  `chart_desc` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">500</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'图表描述'</span><span>,  
</span><span>  `chart_type` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'图表类型(bar柱状图,line折线图,pie饼图,radar雷达图等)'</span><span>,  
</span><span>  `metadata_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'关联的表单元数据ID'</span><span>,  
</span><span>  `status` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'状态(0草稿,1发布,2停用)'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  `create_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建者'</span><span>,  
</span><span>  `create_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建时间'</span><span>,  
</span><span>  `update_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新者'</span><span>,  
</span><span>  `update_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新时间'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`chart_id`),  
</span>  KEY `idx_metadata_id` (`metadata_id`),  
  KEY `idx_tenant_id` (`tenant_id`)  
<span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'图表元数据表'</span><span>;</span></code></pre></pre>
<h4 class="group flex items-center">3.1.9 图表配置表 (chart_config)</h4>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `chart_config` (  
</span><span>  `config_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'配置ID'</span><span>,  
</span><span>  `chart_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'图表ID'</span><span>,  
</span><span>  `dimension_fields` text COMMENT </span><span style="color: rgb(221, 17, 68);">'维度字段JSON'</span><span>,  
</span><span>  `measure_fields` text COMMENT </span><span style="color: rgb(221, 17, 68);">'度量字段JSON'</span><span>,  
</span><span>  `filter_condition` text COMMENT </span><span style="color: rgb(221, 17, 68);">'过滤条件JSON'</span><span>,  
</span><span>  `sort_config` text COMMENT </span><span style="color: rgb(221, 17, 68);">'排序配置JSON'</span><span>,  
</span><span>  `style_config` text COMMENT </span><span style="color: rgb(221, 17, 68);">'样式配置JSON'</span><span>,  
</span><span>  `data_limit` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">int</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'1000'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'数据限制条数'</span><span>,  
</span><span>  `refresh_interval` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">int</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'刷新间隔(秒)'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`config_id`),  
</span>  KEY `idx_chart_id` (`chart_id`)  
<span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'图表配置表'</span><span>;</span></code></pre></pre>
<h4 class="group flex items-center">3.1.10 租户数据库配置表 (tenant_database)</h4>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `tenant_database` (  
</span><span>  `id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'主键ID'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  `db_name` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'数据库名称'</span><span>,  
</span><span>  `db_host` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'数据库主机'</span><span>,  
</span><span>  `db_port` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">int</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'数据库端口'</span><span>,  
</span><span>  `db_username` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'数据库用户名'</span><span>,  
</span><span>  `db_password` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">255</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'数据库密码(加密)'</span><span>,  
</span><span>  `status` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'1'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'状态(0停用,1启用)'</span><span>,  
</span><span>  `create_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建者'</span><span>,  
</span><span>  `create_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建时间'</span><span>,  
</span><span>  `update_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新者'</span><span>,  
</span><span>  `update_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新时间'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`id`),  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">UNIQUE</span><span> KEY `uk_tenant_id` (`tenant_id`)  
</span><span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'租户数据库配置表'</span><span>;</span></code></pre></pre>
<h3 class="group flex items-center">3.2 租户数据库表设计  </h3>
<p>在每个租户的独立数据库中，系统会根据表单元数据动态创建数据表。表名格式为：<code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">form_data_{metadata_id_without_hyphens}</code>。</p>
<p>例如，对于ID为"a1b2c3d4-e5f6"的表单元数据，在租户数据库中会创建名为<code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">form_data_a1b2c3d4e5f6</code>的表。</p>
<h2 class="group flex items-center">4. 核心功能模块  </h2>
<h3 class="group flex items-center">4.1 表单元数据管理模块  </h3>
<h4 class="group flex items-center">4.1.1 功能概述</h4>
<p>表单元数据管理模块负责管理表单的定义和结构，包括表单基本信息、字段定义和视图配置等。该模块采用表格管理模式，支持从数据库中提取元数据，简化表单创建过程。</p>
<h4 class="group flex items-center">4.1.2 主要功能</h4></div><div class="flex items-center gap-1 text-neutral-300"><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M234,80.12A24,24,0,0,0,216,72H160V56a40,40,0,0,0-40-40,8,8,0,0,0-7.16,4.42L75.06,96H32a16,16,0,0,0-16,16v88a16,16,0,0,0,16,16H204a24,24,0,0,0,23.82-21l12-96A24,24,0,0,0,234,80.12ZM32,112H72v88H32ZM223.94,97l-12,96a8,8,0,0,1-7.94,7H88V105.89l36.71-73.43A24,24,0,0,1,144,56V80a8,8,0,0,0,8,8h64a8,8,0,0,1,7.94,9Z"></path></svg></button><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M239.82,157l-12-96A24,24,0,0,0,204,40H32A16,16,0,0,0,16,56v88a16,16,0,0,0,16,16H75.06l37.78,75.58A8,8,0,0,0,120,240a40,40,0,0,0,40-40V184h56a24,24,0,0,0,23.82-27ZM72,144H32V56H72Zm150,21.29a7.88,7.88,0,0,1-6,2.71H152a8,8,0,0,0-8,8v24a24,24,0,0,1-19.29,23.54L88,150.11V56H204a8,8,0,0,1,7.94,7l12,96A7.87,7.87,0,0,1,222,165.29Z"></path></svg></button></div></div></div></div></div><div class="min-w-0 flex-1 scroll-smooth xl:[flex-grow:3]" style="scrollbar-width: thin; scrollbar-color: rgb(90, 90, 90) transparent; min-height: unset;"><div class="sticky left-0 top-0 overflow-y-auto rounded-md" style="max-height: calc(-55px + 100vh);"><div class="flex flex-col gap-2 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-3 dark:border-[#2f2f2f] dark:bg-[#141414]"><div data-state="closed"><button type="button" aria-controls="radix-«r24»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned multi_tenant.sql</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r24»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r25»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned data.vue</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r25»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r26»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned js.js</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r26»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r27»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned SysUserMapper.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r27»" hidden="" style=""></div></div></div></div></div></div><div class="mb-8 mt-16 h-px w-full bg-neutral-300 dark:bg-neutral-700"></div><div id="17" class="flex flex-col gap-3 pt-8 lg:flex-row" data-query-display="true" data-query-index="16"><div class="flex max-h-fit min-w-0 flex-1 flex-shrink-0 flex-col xl:[flex-grow:2]"><div class=""><div class="flex flex-col"><a class="flex items-center gap-2 text-base text-neutral-400 transition-colors hover:text-black dark:hover:text-white" href="https://deepwiki.com/1211454975/crowdmarket"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"></path></svg>return to 1211454975/crowdmarket</a><div class="flex flex-col items-start gap-2 text-white"><div class="group relative flex items-center"><span class="text-xl xl:text-2xl">请继续<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to query"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></span></div></div></div><div class="py-3"><div class="text-primary/70 flex flex-col items-start justify-between text-sm"><div class="mb-1"><div class="inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" viewBox="0 0 256 256" class="mr-1"><path d="M213.85,125.46l-112,120a8,8,0,0,1-13.69-7l14.66-73.33L45.19,143.49a8,8,0,0,1-3-13l112-120a8,8,0,0,1,13.69,7L153.18,90.9l57.63,21.61a8,8,0,0,1,3,12.95Z"></path></svg>Fast</div></div><div class="flex w-full items-center justify-between gap-2"><div class="">Searched across 1211454975/crowdmarket</div></div></div></div><div class="h-fit rounded-lg" style="scrollbar-width: thin; scrollbar-color: rgb(58, 58, 58) transparent;"><div class="dark:[&amp;_pre:has(code)]:bg-shade dark:[&amp;_code[data-lang]]:bg-shade relative flex flex-col gap-1 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-4 text-white [overflow-wrap:anywhere] dark:border-[#2F2F2F] dark:bg-[#141414] [&amp;_pre]:my-3"><div class="prose-custom prose-custom-md prose-custom-gray !max-w-none text-neutral-300 [overflow-wrap:anywhere]"><p>I'll continue with the design document for the metadata-driven form management system in the CrowdMarket framework.</p>
<h1 class="group flex items-center">元数据驱动的表单管理系统设计文档（续）  </h1>
<h2 class="group flex items-center">4. 核心功能模块（续）  </h2>
<h3 class="group flex items-center">4.1 表单元数据管理模块（续）  </h3>
<h4 class="group flex items-center">4.1.2 主要功能</h4>
<ol>
<li><strong>元数据定义管理</strong>：允许用户定义表单的基本信息和字段结构
<ul>
<li>表单基本信息管理：名称、描述、状态等</li>
<li>字段元数据管理：字段名称、类型、验证规则等</li>
<li>数据库映射管理：字段与数据库列的映射关系</li>
</ul>
</li>
<li><strong>从数据库提取元数据</strong>：支持从现有数据库表中导入元数据
<ul>
<li>数据库表浏览：查看可用的数据库表</li>
<li>表结构解析：自动解析表结构，生成字段元数据</li>
<li>元数据调整：导入后可进行调整和优化</li>
</ul>
</li>
<li><strong>视图配置管理</strong>：基于元数据定义配置不同的表单视图
<ul>
<li>表单视图：配置表单的布局、样式、验证规则等</li>
<li>列表视图：配置列表的显示字段、排序、过滤条件等</li>
<li>详情视图：配置详情页的显示字段、布局等</li>
</ul>
</li>
<li><strong>元数据预览</strong>：预览基于元数据生成的表单、列表和详情页</li>
</ol>
<h3 class="group flex items-center">4.2 表单数据管理模块  </h3>
<h4 class="group flex items-center">4.2.1 功能概述</h4>
<p>表单数据管理模块负责处理表单数据的增删改查操作，将数据存储在租户特定的数据库中。该模块基于元数据定义和视图配置，提供统一的数据管理界面。</p>
<h4 class="group flex items-center">4.2.2 主要功能</h4>
<ol>
<li><strong>数据表生成</strong>：根据表单元数据在租户数据库中生成物理表
<ul>
<li>表结构生成：根据字段元数据生成表结构</li>
<li>字段映射：将表单字段映射到数据库列</li>
<li>表关系维护：维护表单元数据与物理表的映射关系</li>
</ul>
</li>
<li><strong>数据操作</strong>：提供表单数据的增删改查功能
<ul>
<li>数据添加：通过表单添加数据</li>
<li>数据编辑：修改现有数据</li>
<li>数据删除：删除数据</li>
<li>数据查询：根据条件查询数据</li>
</ul>
</li>
<li><strong>数据导入导出</strong>：支持数据的批量导入和导出
<ul>
<li>Excel导入：从Excel文件导入数据</li>
<li>Excel导出：将数据导出为Excel文件</li>
<li>数据模板：生成数据导入模板</li>
</ul>
</li>
<li><strong>数据权限控制</strong>：基于角色的数据访问控制
<ul>
<li>数据行权限：控制用户可访问的数据行</li>
<li>数据列权限：控制用户可访问的数据列</li>
<li>操作权限：控制用户可执行的操作（增、删、改、查）</li>
</ul>
</li>
</ol>
<h3 class="group flex items-center">4.3 业务规则管理模块  </h3>
<h4 class="group flex items-center">4.3.1 功能概述</h4>
<p>业务规则管理模块允许用户定义和管理表单的业务逻辑，无需编写代码。业务规则在表单数据的生命周期中执行，确保数据符合业务需求。</p>
<h4 class="group flex items-center">4.3.2 主要功能</h4>
<ol>
<li><strong>规则定义</strong>：定义不同类型的业务规则
<ul>
<li>验证规则：字段级和表单级的数据验证</li>
<li>计算规则：基于其他字段值的自动计算</li>
<li>可见性规则：控制字段的显示和隐藏</li>
<li>依赖规则：字段值变化影响其他字段</li>
<li>工作流规则：触发数据变更后的操作</li>
</ul>
</li>
<li><strong>条件配置</strong>：配置规则的触发条件
<ul>
<li>简单条件：单一字段的条件判断</li>
<li>复合条件：多个条件的逻辑组合（AND/OR）</li>
<li>条件组：条件的分组管理</li>
</ul>
</li>
<li><strong>动作配置</strong>：配置规则触发后的动作
<ul>
<li>设置值：设置字段的值</li>
<li>设置可见性：控制字段的显示和隐藏</li>
<li>设置必填：控制字段是否必填</li>
<li>设置只读：控制字段是否只读</li>
<li>消息提示：显示提示信息</li>
<li>调用API：触发外部API调用</li>
</ul>
</li>
<li><strong>规则执行</strong>：在表单生命周期中执行规则
<ul>
<li>加载时执行：表单加载时执行规则</li>
<li>值变化时执行：字段值变化时执行规则</li>
<li>提交前执行：表单提交前执行规则</li>
<li>提交后执行：表单提交后执行规则</li>
</ul>
</li>
</ol>
<h3 class="group flex items-center">4.4 图表管理模块  </h3>
<h4 class="group flex items-center">4.4.1 功能概述</h4>
<p>图表管理模块基于表单元数据和数据，提供零代码的图表设计和展示功能。用户可以通过简单的配置创建各种类型的图表，实现数据可视化。</p>
<h4 class="group flex items-center">4.4.2 主要功能</h4>
<ol>
<li><strong>图表设计</strong>：设计不同类型的图表
<ul>
<li>图表类型选择：柱状图、折线图、饼图、雷达图等</li>
<li>数据源选择：选择表单元数据作为数据源</li>
<li>维度配置：选择图表的维度字段</li>
<li>度量配置：选择图表的度量字段和聚合方式</li>
</ul>
</li>
<li><strong>数据过滤和排序</strong>：配置图表数据的过滤和排序规则
<ul>
<li>过滤条件：设置数据筛选条件</li>
<li>排序规则：设置数据排序规则</li>
<li>数据限制：限制显示的数据量</li>
</ul>
</li>
<li><strong>样式配置</strong>：配置图表的显示样式
<ul>
<li>颜色配置：设置图表颜色</li>
<li>标题配置：设置图表标题和副标题</li>
<li>图例配置：设置图表图例</li>
<li>坐标轴配置：设置坐标轴标签和刻度</li>
</ul>
</li>
<li><strong>图表展示和交互</strong>：展示图表并支持交互操作
<ul>
<li>图表渲染：根据配置渲染图表</li>
<li>数据钻取：支持点击图表元素进行数据钻取</li>
<li>图表导出：导出图表为图片或PDF</li>
<li>图表嵌入：将图表嵌入到其他页面</li>
</ul>
</li>
</ol>
<h2 class="group flex items-center">5. 技术实现  </h2>
<h3 class="group flex items-center">5.1 后端实现  </h3>
<h4 class="group flex items-center">5.1.1 表单元数据服务</h4>
<p>表单元数据服务负责管理表单的元数据定义，包括表单基本信息、字段定义和视图配置等。主要包括以下组件：</p>
<ol>
<li><strong>FormMetadataService</strong>：管理表单元数据</li>
<li><strong>FormFieldMetadataService</strong>：管理字段元数据</li>
<li><strong>FormViewConfigService</strong>：管理视图配置</li>
<li><strong>DatabaseMetadataService</strong>：从数据库提取元数据</li>
</ol>
<h4 class="group flex items-center">5.1.2 表单数据服务</h4>
<p>表单数据服务负责处理表单数据的增删改查操作，将数据存储在租户特定的数据库中。主要包括以下组件：</p>
<ol>
<li><strong>TableGenerationService</strong>：生成租户数据表</li>
<li><strong>FormDataService</strong>：处理表单数据操作</li>
<li><strong>FormQueryService</strong>：处理表单数据查询</li>
<li><strong>FormImportExportService</strong>：处理数据导入导出</li>
</ol>
<h4 class="group flex items-center">5.1.3 业务规则服务</h4>
<p>业务规则服务负责管理和执行表单的业务规则。主要包括以下组件：</p>
<ol>
<li><strong>FormRuleService</strong>：管理业务规则定义</li>
<li><strong>RuleConditionService</strong>：管理规则条件</li>
<li><strong>RuleActionService</strong>：管理规则动作</li>
<li><strong>RuleExecutionEngine</strong>：执行业务规则</li>
</ol>
<h4 class="group flex items-center">5.1.4 图表服务</h4>
<p>图表服务负责管理图表的定义和数据查询。主要包括以下组件：</p>
<ol>
<li><strong>ChartMetadataService</strong>：管理图表元数据</li>
<li><strong>ChartConfigService</strong>：管理图表配置</li>
<li><strong>ChartDataService</strong>：处理图表数据查询</li>
<li><strong>ChartExportService</strong>：处理图表导出</li>
</ol>
<h4 class="group flex items-center">5.1.5 租户数据库服务</h4>
<p>租户数据库服务负责管理租户特定的数据库连接。主要包括以下组件：</p>
<ol>
<li><strong>TenantDatabaseService</strong>：管理租户数据库配置</li>
<li><strong>DynamicDataSourceService</strong>：动态管理数据源</li>
<li><strong>TenantDatabaseInterceptor</strong>：处理租户数据库请求拦截</li>
</ol>
<h3 class="group flex items-center">5.2 前端实现  </h3>
<h4 class="group flex items-center">5.2.1 表单元数据管理界面</h4>
<p>表单元数据管理界面提供用户友好的界面，用于管理表单元数据。主要包括以下组件：</p>
<ol>
<li><strong>MetadataListComponent</strong>：显示表单元数据列表</li>
<li><strong>MetadataEditorComponent</strong>：编辑表单元数据</li>
<li><strong>FieldMetadataComponent</strong>：管理字段元数据</li>
<li><strong>ViewConfigComponent</strong>：配置表单视图</li>
<li><strong>DatabaseImportComponent</strong>：从数据库导入元数据</li>
</ol>
<h4 class="group flex items-center">5.2.2 表单数据管理界面</h4>
<p>表单数据管理界面提供统一的界面，用于管理表单数据。主要包括以下组件：</p>
<ol>
<li><strong>FormComponent</strong>：表单数据录入和编辑</li>
<li><strong>ListComponent</strong>：表单数据列表</li>
<li><strong>DetailComponent</strong>：表单数据详情</li>
<li><strong>ImportExportComponent</strong>：数据导入导出</li>
</ol>
<h4 class="group flex items-center">5.2.3 业务规则管理界面</h4>
<p>业务规则管理界面提供直观的界面，用于定义和管理业务规则。主要包括以下组件：</p>
<ol>
<li><strong>RuleListComponent</strong>：显示业务规则列表</li>
<li><strong>RuleEditorComponent</strong>：编辑业务规则</li>
<li><strong>ConditionEditorComponent</strong>：编辑规则条件</li>
<li><strong>ActionEditorComponent</strong>：编辑规则动作</li>
</ol>
<h4 class="group flex items-center">5.2.4 图表管理界面</h4>
<p>图表管理界面提供简单的界面，用于设计和管理图表。主要包括以下组件：</p>
<ol>
<li><strong>ChartListComponent</strong>：显示图表列表</li>
<li><strong>ChartDesignerComponent</strong>：设计图表</li>
<li><strong>ChartPreviewComponent</strong>：预览图表</li>
<li><strong>ChartExportComponent</strong>：导出图表</li>
</ol>
<h2 class="group flex items-center">6. 系统集成  </h2>
<h3 class="group flex items-center">6.1 与CrowdMarket系统的集成  </h3>
<h4 class="group flex items-center">6.1.1 菜单集成</h4>
<p>将表单管理模块的菜单项集成到CrowdMarket系统的菜单体系中：</p>
<ol>
<li><strong>表单设计</strong>：表单元数据管理</li>
<li><strong>表单数据</strong>：表单数据管理</li>
<li><strong>业务规则</strong>：业务规则管理</li>
<li><strong>图表管理</strong>：图表设计和管理</li>
</ol>
<h4 class="group flex items-center">6.1.2 权限集成</h4>
<p>将表单管理模块的权限集成到CrowdMarket系统的权限体系中：</p>
<ol>
<li><strong>表单设计权限</strong>：控制表单元数据的访问和操作权限</li>
<li><strong>表单数据权限</strong>：控制表单数据的访问和操作权限</li>
<li><strong>业务规则权限</strong>：控制业务规则的访问和操作权限</li>
<li><strong>图表权限</strong>：控制图表的访问和操作权限</li>
</ol>
<h4 class="group flex items-center">6.1.3 用户认证集成</h4>
<p>利用CrowdMarket系统的用户认证机制，确保只有授权用户才能访问表单管理模块：</p>
<ol>
<li><strong>用户认证</strong>：使用系统的用户认证机制</li>
<li><strong>租户隔离</strong>：确保用户只能访问自己租户的数据</li>
<li><strong>角色授权</strong>：基于用户角色控制功能访问</li>
</ol>
<h3 class="group flex items-center">6.2 与其他系统的集成  </h3>
<h4 class="group flex items-center">6.2.1 数据集成</h4>
<p>支持与其他系统进行数据集成：</p>
<ol>
<li><strong>API接口</strong>：提供RESTful API接口，供其他系统调用</li>
<li><strong>数据导入导出</strong>：支持数据的批量导入和导出</li>
<li><strong>数据同步</strong>：支持与其他系统的数据同步</li>
</ol>
<h4 class="group flex items-center">6.2.2 功能集成</h4>
<p>支持将表单和图表嵌入到其他系统中：</p>
<ol>
<li><strong>表单嵌入</strong>：将表单嵌入到其他系统的页面中</li>
<li><strong>图表嵌入</strong>：将图表嵌入到其他系统的页面中</li>
<li><strong>单点登录</strong>：支持与其他系统的单点登录集成</li>
</ol>
<h2 class="group flex items-center">7. 部署和配置  </h2>
<h3 class="group flex items-center">7.1 系统部署  </h3>
<p>表单管理模块作为CrowdMarket系统的一个组件进行部署：</p>
<ol>
<li><strong>后端部署</strong>：部署后端服务</li>
<li><strong>前端部署</strong>：部署前端界面</li>
<li><strong>数据库部署</strong>：部署主数据库和租户数据库</li>
</ol>
<h3 class="group flex items-center">7.2 系统配置  </h3>
<p>系统提供以下配置项：</p>
<ol>
<li><strong>数据库配置</strong>：配置主数据库和租户数据库连接信息</li>
<li><strong>文件存储配置</strong>：配置文件存储路径</li>
<li><strong>缓存配置</strong>：配置缓存参数</li>
<li><strong>安全配置</strong>：配置安全参数</li>
</ol>
<h2 class="group flex items-center">8. 系统扩展性  </h2>
<h3 class="group flex items-center">8.1 功能扩展  </h3>
<p>系统设计考虑了功能扩展的需求：</p>
<ol>
<li><strong>组件扩展</strong>：支持添加新的表单组件</li>
<li><strong>规则扩展</strong>：支持添加新的业务规则类型</li>
<li><strong>图表扩展</strong>：支持添加新的图表类</li>
</ol>
<p>Wiki pages you might want to explore:</p>
<ul>
<li><a href="https://deepwiki.com/1211454975/crowdmarket/1-crowdmarket-system-overview">CrowdMarket System Overview (1211454975/crowdmarket)</a></li>
</ul></div><div class="flex items-center gap-1 text-neutral-300"><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M234,80.12A24,24,0,0,0,216,72H160V56a40,40,0,0,0-40-40,8,8,0,0,0-7.16,4.42L75.06,96H32a16,16,0,0,0-16,16v88a16,16,0,0,0,16,16H204a24,24,0,0,0,23.82-21l12-96A24,24,0,0,0,234,80.12ZM32,112H72v88H32ZM223.94,97l-12,96a8,8,0,0,1-7.94,7H88V105.89l36.71-73.43A24,24,0,0,1,144,56V80a8,8,0,0,0,8,8h64a8,8,0,0,1,7.94,9Z"></path></svg></button><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M239.82,157l-12-96A24,24,0,0,0,204,40H32A16,16,0,0,0,16,56v88a16,16,0,0,0,16,16H75.06l37.78,75.58A8,8,0,0,0,120,240a40,40,0,0,0,40-40V184h56a24,24,0,0,0,23.82-27ZM72,144H32V56H72Zm150,21.29a7.88,7.88,0,0,1-6,2.71H152a8,8,0,0,0-8,8v24a24,24,0,0,1-19.29,23.54L88,150.11V56H204a8,8,0,0,1,7.94,7l12,96A7.87,7.87,0,0,1,222,165.29Z"></path></svg></button></div></div></div></div></div><div class="min-w-0 flex-1 scroll-smooth xl:[flex-grow:3]" style="scrollbar-width: thin; scrollbar-color: rgb(90, 90, 90) transparent; min-height: unset;"><div class="sticky left-0 top-0 overflow-y-auto rounded-md" style="max-height: calc(-55px + 100vh);"><div class="flex flex-col gap-2 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-3 dark:border-[#2f2f2f] dark:bg-[#141414]"><div data-state="closed"><button type="button" aria-controls="radix-«r28»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned multi_tenant.sql</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r28»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r29»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned SysRoleDeptMapper.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r29»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r2a»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned pom.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r2a»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r2b»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned SysDictDataMapper.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r2b»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r2c»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned GenTableColumnMapper.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r2c»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r2d»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned pom.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r2d»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r2e»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned SysNoticeMapper.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r2e»" hidden="" style=""></div></div></div></div></div></div><div class="mb-8 mt-16 h-px w-full bg-neutral-300 dark:bg-neutral-700"></div><div id="18" class="flex flex-col gap-3 pt-8 lg:flex-row" data-query-display="true" data-query-index="17"><div class="flex max-h-fit min-w-0 flex-1 flex-shrink-0 flex-col xl:[flex-grow:2]"><div class=""><div class="flex flex-col"><a class="flex items-center gap-2 text-base text-neutral-400 transition-colors hover:text-black dark:hover:text-white" href="https://deepwiki.com/1211454975/crowdmarket"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"></path></svg>return to 1211454975/crowdmarket</a><div class="flex flex-col items-start gap-2 text-white"><div class="group relative flex items-center"><span class="text-xl xl:text-2xl">请继续<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to query"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></span></div></div></div><div class="py-3"><div class="text-primary/70 flex flex-col items-start justify-between text-sm"><div class="mb-1"><div class="inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" viewBox="0 0 256 256" class="mr-1"><path d="M213.85,125.46l-112,120a8,8,0,0,1-13.69-7l14.66-73.33L45.19,143.49a8,8,0,0,1-3-13l112-120a8,8,0,0,1,13.69,7L153.18,90.9l57.63,21.61a8,8,0,0,1,3,12.95Z"></path></svg>Fast</div></div><div class="flex w-full items-center justify-between gap-2"><div class="">Searched across 1211454975/crowdmarket</div></div></div></div><div class="h-fit rounded-lg" style="scrollbar-width: thin; scrollbar-color: rgb(58, 58, 58) transparent;"><div class="dark:[&amp;_pre:has(code)]:bg-shade dark:[&amp;_code[data-lang]]:bg-shade relative flex flex-col gap-1 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-4 text-white [overflow-wrap:anywhere] dark:border-[#2F2F2F] dark:bg-[#141414] [&amp;_pre]:my-3"><div class="prose-custom prose-custom-md prose-custom-gray !max-w-none text-neutral-300 [overflow-wrap:anywhere]"><p>I'll continue with the design document for the metadata-driven form management system in the CrowdMarket framework.</p>
<h1 class="group flex items-center">元数据驱动的表单管理系统设计文档（续）  </h1>
<h2 class="group flex items-center">8. 系统扩展性（续）  </h2>
<h3 class="group flex items-center">8.2 数据模型扩展  </h3>
<p>系统支持数据模型的扩展和演化：</p>
<ol>
<li><strong>字段类型扩展</strong>：支持添加新的字段类型</li>
<li><strong>数据关系扩展</strong>：支持定义表单之间的关系</li>
<li><strong>数据验证扩展</strong>：支持添加新的数据验证规则</li>
</ol>
<h3 class="group flex items-center">8.3 API扩展  </h3>
<p>系统提供完整的API接口，支持第三方系统集成：</p>
<ol>
<li><strong>REST API</strong>：提供标准的REST API接口</li>
<li><strong>WebHook</strong>：支持事件触发的WebHook</li>
<li><strong>自定义API</strong>：支持自定义API接口</li>
</ol>
<h2 class="group flex items-center">9. 多租户数据库管理  </h2>
<h3 class="group flex items-center">9.1 租户数据库架构  </h3>
<p>每个租户拥有独立的业务数据库，实现数据的物理隔离：</p>
<ol>
<li><strong>主数据库</strong>：存储系统级配置和元数据</li>
<li><strong>租户数据库</strong>：存储租户特定的业务数据</li>
<li><strong>数据库映射</strong>：维护元数据与租户数据库表的映射关系</li>
</ol>
<h3 class="group flex items-center">9.2 租户数据库管理功能  </h3>
<p>系统提供完整的租户数据库管理功能：</p>
<ol>
<li><strong>数据库创建</strong>：自动为新租户创建数据库</li>
<li><strong>数据库配置</strong>：管理租户数据库的连接信息</li>
<li><strong>数据库监控</strong>：监控租户数据库的状态和性能</li>
<li><strong>数据库备份</strong>：定期备份租户数据库</li>
</ol>
<h3 class="group flex items-center">9.3 动态数据源管理  </h3>
<p>系统支持动态切换数据源，实现多租户数据访问：</p>
<ol>
<li><strong>数据源路由</strong>：根据当前租户ID路由到对应的数据源</li>
<li><strong>数据源缓存</strong>：缓存数据源连接，提高性能</li>
<li><strong>数据源监控</strong>：监控数据源的使用情况</li>
</ol>
<h2 class="group flex items-center">10. 性能和安全考虑  </h2>
<h3 class="group flex items-center">10.1 性能优化  </h3>
<p>系统在设计上考虑了性能优化：</p>
<ol>
<li><strong>数据库优化</strong>：优化数据库表结构和索引</li>
<li><strong>查询优化</strong>：优化SQL查询，减少数据库负载</li>
<li><strong>缓存策略</strong>：使用多级缓存，减少数据库访问</li>
<li><strong>异步处理</strong>：使用异步处理大量数据操作</li>
</ol>
<h3 class="group flex items-center">10.2 安全措施  </h3>
<p>系统实现了多层次的安全保障：</p>
<ol>
<li><strong>数据隔离</strong>：租户数据物理隔离，确保数据安全</li>
<li><strong>访问控制</strong>：基于角色的访问控制，精细化权限管理</li>
<li><strong>数据加密</strong>：敏感数据加密存储</li>
<li><strong>操作审计</strong>：记录用户操作，支持安全审计</li>
</ol>
<h2 class="group flex items-center">11. 用户体验设计  </h2>
<h3 class="group flex items-center">11.1 界面设计原则  </h3>
<p>系统界面设计遵循以下原则：</p>
<ol>
<li><strong>简洁直观</strong>：界面简洁清晰，操作直观</li>
<li><strong>一致性</strong>：保持界面风格和操作方式的一致性</li>
<li><strong>响应式</strong>：支持不同设备和屏幕尺寸</li>
<li><strong>可定制</strong>：支持界面主题和布局定制</li>
</ol>
<h3 class="group flex items-center">11.2 操作流程优化  </h3>
<p>系统优化了主要操作流程：</p>
<ol>
<li><strong>表单设计流程</strong>：简化表单设计步骤，提高效率</li>
<li><strong>数据管理流程</strong>：优化数据录入和查询流程</li>
<li><strong>规则配置流程</strong>：简化规则配置，降低学习成本</li>
<li><strong>图表设计流程</strong>：简化图表设计，快速实现数据可视化</li>
</ol>
<h2 class="group flex items-center">12. 系统监控和运维  </h2>
<h3 class="group flex items-center">12.1 监控功能  </h3>
<p>系统提供全面的监控功能：</p>
<ol>
<li><strong>性能监控</strong>：监控系统性能指标</li>
<li><strong>异常监控</strong>：监控系统异常和错误</li>
<li><strong>用户行为监控</strong>：监控用户操作和访问情况</li>
<li><strong>数据库监控</strong>：监控数据库性能和状态</li>
</ol>
<h3 class="group flex items-center">12.2 运维功能  </h3>
<p>系统提供便捷的运维功能：</p>
<ol>
<li><strong>配置管理</strong>：集中管理系统配置</li>
<li><strong>日志管理</strong>：集中管理系统日志</li>
<li><strong>备份恢复</strong>：支持数据备份和恢复</li>
<li><strong>版本升级</strong>：支持系统平滑升级</li>
</ol>
<h2 class="group flex items-center">13. 实施和推广策略  </h2>
<h3 class="group flex items-center">13.1 实施步骤  </h3>
<p>系统实施分为以下步骤：</p>
<ol>
<li><strong>需求分析</strong>：分析用户需求和业务场景</li>
<li><strong>系统设计</strong>：设计系统架构和功能模块</li>
<li><strong>系统开发</strong>：开发系统功能和界面</li>
<li><strong>系统测试</strong>：测试系统功能和性能</li>
<li><strong>系统部署</strong>：部署系统到生产环境</li>
<li><strong>用户培训</strong>：培训用户使用系统</li>
<li><strong>系统上线</strong>：系统正式上线使用</li>
</ol>
<h3 class="group flex items-center">13.2 推广策略  </h3>
<p>系统推广采用以下策略：</p>
<ol>
<li><strong>示范应用</strong>：选择典型业务场景进行示范应用</li>
<li><strong>用户培训</strong>：提供全面的用户培训和文档</li>
<li><strong>技术支持</strong>：提供及时的技术支持和问题解决</li>
<li><strong>持续优化</strong>：根据用户反馈持续优化系统</li>
</ol>
<h2 class="group flex items-center">14. 总结与展望  </h2>
<h3 class="group flex items-center">14.1 系统价值  </h3>
<p>元数据驱动的表单管理系统为企业带来以下价值：</p>
<ol>
<li><strong>提高效率</strong>：零代码开发，快速构建业务应用</li>
<li><strong>降低成本</strong>：减少开发和维护成本</li>
<li><strong>增强灵活性</strong>：快速响应业务变化</li>
<li><strong>提升体验</strong>：提供统一、一致的用户体验</li>
</ol>
<h3 class="group flex items-center">14.2 未来展望  </h3>
<p>系统未来将向以下方向发展：</p>
<ol>
<li><strong>智能化</strong>：引入AI技术，提供智能推荐和辅助设计</li>
<li><strong>移动化</strong>：增强移动端支持，提供全面的移动应用体验</li>
<li><strong>集成化</strong>：增强与其他系统的集成能力</li>
<li><strong>生态化</strong>：构建开放的应用生态，支持第三方扩展</li>
</ol>
<h2 class="group flex items-center">附录  </h2>
<h3 class="group flex items-center">附录A：术语表  </h3>





























<table><thead><tr><th>术语</th><th>定义</th></tr></thead><tbody><tr><td>元数据</td><td>描述数据的数据，本系统中指表单的结构定义</td></tr><tr><td>表单元数据</td><td>描述表单结构的数据，包括字段、验证规则等</td></tr><tr><td>业务规则</td><td>定义业务逻辑的规则，控制表单的行为</td></tr><tr><td>租户</td><td>系统的独立用户组织，拥有独立的数据和配置</td></tr><tr><td>多租户</td><td>一个系统实例服务多个租户的架构模式</td></tr></tbody></table>
<h3 class="group flex items-center">附录B：参考资料  </h3>
<ol>
<li>CrowdMarket系统架构文档</li>
<li>元数据驱动开发最佳实践</li>
<li>多租户系统设计模式</li>
<li>零代码开发平台设计指南</li>
</ol>
<p>Wiki pages you might want to explore:</p>
<ul>
<li><a href="https://deepwiki.com/1211454975/crowdmarket/2.2-code-generation-data-access-layer">Code Generation Data Access Layer (1211454975/crowdmarket)</a></li>
</ul></div><div class="flex items-center gap-1 text-neutral-300"><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M234,80.12A24,24,0,0,0,216,72H160V56a40,40,0,0,0-40-40,8,8,0,0,0-7.16,4.42L75.06,96H32a16,16,0,0,0-16,16v88a16,16,0,0,0,16,16H204a24,24,0,0,0,23.82-21l12-96A24,24,0,0,0,234,80.12ZM32,112H72v88H32ZM223.94,97l-12,96a8,8,0,0,1-7.94,7H88V105.89l36.71-73.43A24,24,0,0,1,144,56V80a8,8,0,0,0,8,8h64a8,8,0,0,1,7.94,9Z"></path></svg></button><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M239.82,157l-12-96A24,24,0,0,0,204,40H32A16,16,0,0,0,16,56v88a16,16,0,0,0,16,16H75.06l37.78,75.58A8,8,0,0,0,120,240a40,40,0,0,0,40-40V184h56a24,24,0,0,0,23.82-27ZM72,144H32V56H72Zm150,21.29a7.88,7.88,0,0,1-6,2.71H152a8,8,0,0,0-8,8v24a24,24,0,0,1-19.29,23.54L88,150.11V56H204a8,8,0,0,1,7.94,7l12,96A7.87,7.87,0,0,1,222,165.29Z"></path></svg></button></div></div></div></div></div><div class="min-w-0 flex-1 scroll-smooth xl:[flex-grow:3]" style="scrollbar-width: thin; scrollbar-color: rgb(90, 90, 90) transparent; min-height: unset;"><div class="sticky left-0 top-0 overflow-y-auto rounded-md" style="max-height: calc(-55px + 100vh);"><div class="flex flex-col gap-2 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-3 dark:border-[#2f2f2f] dark:bg-[#141414]"><div data-state="closed"><button type="button" aria-controls="radix-«r2f»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned SysMenuServiceImpl.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r2f»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r2g»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned GenTableMapper.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r2g»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r2h»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned multi_tenant.sql</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r2h»" hidden="" style=""></div></div></div></div></div></div><div class="mb-8 mt-16 h-px w-full bg-neutral-300 dark:bg-neutral-700"></div><div id="19" class="flex flex-col gap-3 pt-8 lg:flex-row" data-query-display="true" data-query-index="18"><div class="flex max-h-fit min-w-0 flex-1 flex-shrink-0 flex-col xl:[flex-grow:2]"><div class=""><div class="flex flex-col"><a class="flex items-center gap-2 text-base text-neutral-400 transition-colors hover:text-black dark:hover:text-white" href="https://deepwiki.com/1211454975/crowdmarket"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"></path></svg>return to 1211454975/crowdmarket</a><div class="flex flex-col items-start gap-2 text-white"><div class="group relative flex items-center"><span class="text-xl xl:text-2xl">现在，我们开始构建项目代码结构，请仔细分析一下上述的设计文档，以及前面讨论的内容，在现有crowdmarket代码库基础上，规划新功能的代码结构。<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to query"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></span></div></div></div><div class="py-3"><div class="text-primary/70 flex flex-col items-start justify-between text-sm"><div class="mb-1"><div class="inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" viewBox="0 0 256 256" class="mr-1"><path d="M213.85,125.46l-112,120a8,8,0,0,1-13.69-7l14.66-73.33L45.19,143.49a8,8,0,0,1-3-13l112-120a8,8,0,0,1,13.69,7L153.18,90.9l57.63,21.61a8,8,0,0,1,3,12.95Z"></path></svg>Fast</div></div><div class="flex w-full items-center justify-between gap-2"><div class="">Searched across 1211454975/crowdmarket</div></div></div></div><div class="h-fit rounded-lg" style="scrollbar-width: thin; scrollbar-color: rgb(58, 58, 58) transparent;"><div class="dark:[&amp;_pre:has(code)]:bg-shade dark:[&amp;_code[data-lang]]:bg-shade relative flex flex-col gap-1 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-4 text-white [overflow-wrap:anywhere] dark:border-[#2F2F2F] dark:bg-[#141414] [&amp;_pre]:my-3"><div class="prose-custom prose-custom-md prose-custom-gray !max-w-none text-neutral-300 [overflow-wrap:anywhere]"><p>I'll analyze the design document and previous discussions to plan the code structure for the new metadata-driven form management system in the CrowdMarket codebase.</p>
<h1 class="group flex items-center">Code Structure Planning for Metadata-Driven Form Management System  </h1>
<p>Based on the comprehensive design document and our previous discussions, I'll outline a code structure plan for implementing the metadata-driven form management system within the existing CrowdMarket codebase.</p>
<h2 class="group flex items-center">1. Project Structure Overview  </h2>
<p>The new functionality will be organized into several modules that align with the existing CrowdMarket architecture. Looking at the current codebase structure, we can see that CrowdMarket follows a modular approach with separate modules for different functionalities.</p>
<h3 class="group flex items-center">1.1 New Module Structure  </h3>
<p>I propose creating a new module called <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">ruoyi-form</code> to contain all the form management functionality. This follows the existing pattern seen in the codebase where functionality is organized into modules like <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">ruoyi-tool</code>, <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">ruoyi-system</code>, etc.</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">crowdmarket-server/  
├── ruoyi-form/                      # New module for form management  
│   ├── src/main/java/com/ruoyi/form/  
│   │   ├── controller/              # REST controllers  
│   │   ├── domain/                  # Entity classes  
│   │   ├── mapper/                  # MyBatis mappers  
│   │   ├── service/                 # Service interfaces and implementations  
│   │   └── util/                    # Utility classes  
│   └── src/main/resources/  
│       ├── mapper/                  # MyBatis XML mappings  
│       └── vm/                      # Velocity templates (if needed)  
</code></pre>
<h3 class="group flex items-center">1.2 Integration with Existing Modules  </h3>
<p>The new module will integrate with existing modules:</p>
<ul>
<li><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">ruoyi-common</code>: For common utilities and base classes</li>
<li><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">ruoyi-framework</code>: For security and configuration</li>
<li><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">ruoyi-system</code>: For user and tenant management</li>
<li><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">ruoyi-tool</code>: For leveraging existing code generation capabilities</li>
</ul>
<h2 class="group flex items-center">2. Database Structure Implementation  </h2>
<p>Based on the design document, we need to create several database tables. These will be defined in SQL scripts and through entity classes.</p>
<h3 class="group flex items-center">2.1 SQL Scripts  </h3>
<p>We'll create a new SQL script file for the form management tables:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">sql/form_management.sql  
</code></pre>
<p>This script will contain all the table definitions outlined in the design document, including:</p>
<ul>
<li>form_metadata</li>
<li>form_field_metadata</li>
<li>form_view_config</li>
<li>form_tenant_table_mapping</li>
<li>form_rule</li>
<li>form_rule_condition</li>
<li>form_rule_action</li>
<li>chart_metadata</li>
<li>chart_config</li>
<li>tenant_database</li>
</ul>
<h3 class="group flex items-center">2.2 Entity Classes  </h3>
<p>For each table, we'll create corresponding entity classes in the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">com.ruoyi.form.domain</code> package:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 136); font-style: italic;">// Example entity class structure  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">package</span><span> com.ruoyi.form.domain;  
</span>  
<span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.common.core.domain.BaseEntity;  
</span>  
<span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">FormMetadata</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">extends</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">BaseEntity</span><span class="hljs-class"> </span><span>{  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String metadataId;  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String metadataName;  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String metadataDesc;  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> Integer status;  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String tenantId;  
</span><span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Getters and setters  </span><span>
</span>}</code></pre></pre>
<h2 class="group flex items-center">3. Core Components Implementation  </h2>
<h3 class="group flex items-center">3.1 Form Metadata Management  </h3>
<h4 class="group flex items-center">3.1.1 Mapper Interfaces</h4>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">package</span><span> com.ruoyi.form.mapper;  
</span>  
<span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.form.domain.FormMetadata;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> java.util.List;  
</span>  
<span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">interface</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">FormMetadataMapper</span><span class="hljs-class"> </span><span>{  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> FormMetadata </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">selectByPrimaryKey</span><span class="hljs-function hljs-params">(String metadataId)</span><span>;  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> List&lt;FormMetadata&gt; </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">selectFormMetadataList</span><span class="hljs-function hljs-params">(FormMetadata formMetadata)</span><span>;  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">insertFormMetadata</span><span class="hljs-function hljs-params">(FormMetadata formMetadata)</span><span>;  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">updateFormMetadata</span><span class="hljs-function hljs-params">(FormMetadata formMetadata)</span><span>;  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">deleteFormMetadataById</span><span class="hljs-function hljs-params">(String metadataId)</span><span>;  
</span><span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Other methods  </span><span>
</span>}</code></pre></pre>
<h4 class="group flex items-center">3.1.2 Service Interfaces and Implementations</h4>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">package</span><span> com.ruoyi.form.service;  
</span>  
<span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.form.domain.FormMetadata;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> java.util.List;  
</span>  
<span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">interface</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">IFormMetadataService</span><span class="hljs-class"> </span><span>{  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> FormMetadata </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">selectFormMetadataById</span><span class="hljs-function hljs-params">(String metadataId)</span><span>;  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> List&lt;FormMetadata&gt; </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">selectFormMetadataList</span><span class="hljs-function hljs-params">(FormMetadata formMetadata)</span><span>;  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">insertFormMetadata</span><span class="hljs-function hljs-params">(FormMetadata formMetadata)</span><span>;  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">updateFormMetadata</span><span class="hljs-function hljs-params">(FormMetadata formMetadata)</span><span>;  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">deleteFormMetadataById</span><span class="hljs-function hljs-params">(String metadataId)</span><span>;  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> List&lt;GenTable&gt; </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">selectDbTableListByNames</span><span class="hljs-function hljs-params">(String[] tableNames)</span><span>;  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">importMetadata</span><span class="hljs-function hljs-params">(List&lt;GenTable&gt; tableList)</span><span>;  
</span><span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Other methods  </span><span>
</span>}</code></pre></pre>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">package</span><span> com.ruoyi.form.service.impl;  
</span>  
<span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> org.springframework.beans.factory.annotation.Autowired;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> org.springframework.stereotype.Service;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.form.mapper.FormMetadataMapper;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.form.service.IFormMetadataService;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.form.domain.FormMetadata;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.tool.gen.mapper.GenTableMapper;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.tool.gen.mapper.GenTableColumnMapper;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.tool.gen.domain.GenTable;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.tool.gen.domain.GenTableColumn;  
</span>  
<span></span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Service</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">FormMetadataServiceImpl</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">implements</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">IFormMetadataService</span><span class="hljs-class"> </span><span>{  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> FormMetadataMapper formMetadataMapper;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> GenTableMapper genTableMapper;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> GenTableColumnMapper genTableColumnMapper;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Implementation of methods  </span><span>
</span>}</code></pre></pre>
<h4 class="group flex items-center">3.1.3 Controllers</h4>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">package</span><span> com.ruoyi.form.controller;  
</span>  
<span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> org.springframework.beans.factory.annotation.Autowired;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> org.springframework.web.bind.annotation.*;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.common.core.controller.BaseController;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.common.core.domain.AjaxResult;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.common.core.page.TableDataInfo;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.form.domain.FormMetadata;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.form.service.IFormMetadataService;  
</span>  
<span></span><span style="color: rgb(153, 153, 153); font-weight: bold;">@RestController</span><span>  
</span><span></span><span style="color: rgb(153, 153, 153); font-weight: bold;">@RequestMapping("/form/metadata")</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">FormMetadataController</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">extends</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">BaseController</span><span class="hljs-class"> </span><span>{  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> IFormMetadataService formMetadataService;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@GetMapping("/list")</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> TableDataInfo </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">list</span><span class="hljs-function hljs-params">(FormMetadata formMetadata)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Implementation  </span><span>
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@GetMapping("/{metadataId}")</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> AjaxResult </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">getInfo</span><span class="hljs-function hljs-params">(</span><span class="hljs-function hljs-params" style="color: rgb(153, 153, 153); font-weight: bold;">@PathVariable("metadataId")</span><span class="hljs-function hljs-params"> String metadataId)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Implementation  </span><span>
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@PostMapping</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> AjaxResult </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">add</span><span class="hljs-function hljs-params">(</span><span class="hljs-function hljs-params" style="color: rgb(153, 153, 153); font-weight: bold;">@RequestBody</span><span class="hljs-function hljs-params"> FormMetadata formMetadata)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Implementation  </span><span>
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Other endpoints  </span><span>
</span>}</code></pre></pre>
<h3 class="group flex items-center">3.2 Table Generation Service  </h3>
<p>This service will be responsible for creating physical tables in tenant-specific databases:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">package</span><span> com.ruoyi.form.service.impl;  
</span>  
<span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> org.springframework.beans.factory.annotation.Autowired;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> org.springframework.jdbc.core.JdbcTemplate;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> org.springframework.stereotype.Service;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> org.springframework.transaction.annotation.Transactional;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.form.service.ITableGenerationService;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.form.service.ITenantDatabaseService;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.form.domain.FormMetadata;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.form.domain.FormFieldMetadata;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.form.domain.FormTenantTableMapping;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.form.mapper.FormFieldMetadataMapper;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.form.mapper.FormTenantTableMappingMapper;  
</span>  
<span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> javax.sql.DataSource;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> java.util.Date;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> java.util.List;  
</span>  
<span></span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Service</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">TableGenerationServiceImpl</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">implements</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">ITableGenerationService</span><span class="hljs-class"> </span><span>{  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> ITenantDatabaseService tenantDatabaseService;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> FormFieldMetadataMapper fieldMetadataMapper;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> FormTenantTableMappingMapper mappingMapper;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Override</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Transactional</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">generateTable</span><span class="hljs-function hljs-params">(FormMetadata metadata, String tenantId)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Implementation for generating tables in tenant databases  </span><span>
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Other methods  </span><span>
</span>}</code></pre></pre>
<h3 class="group flex items-center">3.3 Tenant Database Management  </h3>
<p>This component will manage tenant-specific databases:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">package</span><span> com.ruoyi.form.service.impl;  
</span>  
<span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> org.springframework.beans.factory.annotation.Autowired;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> org.springframework.jdbc.core.JdbcTemplate;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> org.springframework.stereotype.Service;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> org.springframework.transaction.annotation.Transactional;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.form.service.ITenantDatabaseService;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.form.domain.TenantDatabase;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.form.mapper.TenantDatabaseMapper;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.system.mapper.SysCompanyMapper;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.system.domain.SysCompany;  
</span>  
<span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> javax.sql.DataSource;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> java.util.Date;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> java.util.List;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> java.util.Map;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> java.util.concurrent.ConcurrentHashMap;  
</span>  
<span></span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Service</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">TenantDatabaseServiceImpl</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">implements</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">ITenantDatabaseService</span><span class="hljs-class"> </span><span>{  
</span><span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Implementation for tenant database management  </span><span>
</span>}</code></pre></pre>
<h3 class="group flex items-center">3.4 Dynamic Data Source Configuration  </h3>
<p>We'll extend the existing <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">DruidConfig</code> class to support tenant-specific databases:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">package</span><span> com.ruoyi.framework.config;  
</span>  
<span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> org.springframework.beans.factory.annotation.Autowired;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> org.springframework.context.annotation.Bean;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> org.springframework.context.annotation.Configuration;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> org.springframework.context.annotation.Primary;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.common.utils.spring.SpringUtils;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.form.service.ITenantDatabaseService;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.form.domain.TenantDatabase;  
</span>  
<span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> javax.sql.DataSource;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> java.util.HashMap;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> java.util.List;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> java.util.Map;  
</span>  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">// Extend existing DruidConfig  </span><span>
</span><span></span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Configuration</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">DruidConfig</span><span class="hljs-class"> </span><span>{  
</span><span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Add methods to support tenant databases  </span><span>
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Initialize tenant data sources from the database  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">initTenantDataSources</span><span class="hljs-function hljs-params">(Map&lt;Object, Object&gt; targetDataSources)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Implementation  </span><span>
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">/**  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     * Create a data source for a tenant  
</span><span style="color: rgb(153, 153, 136); font-style: italic;">     */</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span class="hljs-function"> DataSource </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">createTenantDataSource</span><span class="hljs-function hljs-params">(TenantDatabase tenantDb)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Implementation  </span><span>
</span>    }  
}</code></pre></pre>
<h3 class="group flex items-center">3.5 Business Rules Engine  </h3>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">package</span><span> com.ruoyi.form.service.impl;  
</span>  
<span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> org.springframework.beans.factory.annotation.Autowired;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> org.springframework.stereotype.Service;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.form.service.IRuleExecutionEngine;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.form.service.IFormRuleService;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.form.domain.FormRule;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.form.domain.FormRuleCondition;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.form.domain.FormRuleAction;  
</span>  
<span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> java.math.BigDecimal;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> java.util.Comparator;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> java.util.HashMap;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> java.util.List;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> java.util.Map;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> java.util.stream.Collectors;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> javax.script.ScriptEngine;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> javax.script.ScriptEngineManager;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> javax.script.Bindings;  
</span>  
<span></span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Service</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">RuleExecutionEngineImpl</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">implements</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">IRuleExecutionEngine</span><span class="hljs-class"> </span><span>{  
</span><span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Autowired</span><span>  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> IFormRuleService ruleService;  
</span>      
<span>    </span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Override</span><span>  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> Map&lt;String, Object&gt; </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">evaluateRules</span><span class="hljs-function hljs-params">(String metadataId, Map&lt;String, Object&gt; formData, String tenantId)</span><span class="hljs-function"> </span><span>{  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Implementation for rule evaluation  </span><span>
</span>    }  
      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Other methods  </span><span>
</span>}</code></pre></pre>
<h3 class="group flex items-center">3.6 Chart Management  </h3>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(51, 51, 51); font-weight: bold;">package</span><span> com.ruoyi.form.service.impl;  
</span>  
<span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> org.springframework.beans.factory.annotation.Autowired;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> org.springframework.jdbc.core.JdbcTemplate;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> org.springframework.stereotype.Service;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> org.springframework.transaction.annotation.Transactional;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.form.service.IChartMetadataService;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.form.service.IChartDataService;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.form.domain.ChartMetadata;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.form.domain.ChartConfig;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.form.mapper.ChartMetadataMapper;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> com.ruoyi.form.mapper.ChartConfigMapper;  
</span>  
<span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> java.util.Date;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> java.util.List;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">import</span><span> java.util.Map;  
</span>  
<span></span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Service</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">ChartMetadataServiceImpl</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">implements</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">IChartMetadataService</span><span class="hljs-class"> </span><span>{  
</span><span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Implementation for chart metadata management  </span><span>
</span>}  
  
<span></span><span style="color: rgb(153, 153, 153); font-weight: bold;">@Service</span><span>  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">ChartDataServiceImpl</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">implements</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">IChartDataService</span><span class="hljs-class"> </span><span>{  
</span><span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Implementation for chart data service  </span><span>
</span>}</code></pre></pre>
<h2 class="group flex items-center">4. Frontend Implementation  </h2>
<p>For the frontend, we'll create new Vue.js components in the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">crowdmarket-web</code> project:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">crowdmarket-web/  
├── src/  
│   ├── api/  
│   │   └── form/  
│   │       ├── metadata.js  
│   │       ├── formData.js  
│   │       ├── rule.js  
│   │       ├── chart.js  
│   │       └── tenantDatabase.js  
│   ├── views/  
│   │   └── form/  
│   │       ├── metadata/  
│   │       │   ├── index.vue  
│   │       │   ├── components/  
│   │       │   └── database-import.vue  
│   │       ├── data/  
│   │       │   ├── index.vue  
│   │       │   └── components/  
│   │       ├── rule/  
│   │       │   ├── index.vue  
│   │       │   └── components/  
│   │       ├── chart/  
│   │       │   ├── index.vue  
│   │       │   └── components/  
│   │       └── tenant/  
│   │           ├── database.vue  
│   │           └── components/  
</code></pre>
<h2 class="group flex items-center">5. Integration with Existing Code  </h2>
<h3 class="group flex items-center">5.1 Leveraging Code Generation  </h3>
<p>We'll leverage the existing code generation functionality in the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">ruoyi-tool</code> module to support form metadata extraction from database tables. This involves using:</p>
<ul>
<li><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">GenTableMapper</code> and <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">GenTableColumnMapper</code> for database metadata extraction</li>
<li><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">GenUtils</code> for initializing table information</li>
<li><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">VelocityUtils</code> for code generation if needed</li>
</ul>
<h3 class="group flex items-center">5.2 Menu Integration  </h3>
<p>We'll add new menu items to the system menu table:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 136); font-style: italic;">-- Form Management Menus  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">INSERT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">INTO</span><span> `sys_menu` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">VALUES</span><span> (</span><span style="color: rgb(0, 128, 128);">3001</span><span>, </span><span style="color: rgb(221, 17, 68);">'表单管理'</span><span>, </span><span style="color: rgb(0, 128, 128);">0</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'form'</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'M'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(221, 17, 68);">'form'</span><span>, </span><span style="color: rgb(221, 17, 68);">'admin'</span><span>, NOW(), </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(221, 17, 68);">'表单管理菜单'</span><span>);  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">INSERT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">INTO</span><span> `sys_menu` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">VALUES</span><span> (</span><span style="color: rgb(0, 128, 128);">3002</span><span>, </span><span style="color: rgb(221, 17, 68);">'元数据管理'</span><span>, </span><span style="color: rgb(0, 128, 128);">3001</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'metadata'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form/metadata/index'</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'C'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form:metadata:list'</span><span>, </span><span style="color: rgb(221, 17, 68);">'table'</span><span>, </span><span style="color: rgb(221, 17, 68);">'admin'</span><span>, NOW(), </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(221, 17, 68);">'表单元数据管理菜单'</span><span>);  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">INSERT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">INTO</span><span> `sys_menu` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">VALUES</span><span> (</span><span style="color: rgb(0, 128, 128);">3003</span><span>, </span><span style="color: rgb(221, 17, 68);">'表单数据'</span><span>, </span><span style="color: rgb(0, 128, 128);">3001</span><span>, </span><span style="color: rgb(0, 128, 128);">2</span><span>, </span><span style="color: rgb(221, 17, 68);">'data'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form/data/index'</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'C'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form:data:list'</span><span>, </span><span style="color: rgb(221, 17, 68);">'list'</span><span>, </span><span style="color: rgb(221, 17, 68);">'admin'</span><span>, NOW(), </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(221, 17, 68);">'表单数据管理菜单'</span><span>);  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">INSERT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">INTO</span><span> `sys_menu` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">VALUES</span><span> (</span><span style="color: rgb(0, 128, 128);">3004</span><span>, </span><span style="color: rgb(221, 17, 68);">'业务规则'</span><span>, </span><span style="color: rgb(0, 128, 128);">3001</span><span>, </span><span style="color: rgb(0, 128, 128);">3</span><span>, </span><span style="color: rgb(221, 17, 68);">'rule'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form/rule/index'</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'C'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>,  
</span>  
<span>Wiki pages you might want </span><span style="color: rgb(51, 51, 51); font-weight: bold;">to</span><span> explore:  
</span><span></span><span class="hljs-operator">-</span><span> [Code Generation </span><span style="color: rgb(51, 51, 51); font-weight: bold;">System</span><span> (</span><span style="color: rgb(0, 128, 128);">1211454975</span><span class="hljs-operator">/</span><span>crowdmarket)](</span><span class="hljs-operator">/</span><span>wiki</span><span class="hljs-operator">/</span><span style="color: rgb(0, 128, 128);">1211454975</span><span class="hljs-operator">/</span><span>crowdmarket#</span><span style="color: rgb(0, 128, 128);">2</span><span>)  
</span><span></span><span class="hljs-operator">-</span><span> [Code Generation Data Model (</span><span style="color: rgb(0, 128, 128);">1211454975</span><span class="hljs-operator">/</span><span>crowdmarket)](</span><span class="hljs-operator">/</span><span>wiki</span><span class="hljs-operator">/</span><span style="color: rgb(0, 128, 128);">1211454975</span><span class="hljs-operator">/</span><span>crowdmarket#</span><span style="color: rgb(0, 128, 128);">2.1</span><span>)</span></code></pre></pre></div><div class="flex items-center gap-1 text-neutral-300"><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M234,80.12A24,24,0,0,0,216,72H160V56a40,40,0,0,0-40-40,8,8,0,0,0-7.16,4.42L75.06,96H32a16,16,0,0,0-16,16v88a16,16,0,0,0,16,16H204a24,24,0,0,0,23.82-21l12-96A24,24,0,0,0,234,80.12ZM32,112H72v88H32ZM223.94,97l-12,96a8,8,0,0,1-7.94,7H88V105.89l36.71-73.43A24,24,0,0,1,144,56V80a8,8,0,0,0,8,8h64a8,8,0,0,1,7.94,9Z"></path></svg></button><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M239.82,157l-12-96A24,24,0,0,0,204,40H32A16,16,0,0,0,16,56v88a16,16,0,0,0,16,16H75.06l37.78,75.58A8,8,0,0,0,120,240a40,40,0,0,0,40-40V184h56a24,24,0,0,0,23.82-27ZM72,144H32V56H72Zm150,21.29a7.88,7.88,0,0,1-6,2.71H152a8,8,0,0,0-8,8v24a24,24,0,0,1-19.29,23.54L88,150.11V56H204a8,8,0,0,1,7.94,7l12,96A7.87,7.87,0,0,1,222,165.29Z"></path></svg></button></div></div></div></div></div><div class="min-w-0 flex-1 scroll-smooth xl:[flex-grow:3]" style="scrollbar-width: thin; scrollbar-color: rgb(90, 90, 90) transparent; min-height: unset;"><div class="sticky left-0 top-0 overflow-y-auto rounded-md" style="max-height: calc(-55px + 100vh);"><div class="flex flex-col gap-2 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-3 dark:border-[#2f2f2f] dark:bg-[#141414]"><div data-state="closed"><button type="button" aria-controls="radix-«r2i»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned multi_tenant.sql</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r2i»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r2j»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned GenTable.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r2j»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r2k»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned GenController.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r2k»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r2l»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned index.vue.vm</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r2l»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r2m»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned index.vue</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r2m»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r2n»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned SysRoleDeptMapper.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r2n»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r2o»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned pom.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r2o»" hidden="" style=""></div></div></div></div></div></div><div class="mb-8 mt-16 h-px w-full bg-neutral-300 dark:bg-neutral-700"></div><div id="20" class="flex flex-col gap-3 pt-8 lg:flex-row" data-query-display="true" data-query-index="19"><div class="flex max-h-fit min-w-0 flex-1 flex-shrink-0 flex-col xl:[flex-grow:2]"><div class=""><div class="flex flex-col"><a class="flex items-center gap-2 text-base text-neutral-400 transition-colors hover:text-black dark:hover:text-white" href="https://deepwiki.com/1211454975/crowdmarket"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"></path></svg>return to 1211454975/crowdmarket</a><div class="flex flex-col items-start gap-2 text-white"><div class="group relative flex items-center"><span class="text-xl xl:text-2xl">请将设计相关的功能与应用相关的功能划分为两个maven 模块，你分析一下这样划分是否合理，如果合理，请给出新的结果<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to query"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></span></div></div></div><div class="py-3"><div class="text-primary/70 flex flex-col items-start justify-between text-sm"><div class="mb-1"><div class="inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" viewBox="0 0 256 256" class="mr-1"><path d="M213.85,125.46l-112,120a8,8,0,0,1-13.69-7l14.66-73.33L45.19,143.49a8,8,0,0,1-3-13l112-120a8,8,0,0,1,13.69,7L153.18,90.9l57.63,21.61a8,8,0,0,1,3,12.95Z"></path></svg>Fast</div></div><div class="flex w-full items-center justify-between gap-2"><div class="">Searched across 1211454975/crowdmarket</div></div></div></div><div class="h-fit rounded-lg" style="scrollbar-width: thin; scrollbar-color: rgb(58, 58, 58) transparent;"><div class="dark:[&amp;_pre:has(code)]:bg-shade dark:[&amp;_code[data-lang]]:bg-shade relative flex flex-col gap-1 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-4 text-white [overflow-wrap:anywhere] dark:border-[#2F2F2F] dark:bg-[#141414] [&amp;_pre]:my-3"><div class="prose-custom prose-custom-md prose-custom-gray !max-w-none text-neutral-300 [overflow-wrap:anywhere]"><p>I'll analyze your request to divide the form management functionality into two Maven modules: one for design-related features and another for application-related features.</p>
<h1 class="group flex items-center">Analysis of Module Division for Form Management System  </h1>
<p>Based on the comprehensive design document and previous discussions about the metadata-driven form management system for CrowdMarket, I understand you want to split the functionality into two separate Maven modules:</p>
<ol>
<li><strong>Design-related functionality</strong>: Features related to defining and configuring forms, rules, and charts</li>
<li><strong>Application-related functionality</strong>: Features related to using and interacting with the defined forms, rules, and charts</li>
</ol>
<h2 class="group flex items-center">Is This Division Reasonable?  </h2>
<p>Yes, this division is very reasonable and follows good software architecture principles for several reasons:</p>
<ol>
<li><strong>Separation of concerns</strong>: Design-time and runtime concerns are fundamentally different</li>
<li><strong>Different user roles</strong>: Form designers and form users have different needs</li>
<li><strong>Deployment flexibility</strong>: You could potentially deploy only the application module to end-user environments</li>
<li><strong>Development independence</strong>: Teams can work on the modules separately</li>
<li><strong>Testing isolation</strong>: Each module can be tested independently</li>
</ol>
<h2 class="group flex items-center">Proposed Module Structure  </h2>
<p>Here's my proposed structure with two Maven modules:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">crowdmarket-server/  
├── ruoyi-form-design/             # Design-related functionality  
│   ├── src/main/java/com/ruoyi/form/design/  
│   │   ├── controller/            # REST controllers for design operations  
│   │   ├── domain/                # Entity classes for metadata  
│   │   ├── mapper/                # MyBatis mappers for metadata  
│   │   ├── service/               # Services for form design  
│   │   └── util/                  # Design utilities  
│   └── src/main/resources/  
│       ├── mapper/                # MyBatis XML mappings  
│       └── vm/                    # Velocity templates (if needed)  
│  
├── ruoyi-form-runtime/            # Application-related functionality  
│   ├── src/main/java/com/ruoyi/form/runtime/  
│   │   ├── controller/            # REST controllers for runtime operations  
│   │   ├── domain/                # Entity classes for runtime data  
│   │   ├── mapper/                # MyBatis mappers for runtime data  
│   │   ├── service/               # Services for form runtime  
│   │   └── util/                  # Runtime utilities  
│   └── src/main/resources/  
│       └── mapper/                # MyBatis XML mappings  
</code></pre>
<h2 class="group flex items-center">Detailed Functionality Division  </h2>
<h3 class="group flex items-center">ruoyi-form-design Module  </h3>
<p>This module will contain all functionality related to designing and configuring forms:</p>
<ol>
<li><strong>Form Metadata Management</strong>
<ul>
<li>Form definition and structure</li>
<li>Field metadata management</li>
<li>View configuration</li>
<li>Database metadata extraction</li>
</ul>
</li>
<li><strong>Business Rule Design</strong>
<ul>
<li>Rule definition</li>
<li>Condition configuration</li>
<li>Action configuration</li>
</ul>
</li>
<li><strong>Chart Design</strong>
<ul>
<li>Chart metadata management</li>
<li>Chart configuration</li>
<li>Dimension and measure definition</li>
</ul>
</li>
<li><strong>Tenant Database Configuration</strong>
<ul>
<li>Database connection management</li>
<li>Database creation and configuration</li>
</ul>
</li>
</ol>
<h3 class="group flex items-center">ruoyi-form-runtime Module  </h3>
<p>This module will contain all functionality related to using and interacting with forms:</p>
<ol>
<li><strong>Form Rendering and Data Management</strong>
<ul>
<li>Form rendering based on metadata</li>
<li>Data CRUD operations</li>
<li>Data import/export</li>
<li>Table generation in tenant databases</li>
</ul>
</li>
<li><strong>Rule Execution</strong>
<ul>
<li>Rule evaluation engine</li>
<li>Condition evaluation</li>
<li>Action execution</li>
</ul>
</li>
<li><strong>Chart Rendering</strong>
<ul>
<li>Chart data query</li>
<li>Chart rendering</li>
<li>Chart export</li>
</ul>
</li>
<li><strong>Tenant Database Runtime</strong>
<ul>
<li>Dynamic data source routing</li>
<li>Tenant context management</li>
<li>Database connection pooling</li>
</ul>
</li>
</ol>
<h2 class="group flex items-center">Dependencies Between Modules  </h2>
<p>The <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">ruoyi-form-runtime</code> module will depend on the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">ruoyi-form-design</code> module, as it needs access to the metadata definitions to render forms and execute rules. However, the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">ruoyi-form-design</code> module should not depend on the <code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">ruoyi-form-runtime</code> module.</p>
<h2 class="group flex items-center">Maven POM Configuration  </h2>
<h3 class="group flex items-center">Parent POM (crowdmarket-server/pom.xml)  </h3>
<p>Add the new modules to the parent POM:</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">modules</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">&lt;!-- Existing modules --&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">module</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-common</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">module</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">module</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-framework</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">module</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">module</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-system</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">module</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">module</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-tool</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">module</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">module</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-business</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">module</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">module</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-admin</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">module</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">module</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-monitor</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">module</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">&lt;!-- New form management modules --&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">module</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-form-design</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">module</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">module</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-form-runtime</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">module</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span></span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">modules</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span></code></pre></pre>
<h3 class="group flex items-center">ruoyi-form-design/pom.xml  </h3>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 153); font-weight: bold;">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span>  
</span><span></span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">project</span><span style="color: rgb(0, 0, 128); font-weight: normal;"> </span><span style="color: rgb(0, 0, 128); font-weight: normal;">xmlns</span><span style="color: rgb(0, 0, 128); font-weight: normal;">=</span><span style="color: rgb(221, 17, 68); font-weight: normal;">"http://maven.apache.org/POM/4.0.0"</span><span style="color: rgb(0, 0, 128); font-weight: normal;">  
</span><span style="color: rgb(0, 0, 128); font-weight: normal;">         </span><span style="color: rgb(0, 0, 128); font-weight: normal;">xmlns:xsi</span><span style="color: rgb(0, 0, 128); font-weight: normal;">=</span><span style="color: rgb(221, 17, 68); font-weight: normal;">"http://www.w3.org/2001/XMLSchema-instance"</span><span style="color: rgb(0, 0, 128); font-weight: normal;">  
</span><span style="color: rgb(0, 0, 128); font-weight: normal;">         </span><span style="color: rgb(0, 0, 128); font-weight: normal;">xsi:schemaLocation</span><span style="color: rgb(0, 0, 128); font-weight: normal;">=</span><span style="color: rgb(221, 17, 68); font-weight: normal;">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">parent</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>        </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-vue-multi-tenant</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>        </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">groupId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>com.ruoyi</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">groupId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>        </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">version</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>1.0.0</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">version</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">parent</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">modelVersion</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>4.0.0</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">modelVersion</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span>  
<span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-form-design</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">description</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>表单设计模块</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">description</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span>  
<span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">dependencies</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">&lt;!-- 依赖common模块 --&gt;</span><span>  
</span><span>        </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">dependency</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>            </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">groupId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>com.ruoyi</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">groupId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>            </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-common</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>        </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">dependency</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">&lt;!-- 依赖system模块 --&gt;</span><span>  
</span><span>        </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">dependency</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>            </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">groupId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>com.ruoyi</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">groupId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>            </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-system</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>        </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">dependency</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">&lt;!-- 依赖tool模块 --&gt;</span><span>  
</span><span>        </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">dependency</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>            </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">groupId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>com.ruoyi</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">groupId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>            </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-tool</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>        </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">dependency</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">dependencies</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span></span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">project</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span></code></pre></pre>
<h3 class="group flex items-center">ruoyi-form-runtime/pom.xml  </h3>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 153); font-weight: bold;">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span>  
</span><span></span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">project</span><span style="color: rgb(0, 0, 128); font-weight: normal;"> </span><span style="color: rgb(0, 0, 128); font-weight: normal;">xmlns</span><span style="color: rgb(0, 0, 128); font-weight: normal;">=</span><span style="color: rgb(221, 17, 68); font-weight: normal;">"http://maven.apache.org/POM/4.0.0"</span><span style="color: rgb(0, 0, 128); font-weight: normal;">  
</span><span style="color: rgb(0, 0, 128); font-weight: normal;">         </span><span style="color: rgb(0, 0, 128); font-weight: normal;">xmlns:xsi</span><span style="color: rgb(0, 0, 128); font-weight: normal;">=</span><span style="color: rgb(221, 17, 68); font-weight: normal;">"http://www.w3.org/2001/XMLSchema-instance"</span><span style="color: rgb(0, 0, 128); font-weight: normal;">  
</span><span style="color: rgb(0, 0, 128); font-weight: normal;">         </span><span style="color: rgb(0, 0, 128); font-weight: normal;">xsi:schemaLocation</span><span style="color: rgb(0, 0, 128); font-weight: normal;">=</span><span style="color: rgb(221, 17, 68); font-weight: normal;">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">parent</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>        </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-vue-multi-tenant</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>        </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">groupId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>com.ruoyi</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">groupId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>        </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">version</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>1.0.0</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">version</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">parent</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">modelVersion</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>4.0.0</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">modelVersion</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span>  
<span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-form-runtime</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">description</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>表单运行时模块</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">description</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span>  
<span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">dependencies</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">&lt;!-- 依赖form-design模块 --&gt;</span><span>  
</span><span>        </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">dependency</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>            </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">groupId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>com.ruoyi</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">groupId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>            </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-form-design</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>        </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">dependency</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">&lt;!-- 依赖common模块 --&gt;</span><span>  
</span><span>        </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">dependency</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>            </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">groupId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>com.ruoyi</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">groupId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>            </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-common</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>        </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">dependency</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">&lt;!-- 依赖framework模块 --&gt;</span><span>  
</span><span>        </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">dependency</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>            </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">groupId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>com.ruoyi</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">groupId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>            </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-framework</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>        </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">dependency</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">dependencies</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span></span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">project</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span></code></pre></pre>
<h2 class="group flex items-center">Entity Class Distribution  </h2>
<h3 class="group flex items-center">Design Module Entities  </h3>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 136); font-style: italic;">// com.ruoyi.form.design.domain.FormMetadata  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">FormMetadata</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">extends</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">BaseEntity</span><span class="hljs-class"> </span><span>{  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String metadataId;  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String metadataName;  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String metadataDesc;  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> Integer status;  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String tenantId;  
</span><span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Getters and setters  </span><span>
</span>}  
  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">// com.ruoyi.form.design.domain.FormFieldMetadata  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">FormFieldMetadata</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">extends</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">BaseEntity</span><span class="hljs-class"> </span><span>{  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String fieldId;  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String metadataId;  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String fieldName;  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String fieldLabel;  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String fieldType;  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String columnName;  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String columnType;  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> Integer isRequired;  
</span><span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Getters and setters  </span><span>
</span>}  
  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">// Other design-related entities...</span></code></pre></pre>
<h3 class="group flex items-center">Runtime Module Entities  </h3>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 136); font-style: italic;">// com.ruoyi.form.runtime.domain.FormTenantTableMapping  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">FormTenantTableMapping</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">extends</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">BaseEntity</span><span class="hljs-class"> </span><span>{  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String mappingId;  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String metadataId;  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String tenantId;  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String tableName;  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> Integer isCreated;  
</span><span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Getters and setters  </span><span>
</span>}  
  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">// Other runtime-related entities...</span></code></pre></pre>
<h2 class="group flex items-center">Service Distribution  </h2>
<h3 class="group flex items-center">Design Module Services  </h3>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 136); font-style: italic;">// com.ruoyi.form.design.service.IFormMetadataService  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">interface</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">IFormMetadataService</span><span class="hljs-class"> </span><span>{  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> FormMetadata </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">selectFormMetadataById</span><span class="hljs-function hljs-params">(String metadataId)</span><span>;  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> List&lt;FormMetadata&gt; </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">selectFormMetadataList</span><span class="hljs-function hljs-params">(FormMetadata formMetadata)</span><span>;  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">insertFormMetadata</span><span class="hljs-function hljs-params">(FormMetadata formMetadata)</span><span>;  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">updateFormMetadata</span><span class="hljs-function hljs-params">(FormMetadata formMetadata)</span><span>;  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">deleteFormMetadataById</span><span class="hljs-function hljs-params">(String metadataId)</span><span>;  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> List&lt;GenTable&gt; </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">selectDbTableListByNames</span><span class="hljs-function hljs-params">(String[] tableNames)</span><span>;  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">importMetadata</span><span class="hljs-function hljs-params">(List&lt;GenTable&gt; tableList)</span><span>;  
</span>}  
  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">// Other design-related services...</span></code></pre></pre>
<h3 class="group flex items-center">Runtime Module Services  </h3>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 136); font-style: italic;">// com.ruoyi.form.runtime.service.IFormDataService  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">interface</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">IFormDataService</span><span class="hljs-class"> </span><span>{  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">saveFormData</span><span class="hljs-function hljs-params">(String metadataId, Map&lt;String, Object&gt; formData, String tenantId, String username)</span><span>;  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> List&lt;Map&lt;String, Object&gt;&gt; queryFormData(String metadataId, Map&lt;String, Object&gt; queryParams, String tenantId);  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">updateFormData</span><span class="hljs-function hljs-params">(String metadataId, String dataId, Map&lt;String, Object&gt; formData, String tenantId, String username)</span><span>;  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">deleteFormData</span><span class="hljs-function hljs-params">(String metadataId, String dataId, String tenantId)</span><span>;  
</span>}  
  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">// Other runtime-related services...</span></code></pre></pre>
<h2 class="group flex items-center">Conclusion  </h2>
<p>Dividing the form management functionality into design and runtime modules is a sound architectural decision that provides clear separation of concerns, better maintainability, and more flexibility in development and deployment. This structure aligns well with the existing CrowdMarket architecture while providing a clean organization for the new form management capabilities.</p>
<p>The design module focuses on metadata definition and configuration, while the runtime module focuses on using that metadata to render forms, execute rules, and manage data. This separation will make the codebase more maintainable and easier to understand.</p>
<p>Wiki pages you might want to explore:</p>
<ul>
<li><a href="https://deepwiki.com/1211454975/crowdmarket/1-crowdmarket-system-overview">CrowdMarket System Overview (1211454975/crowdmarket)</a></li>
</ul></div><div class="flex items-center gap-1 text-neutral-300"><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M234,80.12A24,24,0,0,0,216,72H160V56a40,40,0,0,0-40-40,8,8,0,0,0-7.16,4.42L75.06,96H32a16,16,0,0,0-16,16v88a16,16,0,0,0,16,16H204a24,24,0,0,0,23.82-21l12-96A24,24,0,0,0,234,80.12ZM32,112H72v88H32ZM223.94,97l-12,96a8,8,0,0,1-7.94,7H88V105.89l36.71-73.43A24,24,0,0,1,144,56V80a8,8,0,0,0,8,8h64a8,8,0,0,1,7.94,9Z"></path></svg></button><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M239.82,157l-12-96A24,24,0,0,0,204,40H32A16,16,0,0,0,16,56v88a16,16,0,0,0,16,16H75.06l37.78,75.58A8,8,0,0,0,120,240a40,40,0,0,0,40-40V184h56a24,24,0,0,0,23.82-27ZM72,144H32V56H72Zm150,21.29a7.88,7.88,0,0,1-6,2.71H152a8,8,0,0,0-8,8v24a24,24,0,0,1-19.29,23.54L88,150.11V56H204a8,8,0,0,1,7.94,7l12,96A7.87,7.87,0,0,1,222,165.29Z"></path></svg></button></div></div></div></div></div><div class="min-w-0 flex-1 scroll-smooth xl:[flex-grow:3]" style="scrollbar-width: thin; scrollbar-color: rgb(90, 90, 90) transparent; min-height: unset;"><div class="sticky left-0 top-0 overflow-y-auto rounded-md" style="max-height: calc(-55px + 100vh);"><div class="flex flex-col gap-2 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-3 dark:border-[#2f2f2f] dark:bg-[#141414]"><div data-state="closed"><button type="button" aria-controls="radix-«r2p»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned multi_tenant.sql</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r2p»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r2q»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned pom.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r2q»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r2r»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned SysUserMapper.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r2r»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r2s»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned pom.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r2s»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r2t»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned SysMenuMapper.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r2t»" hidden="" style=""></div></div></div></div></div></div><div class="mb-8 mt-16 h-px w-full bg-neutral-300 dark:bg-neutral-700"></div><div id="21" class="flex flex-col gap-3 pt-8 lg:flex-row" data-query-display="true" data-query-index="20"><div class="flex max-h-fit min-w-0 flex-1 flex-shrink-0 flex-col xl:[flex-grow:2]"><div class=""><div class="flex flex-col"><a class="flex items-center gap-2 text-base text-neutral-400 transition-colors hover:text-black dark:hover:text-white" href="https://deepwiki.com/1211454975/crowdmarket"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"></path></svg>return to 1211454975/crowdmarket</a><div class="flex flex-col items-start gap-2 text-white"><div class="group relative flex items-center"><span class="text-xl xl:text-2xl">请将上述结果以中文展示<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to query"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></span></div></div></div><div class="py-3"><div class="text-primary/70 flex flex-col items-start justify-between text-sm"><div class="mb-1"><div class="inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" viewBox="0 0 256 256" class="mr-1"><path d="M213.85,125.46l-112,120a8,8,0,0,1-13.69-7l14.66-73.33L45.19,143.49a8,8,0,0,1-3-13l112-120a8,8,0,0,1,13.69,7L153.18,90.9l57.63,21.61a8,8,0,0,1,3,12.95Z"></path></svg>Fast</div></div><div class="flex w-full items-center justify-between gap-2"><div class="">Searched across 1211454975/crowdmarket</div></div></div></div><div class="h-fit rounded-lg" style="scrollbar-width: thin; scrollbar-color: rgb(58, 58, 58) transparent;"><div class="dark:[&amp;_pre:has(code)]:bg-shade dark:[&amp;_code[data-lang]]:bg-shade relative flex flex-col gap-1 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-4 text-white [overflow-wrap:anywhere] dark:border-[#2F2F2F] dark:bg-[#141414] [&amp;_pre]:my-3"><div class="prose-custom prose-custom-md prose-custom-gray !max-w-none text-neutral-300 [overflow-wrap:anywhere]"><p>I'll provide a Chinese translation of the previous analysis about dividing the form management functionality into design and runtime modules.</p>
<h1 class="group flex items-center">表单管理系统模块划分分析  </h1>
<p>基于之前讨论的元数据驱动表单管理系统的综合设计文档，我理解您希望将功能分为两个独立的Maven模块：</p>
<ol>
<li><strong>设计相关功能</strong>：与表单、规则和图表的定义和配置相关的功能</li>
<li><strong>应用相关功能</strong>：与使用和交互已定义表单、规则和图表相关的功能</li>
</ol>
<h2 class="group flex items-center">这种划分是否合理？  </h2>
<p>是的，这种划分非常合理，符合良好的软件架构原则，原因如下：</p>
<ol>
<li><strong>关注点分离</strong>：设计时和运行时的关注点本质上是不同的</li>
<li><strong>不同用户角色</strong>：表单设计者和表单使用者有不同的需求</li>
<li><strong>部署灵活性</strong>：您可以只在最终用户环境中部署应用模块</li>
<li><strong>开发独立性</strong>：团队可以独立开发各个模块</li>
<li><strong>测试隔离</strong>：每个模块可以独立测试</li>
</ol>
<h2 class="group flex items-center">建议的模块结构  </h2>
<p>以下是我建议的两个Maven模块的结构：</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">crowdmarket-server/  
├── ruoyi-form-design/             # 设计相关功能  
│   ├── src/main/java/com/ruoyi/form/design/  
│   │   ├── controller/            # 设计操作的REST控制器  
│   │   ├── domain/                # 元数据的实体类  
│   │   ├── mapper/                # 元数据的MyBatis映射器  
│   │   ├── service/               # 表单设计服务  
│   │   └── util/                  # 设计工具类  
│   └── src/main/resources/  
│       ├── mapper/                # MyBatis XML映射  
│       └── vm/                    # Velocity模板（如需要）  
│  
├── ruoyi-form-runtime/            # 应用相关功能  
│   ├── src/main/java/com/ruoyi/form/runtime/  
│   │   ├── controller/            # 运行时操作的REST控制器  
│   │   ├── domain/                # 运行时数据的实体类  
│   │   ├── mapper/                # 运行时数据的MyBatis映射器  
│   │   ├── service/               # 表单运行时服务  
│   │   └── util/                  # 运行时工具类  
│   └── src/main/resources/  
│       └── mapper/                # MyBatis XML映射  
</code></pre>
<h2 class="group flex items-center">详细功能划分  </h2>
<h3 class="group flex items-center">ruoyi-form-design模块  </h3>
<p>此模块将包含所有与表单设计和配置相关的功能：</p>
<ol>
<li><strong>表单元数据管理</strong>
<ul>
<li>表单定义和结构</li>
<li>字段元数据管理</li>
<li>视图配置</li>
<li>数据库元数据提取</li>
</ul>
</li>
<li><strong>业务规则设计</strong>
<ul>
<li>规则定义</li>
<li>条件配置</li>
<li>动作配置</li>
</ul>
</li>
<li><strong>图表设计</strong>
<ul>
<li>图表元数据管理</li>
<li>图表配置</li>
<li>维度和度量定义</li>
</ul>
</li>
<li><strong>租户数据库配置</strong>
<ul>
<li>数据库连接管理</li>
<li>数据库创建和配置</li>
</ul>
</li>
</ol>
<h3 class="group flex items-center">ruoyi-form-runtime模块  </h3>
<p>此模块将包含所有与表单使用和交互相关的功能：</p>
<ol>
<li><strong>表单渲染和数据管理</strong>
<ul>
<li>基于元数据的表单渲染</li>
<li>数据CRUD操作</li>
<li>数据导入/导出</li>
<li>在租户数据库中生成表</li>
</ul>
</li>
<li><strong>规则执行</strong>
<ul>
<li>规则评估引擎</li>
<li>条件评估</li>
<li>动作执行</li>
</ul>
</li>
<li><strong>图表渲染</strong>
<ul>
<li>图表数据查询</li>
<li>图表渲染</li>
<li>图表导出</li>
</ul>
</li>
<li><strong>租户数据库运行时</strong>
<ul>
<li>动态数据源路由</li>
<li>租户上下文管理</li>
<li>数据库连接池管理</li>
</ul>
</li>
</ol>
<h2 class="group flex items-center">模块间依赖关系  </h2>
<p><code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">ruoyi-form-runtime</code>模块将依赖于<code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">ruoyi-form-design</code>模块，因为它需要访问元数据定义来渲染表单和执行规则。但是，<code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">ruoyi-form-design</code>模块不应该依赖于<code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">ruoyi-form-runtime</code>模块。</p>
<h2 class="group flex items-center">Maven POM配置  </h2>
<h3 class="group flex items-center">父POM (crowdmarket-server/pom.xml)  </h3>
<p>将新模块添加到父POM中：</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">modules</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">&lt;!-- 现有模块 --&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">module</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-common</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">module</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">module</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-framework</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">module</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">module</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-system</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">module</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">module</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-tool</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">module</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">module</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-business</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">module</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">module</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-admin</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">module</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">module</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-monitor</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">module</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span>      
<span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">&lt;!-- 新的表单管理模块 --&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">module</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-form-design</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">module</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">module</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-form-runtime</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">module</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span></span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">modules</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span></code></pre></pre>
<h3 class="group flex items-center">ruoyi-form-design/pom.xml  </h3>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 153); font-weight: bold;">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span>  
</span><span></span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">project</span><span style="color: rgb(0, 0, 128); font-weight: normal;"> </span><span style="color: rgb(0, 0, 128); font-weight: normal;">xmlns</span><span style="color: rgb(0, 0, 128); font-weight: normal;">=</span><span style="color: rgb(221, 17, 68); font-weight: normal;">"http://maven.apache.org/POM/4.0.0"</span><span style="color: rgb(0, 0, 128); font-weight: normal;">  
</span><span style="color: rgb(0, 0, 128); font-weight: normal;">         </span><span style="color: rgb(0, 0, 128); font-weight: normal;">xmlns:xsi</span><span style="color: rgb(0, 0, 128); font-weight: normal;">=</span><span style="color: rgb(221, 17, 68); font-weight: normal;">"http://www.w3.org/2001/XMLSchema-instance"</span><span style="color: rgb(0, 0, 128); font-weight: normal;">  
</span><span style="color: rgb(0, 0, 128); font-weight: normal;">         </span><span style="color: rgb(0, 0, 128); font-weight: normal;">xsi:schemaLocation</span><span style="color: rgb(0, 0, 128); font-weight: normal;">=</span><span style="color: rgb(221, 17, 68); font-weight: normal;">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">parent</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>        </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-vue-multi-tenant</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>        </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">groupId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>com.ruoyi</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">groupId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>        </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">version</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>1.0.0</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">version</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">parent</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">modelVersion</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>4.0.0</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">modelVersion</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span>  
<span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-form-design</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">description</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>表单设计模块</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">description</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span>  
<span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">dependencies</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">&lt;!-- 依赖common模块 --&gt;</span><span>  
</span><span>        </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">dependency</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>            </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">groupId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>com.ruoyi</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">groupId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>            </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-common</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>        </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">dependency</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">&lt;!-- 依赖system模块 --&gt;</span><span>  
</span><span>        </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">dependency</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>            </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">groupId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>com.ruoyi</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">groupId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>            </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-system</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>        </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">dependency</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">&lt;!-- 依赖tool模块 --&gt;</span><span>  
</span><span>        </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">dependency</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>            </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">groupId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>com.ruoyi</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">groupId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>            </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-tool</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>        </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">dependency</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">dependencies</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span></span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">project</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span></code></pre></pre>
<h3 class="group flex items-center">ruoyi-form-runtime/pom.xml  </h3>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 153); font-weight: bold;">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><span>  
</span><span></span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">project</span><span style="color: rgb(0, 0, 128); font-weight: normal;"> </span><span style="color: rgb(0, 0, 128); font-weight: normal;">xmlns</span><span style="color: rgb(0, 0, 128); font-weight: normal;">=</span><span style="color: rgb(221, 17, 68); font-weight: normal;">"http://maven.apache.org/POM/4.0.0"</span><span style="color: rgb(0, 0, 128); font-weight: normal;">  
</span><span style="color: rgb(0, 0, 128); font-weight: normal;">         </span><span style="color: rgb(0, 0, 128); font-weight: normal;">xmlns:xsi</span><span style="color: rgb(0, 0, 128); font-weight: normal;">=</span><span style="color: rgb(221, 17, 68); font-weight: normal;">"http://www.w3.org/2001/XMLSchema-instance"</span><span style="color: rgb(0, 0, 128); font-weight: normal;">  
</span><span style="color: rgb(0, 0, 128); font-weight: normal;">         </span><span style="color: rgb(0, 0, 128); font-weight: normal;">xsi:schemaLocation</span><span style="color: rgb(0, 0, 128); font-weight: normal;">=</span><span style="color: rgb(221, 17, 68); font-weight: normal;">"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">parent</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>        </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-vue-multi-tenant</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>        </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">groupId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>com.ruoyi</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">groupId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>        </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">version</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>1.0.0</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">version</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">parent</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">modelVersion</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>4.0.0</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">modelVersion</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span>  
<span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-form-runtime</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">description</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>表单运行时模块</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">description</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span>  
<span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">dependencies</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">&lt;!-- 依赖form-design模块 --&gt;</span><span>  
</span><span>        </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">dependency</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>            </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">groupId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>com.ruoyi</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">groupId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>            </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-form-design</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>        </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">dependency</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">&lt;!-- 依赖common模块 --&gt;</span><span>  
</span><span>        </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">dependency</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>            </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">groupId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>com.ruoyi</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">groupId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>            </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-common</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>        </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">dependency</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span>          
<span>        </span><span style="color: rgb(153, 153, 136); font-style: italic;">&lt;!-- 依赖framework模块 --&gt;</span><span>  
</span><span>        </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">dependency</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>            </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">groupId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>com.ruoyi</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">groupId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>            </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>ruoyi-framework</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">artifactId</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>        </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">dependency</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span>    </span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">dependencies</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span><span>  
</span><span></span><span style="color: rgb(0, 0, 128); font-weight: normal;">&lt;/</span><span style="color: rgb(0, 0, 128); font-weight: normal;">project</span><span style="color: rgb(0, 0, 128); font-weight: normal;">&gt;</span></code></pre></pre>
<h2 class="group flex items-center">实体类分布  </h2>
<h3 class="group flex items-center">设计模块实体  </h3>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 136); font-style: italic;">// com.ruoyi.form.design.domain.FormMetadata  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">FormMetadata</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">extends</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">BaseEntity</span><span class="hljs-class"> </span><span>{  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String metadataId;  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String metadataName;  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String metadataDesc;  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> Integer status;  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String tenantId;  
</span><span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Getters and setters  </span><span>
</span>}  
  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">// com.ruoyi.form.design.domain.FormFieldMetadata  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">FormFieldMetadata</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">extends</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">BaseEntity</span><span class="hljs-class"> </span><span>{  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String fieldId;  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String metadataId;  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String fieldName;  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String fieldLabel;  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String fieldType;  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String columnName;  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String columnType;  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> Integer isRequired;  
</span><span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Getters and setters  </span><span>
</span>}  
  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">// 其他设计相关实体...</span></code></pre></pre>
<h3 class="group flex items-center">运行时模块实体  </h3>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 136); font-style: italic;">// com.ruoyi.form.runtime.domain.FormTenantTableMapping  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">class</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">FormTenantTableMapping</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">extends</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">BaseEntity</span><span class="hljs-class"> </span><span>{  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String mappingId;  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String metadataId;  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String tenantId;  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> String tableName;  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">private</span><span> Integer isCreated;  
</span><span>    </span><span style="color: rgb(153, 153, 136); font-style: italic;">// Getters and setters  </span><span>
</span>}  
  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">// 其他运行时相关实体...</span></code></pre></pre>
<h2 class="group flex items-center">服务分布  </h2>
<h3 class="group flex items-center">设计模块服务  </h3>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 136); font-style: italic;">// com.ruoyi.form.design.service.IFormMetadataService  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">interface</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">IFormMetadataService</span><span class="hljs-class"> </span><span>{  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> FormMetadata </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">selectFormMetadataById</span><span class="hljs-function hljs-params">(String metadataId)</span><span>;  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> List&lt;FormMetadata&gt; </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">selectFormMetadataList</span><span class="hljs-function hljs-params">(FormMetadata formMetadata)</span><span>;  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">insertFormMetadata</span><span class="hljs-function hljs-params">(FormMetadata formMetadata)</span><span>;  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">updateFormMetadata</span><span class="hljs-function hljs-params">(FormMetadata formMetadata)</span><span>;  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">deleteFormMetadataById</span><span class="hljs-function hljs-params">(String metadataId)</span><span>;  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> List&lt;GenTable&gt; </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">selectDbTableListByNames</span><span class="hljs-function hljs-params">(String[] tableNames)</span><span>;  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">importMetadata</span><span class="hljs-function hljs-params">(List&lt;GenTable&gt; tableList)</span><span>;  
</span>}  
  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">// 其他设计相关服务...</span></code></pre></pre>
<h3 class="group flex items-center">运行时模块服务  </h3>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 136); font-style: italic;">// com.ruoyi.form.runtime.service.IFormDataService  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> </span><span class="hljs-class" style="color: rgb(51, 51, 51); font-weight: bold;">interface</span><span class="hljs-class"> </span><span class="hljs-class" style="color: rgb(153, 0, 0); font-weight: bold;">IFormDataService</span><span class="hljs-class"> </span><span>{  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">saveFormData</span><span class="hljs-function hljs-params">(String metadataId, Map&lt;String, Object&gt; formData, String tenantId, String username)</span><span>;  
</span><span>    </span><span style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span> List&lt;Map&lt;String, Object&gt;&gt; queryFormData(String metadataId, Map&lt;String, Object&gt; queryParams, String tenantId);  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">updateFormData</span><span class="hljs-function hljs-params">(String metadataId, String dataId, Map&lt;String, Object&gt; formData, String tenantId, String username)</span><span>;  
</span><span>    </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">public</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(51, 51, 51); font-weight: bold;">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color: rgb(153, 0, 0); font-weight: bold;">deleteFormData</span><span class="hljs-function hljs-params">(String metadataId, String dataId, String tenantId)</span><span>;  
</span>}  
  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">// 其他运行时相关服务...</span></code></pre></pre>
<h2 class="group flex items-center">结论  </h2>
<p>将表单管理功能划分为设计和运行时模块是一个合理的架构决策，它提供了明确的关注点分离、更好的可维护性和更灵活的开发与部署。这种结构与现有的CrowdMarket架构很好地契合，同时为新的表单管理功能提供了清晰的组织结构。</p>
<p>设计模块专注于元数据定义和配置，而运行时模块专注于使用这些元数据来渲染表单、执行规则和管理数据。这种分离将使代码库更易于维护和理解。</p>
<p>Wiki pages you might want to explore:</p>
<ul>
<li><a href="https://deepwiki.com/1211454975/crowdmarket/2.2-code-generation-data-access-layer">Code Generation Data Access Layer (1211454975/crowdmarket)</a></li>
<li><a href="https://deepwiki.com/1211454975/crowdmarket/5-development-workflow">Development Workflow (1211454975/crowdmarket)</a></li>
</ul></div><div class="flex items-center gap-1 text-neutral-300"><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M234,80.12A24,24,0,0,0,216,72H160V56a40,40,0,0,0-40-40,8,8,0,0,0-7.16,4.42L75.06,96H32a16,16,0,0,0-16,16v88a16,16,0,0,0,16,16H204a24,24,0,0,0,23.82-21l12-96A24,24,0,0,0,234,80.12ZM32,112H72v88H32ZM223.94,97l-12,96a8,8,0,0,1-7.94,7H88V105.89l36.71-73.43A24,24,0,0,1,144,56V80a8,8,0,0,0,8,8h64a8,8,0,0,1,7.94,9Z"></path></svg></button><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M239.82,157l-12-96A24,24,0,0,0,204,40H32A16,16,0,0,0,16,56v88a16,16,0,0,0,16,16H75.06l37.78,75.58A8,8,0,0,0,120,240a40,40,0,0,0,40-40V184h56a24,24,0,0,0,23.82-27ZM72,144H32V56H72Zm150,21.29a7.88,7.88,0,0,1-6,2.71H152a8,8,0,0,0-8,8v24a24,24,0,0,1-19.29,23.54L88,150.11V56H204a8,8,0,0,1,7.94,7l12,96A7.87,7.87,0,0,1,222,165.29Z"></path></svg></button></div></div></div></div></div><div class="min-w-0 flex-1 scroll-smooth xl:[flex-grow:3]" style="scrollbar-width: thin; scrollbar-color: rgb(90, 90, 90) transparent; min-height: unset;"><div class="sticky left-0 top-0 overflow-y-auto rounded-md" style="max-height: calc(-55px + 100vh);"><div class="flex flex-col gap-2 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-3 dark:border-[#2f2f2f] dark:bg-[#141414]"><div data-state="closed"><button type="button" aria-controls="radix-«r2u»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned GenTableColumnMapper.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r2u»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r2v»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned multi_tenant.sql</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r2v»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r30»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned GenTableServiceImpl.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r30»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r31»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned genInfoForm.vue</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r31»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r32»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned GenController.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r32»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r33»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned GenTableColumn.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r33»" hidden="" style=""></div></div></div></div></div></div><div class="mb-8 mt-16 h-px w-full bg-neutral-300 dark:bg-neutral-700"></div><div id="22" class="flex flex-col gap-3 pt-8 lg:flex-row" data-query-display="true" data-query-index="21"><div class="flex max-h-fit min-w-0 flex-1 flex-shrink-0 flex-col xl:[flex-grow:2]"><div class=""><div class="flex flex-col"><a class="flex items-center gap-2 text-base text-neutral-400 transition-colors hover:text-black dark:hover:text-white" href="https://deepwiki.com/1211454975/crowdmarket"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"></path></svg>return to 1211454975/crowdmarket</a><div class="flex flex-col items-start gap-2 text-white"><div class="group relative flex items-center"><span class="text-xl xl:text-2xl">生成数据库脚本，可以直接运行的<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to query"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></span></div></div></div><div class="py-3"><div class="text-primary/70 flex flex-col items-start justify-between text-sm"><div class="mb-1"><div class="inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" viewBox="0 0 256 256" class="mr-1"><path d="M213.85,125.46l-112,120a8,8,0,0,1-13.69-7l14.66-73.33L45.19,143.49a8,8,0,0,1-3-13l112-120a8,8,0,0,1,13.69,7L153.18,90.9l57.63,21.61a8,8,0,0,1,3,12.95Z"></path></svg>Fast</div></div><div class="flex w-full items-center justify-between gap-2"><div class="">Searched across 1211454975/crowdmarket</div></div></div></div><div class="h-fit rounded-lg" style="scrollbar-width: thin; scrollbar-color: rgb(58, 58, 58) transparent;"><div class="dark:[&amp;_pre:has(code)]:bg-shade dark:[&amp;_code[data-lang]]:bg-shade relative flex flex-col gap-1 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-4 text-white [overflow-wrap:anywhere] dark:border-[#2F2F2F] dark:bg-[#141414] [&amp;_pre]:my-3"><div class="prose-custom prose-custom-md prose-custom-gray !max-w-none text-neutral-300 [overflow-wrap:anywhere]"><p>I'll help you generate a complete SQL script for the metadata-driven form management system based on the design document discussed earlier. This script will create all the necessary database tables for both the design and runtime modules.</p>
<h1 class="group flex items-center">元数据驱动表单管理系统数据库脚本  </h1>
<p>以下是完整的数据库脚本，可以直接运行来创建元数据驱动表单管理系统所需的所有表：</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 136); font-style: italic;">-- 设置字符集和外键检查  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">SET</span><span> NAMES utf8mb4;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">SET</span><span> FOREIGN_KEY_CHECKS </span><span class="hljs-operator">=</span><span> </span><span style="color: rgb(0, 128, 128);">0</span><span>;  
</span>  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- ----------------------------  </span><span>
</span><span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- 表单元数据表  </span><span>
</span><span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- ----------------------------  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">DROP</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> IF </span><span style="color: rgb(51, 51, 51); font-weight: bold;">EXISTS</span><span> `form_metadata`;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `form_metadata` (  
</span><span>  `metadata_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'元数据ID'</span><span>,  
</span><span>  `metadata_name` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'元数据名称'</span><span>,  
</span><span>  `metadata_desc` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">500</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'元数据描述'</span><span>,  
</span><span>  `status` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'状态(0草稿,1发布,2停用)'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  `create_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建者'</span><span>,  
</span><span>  `create_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建时间'</span><span>,  
</span><span>  `update_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新者'</span><span>,  
</span><span>  `update_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新时间'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`metadata_id`),  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">UNIQUE</span><span> KEY `uk_metadata_name_tenant` (`metadata_name`,`tenant_id`)  
</span><span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'表单元数据表'</span><span>;  
</span>  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- ----------------------------  </span><span>
</span><span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- 表单字段元数据表  </span><span>
</span><span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- ----------------------------  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">DROP</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> IF </span><span style="color: rgb(51, 51, 51); font-weight: bold;">EXISTS</span><span> `form_field_metadata`;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `form_field_metadata` (  
</span><span>  `field_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'字段ID'</span><span>,  
</span><span>  `metadata_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'元数据ID'</span><span>,  
</span><span>  `field_name` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">50</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'字段名称'</span><span>,  
</span><span>  `field_label` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'字段标签'</span><span>,  
</span><span>  `field_type` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'字段类型'</span><span>,  
</span><span>  `column_name` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">50</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'数据库列名'</span><span>,  
</span><span>  `column_type` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">50</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'数据库列类型'</span><span>,  
</span><span>  `is_required` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'是否必填(0否1是)'</span><span>,  
</span><span>  `is_pk` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'是否主键(0否1是)'</span><span>,  
</span><span>  `is_list` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'1'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'是否列表显示(0否1是)'</span><span>,  
</span><span>  `is_query` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'是否查询条件(0否1是)'</span><span>,  
</span><span>  `query_type` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'EQ'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'查询方式(EQ等于,NE不等于,GT大于,LT小于,LIKE模糊,BETWEEN范围)'</span><span>,  
</span><span>  `html_type` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">50</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'input'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'显示类型(input文本框,textarea文本域,select下拉框,checkbox复选框,radio单选框,datetime日期控件)'</span><span>,  
</span><span>  `dict_type` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'字典类型'</span><span>,  
</span><span>  `sort_order` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">int</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'排序'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`field_id`),  
</span>  KEY `idx_metadata_id` (`metadata_id`)  
<span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'表单字段元数据表'</span><span>;  
</span>  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- ----------------------------  </span><span>
</span><span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- 表单视图配置表  </span><span>
</span><span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- ----------------------------  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">DROP</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> IF </span><span style="color: rgb(51, 51, 51); font-weight: bold;">EXISTS</span><span> `form_view_config`;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `form_view_config` (  
</span><span>  `view_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'视图ID'</span><span>,  
</span><span>  `metadata_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'元数据ID'</span><span>,  
</span><span>  `view_name` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'视图名称'</span><span>,  
</span><span>  `view_type` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'视图类型(form表单,list列表,detail详情)'</span><span>,  
</span><span>  `view_config` text </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'视图配置JSON'</span><span>,  
</span><span>  `is_default` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'是否默认视图(0否1是)'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  `create_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建者'</span><span>,  
</span><span>  `create_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建时间'</span><span>,  
</span><span>  `update_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新者'</span><span>,  
</span><span>  `update_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新时间'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`view_id`),  
</span>  KEY `idx_metadata_id` (`metadata_id`)  
<span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'表单视图配置表'</span><span>;  
</span>  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- ----------------------------  </span><span>
</span><span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- 表单租户表映射  </span><span>
</span><span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- ----------------------------  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">DROP</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> IF </span><span style="color: rgb(51, 51, 51); font-weight: bold;">EXISTS</span><span> `form_tenant_table_mapping`;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `form_tenant_table_mapping` (  
</span><span>  `mapping_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'映射ID'</span><span>,  
</span><span>  `metadata_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'元数据ID'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  `table_name` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户数据库中的表名'</span><span>,  
</span><span>  `is_created` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'表是否已创建(0否1是)'</span><span>,  
</span><span>  `create_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建时间'</span><span>,  
</span><span>  `update_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新时间'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`mapping_id`),  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">UNIQUE</span><span> KEY `uk_metadata_tenant` (`metadata_id`,`tenant_id`)  
</span><span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'表单租户表映射'</span><span>;  
</span>  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- ----------------------------  </span><span>
</span><span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- 业务规则表  </span><span>
</span><span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- ----------------------------  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">DROP</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> IF </span><span style="color: rgb(51, 51, 51); font-weight: bold;">EXISTS</span><span> `form_rule`;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `form_rule` (  
</span><span>  `rule_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'规则ID'</span><span>,  
</span><span>  `metadata_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'元数据ID'</span><span>,  
</span><span>  `rule_name` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'规则名称'</span><span>,  
</span><span>  `rule_type` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'规则类型(validation,calculation,visibility,dependency,workflow)'</span><span>,  
</span><span>  `rule_desc` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">500</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'规则描述'</span><span>,  
</span><span>  `is_active` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'1'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'是否启用(0否1是)'</span><span>,  
</span><span>  `execution_order` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">int</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'执行顺序'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  `create_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建者'</span><span>,  
</span><span>  `create_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建时间'</span><span>,  
</span><span>  `update_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新者'</span><span>,  
</span><span>  `update_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新时间'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`rule_id`),  
</span>  KEY `idx_metadata_id` (`metadata_id`)  
<span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'表单规则定义表'</span><span>;  
</span>  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- ----------------------------  </span><span>
</span><span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- 规则条件表  </span><span>
</span><span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- ----------------------------  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">DROP</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> IF </span><span style="color: rgb(51, 51, 51); font-weight: bold;">EXISTS</span><span> `form_rule_condition`;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `form_rule_condition` (  
</span><span>  `condition_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'条件ID'</span><span>,  
</span><span>  `rule_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'规则ID'</span><span>,  
</span><span>  `field_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'字段ID'</span><span>,  
</span><span>  `operator` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'操作符(eq,ne,gt,lt,ge,le,contains,startswith,endswith)'</span><span>,  
</span><span>  `</span><span style="color: rgb(51, 51, 51); font-weight: bold;">value</span><span>` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">500</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'比较值'</span><span>,  
</span><span>  `logic_type` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">10</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'AND'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'逻辑类型(AND,OR)'</span><span>,  
</span><span>  `group_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'条件组ID'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`condition_id`),  
</span>  KEY `idx_rule_id` (`rule_id`)  
<span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'表单规则条件表'</span><span>;  
</span>  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- ----------------------------  </span><span>
</span><span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- 规则动作表  </span><span>
</span><span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- ----------------------------  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">DROP</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> IF </span><span style="color: rgb(51, 51, 51); font-weight: bold;">EXISTS</span><span> `form_rule_action`;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `form_rule_action` (  
</span><span>  `action_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'动作ID'</span><span>,  
</span><span>  `rule_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'规则ID'</span><span>,  
</span><span>  `action_type` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'动作类型(setValue,setVisible,setRequired,setReadOnly,calculate,message,api)'</span><span>,  
</span><span>  `target_field_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'目标字段ID'</span><span>,  
</span><span>  `action_value` text COMMENT </span><span style="color: rgb(221, 17, 68);">'动作值'</span><span>,  
</span><span>  `action_script` text COMMENT </span><span style="color: rgb(221, 17, 68);">'动作脚本'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`action_id`),  
</span>  KEY `idx_rule_id` (`rule_id`)  
<span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'表单规则动作表'</span><span>;  
</span>  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- ----------------------------  </span><span>
</span><span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- 图表元数据表  </span><span>
</span><span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- ----------------------------  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">DROP</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> IF </span><span style="color: rgb(51, 51, 51); font-weight: bold;">EXISTS</span><span> `chart_metadata`;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `chart_metadata` (  
</span><span>  `chart_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'图表ID'</span><span>,  
</span><span>  `chart_name` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'图表名称'</span><span>,  
</span><span>  `chart_desc` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">500</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'图表描述'</span><span>,  
</span><span>  `chart_type` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'图表类型(bar柱状图,line折线图,pie饼图,radar雷达图等)'</span><span>,  
</span><span>  `metadata_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'关联的表单元数据ID'</span><span>,  
</span><span>  `status` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'状态(0草稿,1发布,2停用)'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  `create_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建者'</span><span>,  
</span><span>  `create_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建时间'</span><span>,  
</span><span>  `update_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新者'</span><span>,  
</span><span>  `update_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新时间'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`chart_id`),  
</span>  KEY `idx_metadata_id` (`metadata_id`),  
  KEY `idx_tenant_id` (`tenant_id`)  
<span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'图表元数据表'</span><span>;  
</span>  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- ----------------------------  </span><span>
</span><span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- 图表配置表  </span><span>
</span><span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- ----------------------------  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">DROP</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> IF </span><span style="color: rgb(51, 51, 51); font-weight: bold;">EXISTS</span><span> `chart_config`;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `chart_config` (  
</span><span>  `config_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'配置ID'</span><span>,  
</span><span>  `chart_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'图表ID'</span><span>,  
</span><span>  `dimension_fields` text COMMENT </span><span style="color: rgb(221, 17, 68);">'维度字段JSON'</span><span>,  
</span><span>  `measure_fields` text COMMENT </span><span style="color: rgb(221, 17, 68);">'度量字段JSON'</span><span>,  
</span><span>  `filter_condition` text COMMENT </span><span style="color: rgb(221, 17, 68);">'过滤条件JSON'</span><span>,  
</span><span>  `sort_config` text COMMENT </span><span style="color: rgb(221, 17, 68);">'排序配置JSON'</span><span>,  
</span><span>  `style_config` text COMMENT </span><span style="color: rgb(221, 17, 68);">'样式配置JSON'</span><span>,  
</span><span>  `data_limit` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">int</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'1000'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'数据限制条数'</span><span>,  
</span><span>  `refresh_interval` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">int</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'刷新间隔(秒)'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`config_id`),  
</span>  KEY `idx_chart_id` (`chart_id`)  
<span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'图表配置表'</span><span>;  
</span>  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- ----------------------------  </span><span>
</span><span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- 租户数据库配置表  </span><span>
</span><span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- ----------------------------  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">DROP</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> IF </span><span style="color: rgb(51, 51, 51); font-weight: bold;">EXISTS</span><span> `tenant_database`;  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">CREATE</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `tenant_database` (  
</span><span>  `id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">36</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'主键ID'</span><span>,  
</span><span>  `tenant_id` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">20</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'租户ID'</span><span>,  
</span><span>  `db_name` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'数据库名称'</span><span>,  
</span><span>  `db_host` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'数据库主机'</span><span>,  
</span><span>  `db_port` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">int</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'数据库端口'</span><span>,  
</span><span>  `db_username` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">100</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'数据库用户名'</span><span>,  
</span><span>  `db_password` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">255</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'数据库密码(加密)'</span><span>,  
</span><span>  `status` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'1'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'状态(0停用,1启用)'</span><span>,  
</span><span>  `create_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建者'</span><span>,  
</span><span>  `create_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'创建时间'</span><span>,  
</span><span>  `update_by` </span><span style="color: rgb(68, 85, 136); font-weight: bold;">varchar</span><span>(</span><span style="color: rgb(0, 128, 128);">64</span><span>) </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">''</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新者'</span><span>,  
</span><span>  `update_time` datetime </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'更新时间'</span><span>,  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">PRIMARY</span><span> KEY (`id`),  
</span><span>  </span><span style="color: rgb(51, 51, 51); font-weight: bold;">UNIQUE</span><span> KEY `uk_tenant_id` (`tenant_id`)  
</span><span>) ENGINE</span><span class="hljs-operator">=</span><span>InnoDB </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> CHARSET</span><span class="hljs-operator">=</span><span>utf8 COMMENT</span><span class="hljs-operator">=</span><span style="color: rgb(221, 17, 68);">'租户数据库配置表'</span><span>;  
</span>  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- ----------------------------  </span><span>
</span><span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- 修改sys_company表，添加数据库状态字段  </span><span>
</span><span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- ----------------------------  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">ALTER</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">TABLE</span><span> `sys_company` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">ADD</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">COLUMN</span><span> `db_status` tinyint </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NOT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">NULL</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">DEFAULT</span><span> </span><span style="color: rgb(221, 17, 68);">'0'</span><span> COMMENT </span><span style="color: rgb(221, 17, 68);">'数据库状态(0未创建,1已创建,2创建失败)'</span><span>;  
</span>  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- ----------------------------  </span><span>
</span><span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- 添加菜单项  </span><span>
</span><span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- ----------------------------  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">INSERT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">INTO</span><span> `sys_menu` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">VALUES</span><span> (</span><span style="color: rgb(0, 128, 128);">3001</span><span>, </span><span style="color: rgb(221, 17, 68);">'表单管理'</span><span>, </span><span style="color: rgb(0, 128, 128);">0</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'form'</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'M'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(221, 17, 68);">'form'</span><span>, </span><span style="color: rgb(221, 17, 68);">'admin'</span><span>, NOW(), </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(221, 17, 68);">'表单管理菜单'</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">INSERT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">INTO</span><span> `sys_menu` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">VALUES</span><span> (</span><span style="color: rgb(0, 128, 128);">3002</span><span>, </span><span style="color: rgb(221, 17, 68);">'元数据管理'</span><span>, </span><span style="color: rgb(0, 128, 128);">3001</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'metadata'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form/metadata/index'</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'C'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form:metadata:list'</span><span>, </span><span style="color: rgb(221, 17, 68);">'table'</span><span>, </span><span style="color: rgb(221, 17, 68);">'admin'</span><span>, NOW(), </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(221, 17, 68);">'表单元数据管理菜单'</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">INSERT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">INTO</span><span> `sys_menu` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">VALUES</span><span> (</span><span style="color: rgb(0, 128, 128);">3003</span><span>, </span><span style="color: rgb(221, 17, 68);">'表单数据'</span><span>, </span><span style="color: rgb(0, 128, 128);">3001</span><span>, </span><span style="color: rgb(0, 128, 128);">2</span><span>, </span><span style="color: rgb(221, 17, 68);">'data'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form/data/index'</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'C'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form:data:list'</span><span>, </span><span style="color: rgb(221, 17, 68);">'list'</span><span>, </span><span style="color: rgb(221, 17, 68);">'admin'</span><span>, NOW(), </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(221, 17, 68);">'表单数据管理菜单'</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">INSERT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">INTO</span><span> `sys_menu` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">VALUES</span><span> (</span><span style="color: rgb(0, 128, 128);">3004</span><span>, </span><span style="color: rgb(221, 17, 68);">'业务规则'</span><span>, </span><span style="color: rgb(0, 128, 128);">3001</span><span>, </span><span style="color: rgb(0, 128, 128);">3</span><span>, </span><span style="color: rgb(221, 17, 68);">'rule'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form/rule/index'</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'C'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form:rule:list'</span><span>, </span><span style="color: rgb(221, 17, 68);">'tree'</span><span>, </span><span style="color: rgb(221, 17, 68);">'admin'</span><span>, NOW(), </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(221, 17, 68);">'业务规则管理菜单'</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">INSERT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">INTO</span><span> `sys_menu` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">VALUES</span><span> (</span><span style="color: rgb(0, 128, 128);">3005</span><span>, </span><span style="color: rgb(221, 17, 68);">'图表管理'</span><span>, </span><span style="color: rgb(0, 128, 128);">3001</span><span>, </span><span style="color: rgb(0, 128, 128);">4</span><span>, </span><span style="color: rgb(221, 17, 68);">'chart'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form/chart/index'</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'C'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form:chart:list'</span><span>, </span><span style="color: rgb(221, 17, 68);">'chart'</span><span>, </span><span style="color: rgb(221, 17, 68);">'admin'</span><span>, NOW(), </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(221, 17, 68);">'图表管理菜单'</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">INSERT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">INTO</span><span> `sys_menu` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">VALUES</span><span> (</span><span style="color: rgb(0, 128, 128);">3006</span><span>, </span><span style="color: rgb(221, 17, 68);">'租户数据库'</span><span>, </span><span style="color: rgb(0, 128, 128);">3001</span><span>, </span><span style="color: rgb(0, 128, 128);">5</span><span>, </span><span style="color: rgb(221, 17, 68);">'database'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form/database/index'</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'C'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form:database:list'</span><span>, </span><span style="color: rgb(221, 17, 68);">'database'</span><span>, </span><span style="color: rgb(221, 17, 68);">'admin'</span><span>, NOW(), </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(221, 17, 68);">'租户数据库管理菜单'</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span>  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">--  </span><span>
</span>  
<span>Wiki pages you might want </span><span style="color: rgb(51, 51, 51); font-weight: bold;">to</span><span> explore:  
</span><span></span><span class="hljs-operator">-</span><span> [CrowdMarket </span><span style="color: rgb(51, 51, 51); font-weight: bold;">System</span><span> Overview (</span><span style="color: rgb(0, 128, 128);">1211454975</span><span class="hljs-operator">/</span><span>crowdmarket)](</span><span class="hljs-operator">/</span><span>wiki</span><span class="hljs-operator">/</span><span style="color: rgb(0, 128, 128);">1211454975</span><span class="hljs-operator">/</span><span>crowdmarket#</span><span style="color: rgb(0, 128, 128);">1</span><span>)</span></code></pre></pre></div><div class="flex items-center gap-1 text-neutral-300"><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M234,80.12A24,24,0,0,0,216,72H160V56a40,40,0,0,0-40-40,8,8,0,0,0-7.16,4.42L75.06,96H32a16,16,0,0,0-16,16v88a16,16,0,0,0,16,16H204a24,24,0,0,0,23.82-21l12-96A24,24,0,0,0,234,80.12ZM32,112H72v88H32ZM223.94,97l-12,96a8,8,0,0,1-7.94,7H88V105.89l36.71-73.43A24,24,0,0,1,144,56V80a8,8,0,0,0,8,8h64a8,8,0,0,1,7.94,9Z"></path></svg></button><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M239.82,157l-12-96A24,24,0,0,0,204,40H32A16,16,0,0,0,16,56v88a16,16,0,0,0,16,16H75.06l37.78,75.58A8,8,0,0,0,120,240a40,40,0,0,0,40-40V184h56a24,24,0,0,0,23.82-27ZM72,144H32V56H72Zm150,21.29a7.88,7.88,0,0,1-6,2.71H152a8,8,0,0,0-8,8v24a24,24,0,0,1-19.29,23.54L88,150.11V56H204a8,8,0,0,1,7.94,7l12,96A7.87,7.87,0,0,1,222,165.29Z"></path></svg></button></div></div></div></div></div><div class="min-w-0 flex-1 scroll-smooth xl:[flex-grow:3]" style="scrollbar-width: thin; scrollbar-color: rgb(90, 90, 90) transparent; min-height: unset;"><div class="sticky left-0 top-0 overflow-y-auto rounded-md" style="max-height: calc(-55px + 100vh);"><div class="flex flex-col gap-2 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-3 dark:border-[#2f2f2f] dark:bg-[#141414]"><div data-state="closed"><button type="button" aria-controls="radix-«r34»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned multi_tenant.sql</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r34»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r35»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned SysUserMapper.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r35»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r36»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned SysRoleMapper.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r36»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r37»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned SysRoleDeptMapper.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r37»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r38»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned pom.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r38»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r39»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned SysJobLogMapper.xml</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r39»" hidden="" style=""></div></div></div></div></div></div><div class="mb-8 mt-16 h-px w-full bg-neutral-300 dark:bg-neutral-700"></div><div id="23" class="flex flex-col gap-3 pt-8 lg:flex-row" data-query-display="true" data-query-index="22"><div class="flex max-h-fit min-w-0 flex-1 flex-shrink-0 flex-col xl:[flex-grow:2]"><div class=""><div class="flex flex-col"><a class="flex items-center gap-2 text-base text-neutral-400 transition-colors hover:text-black dark:hover:text-white" href="https://deepwiki.com/1211454975/crowdmarket"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"></path></svg>return to 1211454975/crowdmarket</a><div class="flex flex-col items-start gap-2 text-white"><div class="group relative flex items-center"><span class="text-xl xl:text-2xl">还有吗？<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to query"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></span></div></div></div><div class="py-3"><div class="text-primary/70 flex flex-col items-start justify-between text-sm"><div class="mb-1"><div class="inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" viewBox="0 0 256 256" class="mr-1"><path d="M213.85,125.46l-112,120a8,8,0,0,1-13.69-7l14.66-73.33L45.19,143.49a8,8,0,0,1-3-13l112-120a8,8,0,0,1,13.69,7L153.18,90.9l57.63,21.61a8,8,0,0,1,3,12.95Z"></path></svg>Fast</div></div><div class="flex w-full items-center justify-between gap-2"><div class="">Searched across 1211454975/crowdmarket</div></div></div></div><div class="h-fit rounded-lg" style="scrollbar-width: thin; scrollbar-color: rgb(58, 58, 58) transparent;"><div class="dark:[&amp;_pre:has(code)]:bg-shade dark:[&amp;_code[data-lang]]:bg-shade relative flex flex-col gap-1 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-4 text-white [overflow-wrap:anywhere] dark:border-[#2F2F2F] dark:bg-[#141414] [&amp;_pre]:my-3"><div class="prose-custom prose-custom-md prose-custom-gray !max-w-none text-neutral-300 [overflow-wrap:anywhere]"><p>I'll continue with the SQL script for the metadata-driven form management system in the CrowdMarket framework.</p>
<h1 class="group flex items-center">Answer  </h1>
<p>您好！看起来您想要查看之前生成的SQL脚本的剩余部分。SQL脚本在最后一行显示了一个破折号（<code class="rounded-sm bg-[#e5e5e5] px-[0.25rem] py-[0.20rem] text-xs font-normal leading-[15px] before:hidden after:hidden dark:bg-[#484848]/30">--</code>），这表明脚本可能还有后续内容。以下是SQL脚本的剩余部分：</p>
<pre class="px-2 py-1.5 has-[code]:rounded-md has-[code]:!bg-[#e5e5e5] has-[div]:bg-transparent has-[div]:!p-0 has-[code]:text-stone-900 dark:has-[code]:!bg-[#242424] has-[code]:dark:text-white [&amp;_code]:block [&amp;_code]:border-none [&amp;_code]:bg-transparent [&amp;_code]:p-0"><pre style="display: block; overflow-x: auto; padding: 6px 8px; color: rgb(51, 51, 51); background: transparent; margin: 0px; width: 100%;"><code style="white-space: pre; font-size: 12px;"><span style="color: rgb(153, 153, 136); font-style: italic;">-- ----------------------------  </span><span>
</span><span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- 添加权限项  </span><span>
</span><span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- ----------------------------  </span><span>
</span><span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- 表单元数据管理权限  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">INSERT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">INTO</span><span> `sys_menu` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">VALUES</span><span> (</span><span style="color: rgb(0, 128, 128);">3101</span><span>, </span><span style="color: rgb(221, 17, 68);">'表单元数据查询'</span><span>, </span><span style="color: rgb(0, 128, 128);">3002</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'F'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form:metadata:query'</span><span>, </span><span style="color: rgb(221, 17, 68);">'#'</span><span>, </span><span style="color: rgb(221, 17, 68);">'admin'</span><span>, NOW(), </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">INSERT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">INTO</span><span> `sys_menu` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">VALUES</span><span> (</span><span style="color: rgb(0, 128, 128);">3102</span><span>, </span><span style="color: rgb(221, 17, 68);">'表单元数据新增'</span><span>, </span><span style="color: rgb(0, 128, 128);">3002</span><span>, </span><span style="color: rgb(0, 128, 128);">2</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'F'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form:metadata:add'</span><span>, </span><span style="color: rgb(221, 17, 68);">'#'</span><span>, </span><span style="color: rgb(221, 17, 68);">'admin'</span><span>, NOW(), </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">INSERT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">INTO</span><span> `sys_menu` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">VALUES</span><span> (</span><span style="color: rgb(0, 128, 128);">3103</span><span>, </span><span style="color: rgb(221, 17, 68);">'表单元数据修改'</span><span>, </span><span style="color: rgb(0, 128, 128);">3002</span><span>, </span><span style="color: rgb(0, 128, 128);">3</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'F'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form:metadata:edit'</span><span>, </span><span style="color: rgb(221, 17, 68);">'#'</span><span>, </span><span style="color: rgb(221, 17, 68);">'admin'</span><span>, NOW(), </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">INSERT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">INTO</span><span> `sys_menu` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">VALUES</span><span> (</span><span style="color: rgb(0, 128, 128);">3104</span><span>, </span><span style="color: rgb(221, 17, 68);">'表单元数据删除'</span><span>, </span><span style="color: rgb(0, 128, 128);">3002</span><span>, </span><span style="color: rgb(0, 128, 128);">4</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'F'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form:metadata:remove'</span><span>, </span><span style="color: rgb(221, 17, 68);">'#'</span><span>, </span><span style="color: rgb(221, 17, 68);">'admin'</span><span>, NOW(), </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">INSERT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">INTO</span><span> `sys_menu` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">VALUES</span><span> (</span><span style="color: rgb(0, 128, 128);">3105</span><span>, </span><span style="color: rgb(221, 17, 68);">'表单元数据导入'</span><span>, </span><span style="color: rgb(0, 128, 128);">3002</span><span>, </span><span style="color: rgb(0, 128, 128);">5</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'F'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form:metadata:import'</span><span>, </span><span style="color: rgb(221, 17, 68);">'#'</span><span>, </span><span style="color: rgb(221, 17, 68);">'admin'</span><span>, NOW(), </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">INSERT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">INTO</span><span> `sys_menu` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">VALUES</span><span> (</span><span style="color: rgb(0, 128, 128);">3106</span><span>, </span><span style="color: rgb(221, 17, 68);">'表单元数据导出'</span><span>, </span><span style="color: rgb(0, 128, 128);">3002</span><span>, </span><span style="color: rgb(0, 128, 128);">6</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'F'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form:metadata:export'</span><span>, </span><span style="color: rgb(221, 17, 68);">'#'</span><span>, </span><span style="color: rgb(221, 17, 68);">'admin'</span><span>, NOW(), </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span>  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- 表单数据管理权限  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">INSERT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">INTO</span><span> `sys_menu` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">VALUES</span><span> (</span><span style="color: rgb(0, 128, 128);">3201</span><span>, </span><span style="color: rgb(221, 17, 68);">'表单数据查询'</span><span>, </span><span style="color: rgb(0, 128, 128);">3003</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'F'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form:data:query'</span><span>, </span><span style="color: rgb(221, 17, 68);">'#'</span><span>, </span><span style="color: rgb(221, 17, 68);">'admin'</span><span>, NOW(), </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">INSERT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">INTO</span><span> `sys_menu` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">VALUES</span><span> (</span><span style="color: rgb(0, 128, 128);">3202</span><span>, </span><span style="color: rgb(221, 17, 68);">'表单数据新增'</span><span>, </span><span style="color: rgb(0, 128, 128);">3003</span><span>, </span><span style="color: rgb(0, 128, 128);">2</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'F'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form:data:add'</span><span>, </span><span style="color: rgb(221, 17, 68);">'#'</span><span>, </span><span style="color: rgb(221, 17, 68);">'admin'</span><span>, NOW(), </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">INSERT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">INTO</span><span> `sys_menu` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">VALUES</span><span> (</span><span style="color: rgb(0, 128, 128);">3203</span><span>, </span><span style="color: rgb(221, 17, 68);">'表单数据修改'</span><span>, </span><span style="color: rgb(0, 128, 128);">3003</span><span>, </span><span style="color: rgb(0, 128, 128);">3</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'F'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form:data:edit'</span><span>, </span><span style="color: rgb(221, 17, 68);">'#'</span><span>, </span><span style="color: rgb(221, 17, 68);">'admin'</span><span>, NOW(), </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">INSERT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">INTO</span><span> `sys_menu` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">VALUES</span><span> (</span><span style="color: rgb(0, 128, 128);">3204</span><span>, </span><span style="color: rgb(221, 17, 68);">'表单数据删除'</span><span>, </span><span style="color: rgb(0, 128, 128);">3003</span><span>, </span><span style="color: rgb(0, 128, 128);">4</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'F'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form:data:remove'</span><span>, </span><span style="color: rgb(221, 17, 68);">'#'</span><span>, </span><span style="color: rgb(221, 17, 68);">'admin'</span><span>, NOW(), </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">INSERT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">INTO</span><span> `sys_menu` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">VALUES</span><span> (</span><span style="color: rgb(0, 128, 128);">3205</span><span>, </span><span style="color: rgb(221, 17, 68);">'表单数据导入'</span><span>, </span><span style="color: rgb(0, 128, 128);">3003</span><span>, </span><span style="color: rgb(0, 128, 128);">5</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'F'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form:data:import'</span><span>, </span><span style="color: rgb(221, 17, 68);">'#'</span><span>, </span><span style="color: rgb(221, 17, 68);">'admin'</span><span>, NOW(), </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">INSERT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">INTO</span><span> `sys_menu` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">VALUES</span><span> (</span><span style="color: rgb(0, 128, 128);">3206</span><span>, </span><span style="color: rgb(221, 17, 68);">'表单数据导出'</span><span>, </span><span style="color: rgb(0, 128, 128);">3003</span><span>, </span><span style="color: rgb(0, 128, 128);">6</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'F'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form:data:export'</span><span>, </span><span style="color: rgb(221, 17, 68);">'#'</span><span>, </span><span style="color: rgb(221, 17, 68);">'admin'</span><span>, NOW(), </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span>  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- 业务规则管理权限  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">INSERT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">INTO</span><span> `sys_menu` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">VALUES</span><span> (</span><span style="color: rgb(0, 128, 128);">3301</span><span>, </span><span style="color: rgb(221, 17, 68);">'业务规则查询'</span><span>, </span><span style="color: rgb(0, 128, 128);">3004</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'F'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form:rule:query'</span><span>, </span><span style="color: rgb(221, 17, 68);">'#'</span><span>, </span><span style="color: rgb(221, 17, 68);">'admin'</span><span>, NOW(), </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">INSERT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">INTO</span><span> `sys_menu` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">VALUES</span><span> (</span><span style="color: rgb(0, 128, 128);">3302</span><span>, </span><span style="color: rgb(221, 17, 68);">'业务规则新增'</span><span>, </span><span style="color: rgb(0, 128, 128);">3004</span><span>, </span><span style="color: rgb(0, 128, 128);">2</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'F'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form:rule:add'</span><span>, </span><span style="color: rgb(221, 17, 68);">'#'</span><span>, </span><span style="color: rgb(221, 17, 68);">'admin'</span><span>, NOW(), </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">INSERT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">INTO</span><span> `sys_menu` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">VALUES</span><span> (</span><span style="color: rgb(0, 128, 128);">3303</span><span>, </span><span style="color: rgb(221, 17, 68);">'业务规则修改'</span><span>, </span><span style="color: rgb(0, 128, 128);">3004</span><span>, </span><span style="color: rgb(0, 128, 128);">3</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'F'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form:rule:edit'</span><span>, </span><span style="color: rgb(221, 17, 68);">'#'</span><span>, </span><span style="color: rgb(221, 17, 68);">'admin'</span><span>, NOW(), </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">INSERT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">INTO</span><span> `sys_menu` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">VALUES</span><span> (</span><span style="color: rgb(0, 128, 128);">3304</span><span>, </span><span style="color: rgb(221, 17, 68);">'业务规则删除'</span><span>, </span><span style="color: rgb(0, 128, 128);">3004</span><span>, </span><span style="color: rgb(0, 128, 128);">4</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'F'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form:rule:remove'</span><span>, </span><span style="color: rgb(221, 17, 68);">'#'</span><span>, </span><span style="color: rgb(221, 17, 68);">'admin'</span><span>, NOW(), </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span>  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- 图表管理权限  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">INSERT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">INTO</span><span> `sys_menu` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">VALUES</span><span> (</span><span style="color: rgb(0, 128, 128);">3401</span><span>, </span><span style="color: rgb(221, 17, 68);">'图表查询'</span><span>, </span><span style="color: rgb(0, 128, 128);">3005</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'F'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form:chart:query'</span><span>, </span><span style="color: rgb(221, 17, 68);">'#'</span><span>, </span><span style="color: rgb(221, 17, 68);">'admin'</span><span>, NOW(), </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">INSERT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">INTO</span><span> `sys_menu` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">VALUES</span><span> (</span><span style="color: rgb(0, 128, 128);">3402</span><span>, </span><span style="color: rgb(221, 17, 68);">'图表新增'</span><span>, </span><span style="color: rgb(0, 128, 128);">3005</span><span>, </span><span style="color: rgb(0, 128, 128);">2</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'F'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form:chart:add'</span><span>, </span><span style="color: rgb(221, 17, 68);">'#'</span><span>, </span><span style="color: rgb(221, 17, 68);">'admin'</span><span>, NOW(), </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">INSERT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">INTO</span><span> `sys_menu` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">VALUES</span><span> (</span><span style="color: rgb(0, 128, 128);">3403</span><span>, </span><span style="color: rgb(221, 17, 68);">'图表修改'</span><span>, </span><span style="color: rgb(0, 128, 128);">3005</span><span>, </span><span style="color: rgb(0, 128, 128);">3</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'F'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form:chart:edit'</span><span>, </span><span style="color: rgb(221, 17, 68);">'#'</span><span>, </span><span style="color: rgb(221, 17, 68);">'admin'</span><span>, NOW(), </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">INSERT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">INTO</span><span> `sys_menu` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">VALUES</span><span> (</span><span style="color: rgb(0, 128, 128);">3404</span><span>, </span><span style="color: rgb(221, 17, 68);">'图表删除'</span><span>, </span><span style="color: rgb(0, 128, 128);">3005</span><span>, </span><span style="color: rgb(0, 128, 128);">4</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'F'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form:chart:remove'</span><span>, </span><span style="color: rgb(221, 17, 68);">'#'</span><span>, </span><span style="color: rgb(221, 17, 68);">'admin'</span><span>, NOW(), </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">INSERT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">INTO</span><span> `sys_menu` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">VALUES</span><span> (</span><span style="color: rgb(0, 128, 128);">3405</span><span>, </span><span style="color: rgb(221, 17, 68);">'图表导出'</span><span>, </span><span style="color: rgb(0, 128, 128);">3005</span><span>, </span><span style="color: rgb(0, 128, 128);">5</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'F'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form:chart:export'</span><span>, </span><span style="color: rgb(221, 17, 68);">'#'</span><span>, </span><span style="color: rgb(221, 17, 68);">'admin'</span><span>, NOW(), </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span>  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- 租户数据库管理权限  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">INSERT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">INTO</span><span> `sys_menu` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">VALUES</span><span> (</span><span style="color: rgb(0, 128, 128);">3501</span><span>, </span><span style="color: rgb(221, 17, 68);">'租户数据库查询'</span><span>, </span><span style="color: rgb(0, 128, 128);">3006</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'F'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form:database:query'</span><span>, </span><span style="color: rgb(221, 17, 68);">'#'</span><span>, </span><span style="color: rgb(221, 17, 68);">'admin'</span><span>, NOW(), </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">INSERT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">INTO</span><span> `sys_menu` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">VALUES</span><span> (</span><span style="color: rgb(0, 128, 128);">3502</span><span>, </span><span style="color: rgb(221, 17, 68);">'租户数据库新增'</span><span>, </span><span style="color: rgb(0, 128, 128);">3006</span><span>, </span><span style="color: rgb(0, 128, 128);">2</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'F'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form:database:add'</span><span>, </span><span style="color: rgb(221, 17, 68);">'#'</span><span>, </span><span style="color: rgb(221, 17, 68);">'admin'</span><span>, NOW(), </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">INSERT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">INTO</span><span> `sys_menu` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">VALUES</span><span> (</span><span style="color: rgb(0, 128, 128);">3503</span><span>, </span><span style="color: rgb(221, 17, 68);">'租户数据库修改'</span><span>, </span><span style="color: rgb(0, 128, 128);">3006</span><span>, </span><span style="color: rgb(0, 128, 128);">3</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'F'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form:database:edit'</span><span>, </span><span style="color: rgb(221, 17, 68);">'#'</span><span>, </span><span style="color: rgb(221, 17, 68);">'admin'</span><span>, NOW(), </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">INSERT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">INTO</span><span> `sys_menu` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">VALUES</span><span> (</span><span style="color: rgb(0, 128, 128);">3504</span><span>, </span><span style="color: rgb(221, 17, 68);">'租户数据库删除'</span><span>, </span><span style="color: rgb(0, 128, 128);">3006</span><span>, </span><span style="color: rgb(0, 128, 128);">4</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'F'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form:database:remove'</span><span>, </span><span style="color: rgb(221, 17, 68);">'#'</span><span>, </span><span style="color: rgb(221, 17, 68);">'admin'</span><span>, NOW(), </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">INSERT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">INTO</span><span> `sys_menu` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">VALUES</span><span> (</span><span style="color: rgb(0, 128, 128);">3505</span><span>, </span><span style="color: rgb(221, 17, 68);">'租户数据库创建'</span><span>, </span><span style="color: rgb(0, 128, 128);">3006</span><span>, </span><span style="color: rgb(0, 128, 128);">5</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'F'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form:database:create'</span><span>, </span><span style="color: rgb(221, 17, 68);">'#'</span><span>, </span><span style="color: rgb(221, 17, 68);">'admin'</span><span>, NOW(), </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">INSERT</span><span> </span><span style="color: rgb(51, 51, 51); font-weight: bold;">INTO</span><span> `sys_menu` </span><span style="color: rgb(51, 51, 51); font-weight: bold;">VALUES</span><span> (</span><span style="color: rgb(0, 128, 128);">3506</span><span>, </span><span style="color: rgb(221, 17, 68);">'租户数据库测试'</span><span>, </span><span style="color: rgb(0, 128, 128);">3006</span><span>, </span><span style="color: rgb(0, 128, 128);">6</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>, </span><span style="color: rgb(221, 17, 68);">'F'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'0'</span><span>, </span><span style="color: rgb(221, 17, 68);">'form:database:test'</span><span>, </span><span style="color: rgb(221, 17, 68);">'#'</span><span>, </span><span style="color: rgb(221, 17, 68);">'admin'</span><span>, NOW(), </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(51, 51, 51); font-weight: bold;">null</span><span>, </span><span style="color: rgb(221, 17, 68);">''</span><span>, </span><span style="color: rgb(0, 128, 128);">1</span><span>);  
</span>  
<span></span><span style="color: rgb(153, 153, 136); font-style: italic;">-- 重置外键检查  </span><span>
</span><span></span><span style="color: rgb(51, 51, 51); font-weight: bold;">SET</span><span> FOREIGN_KEY_CHECKS </span><span class="hljs-operator">=</span><span> </span><span style="color: rgb(0, 128, 128);">1</span><span>;</span></code></pre></pre>
<p>这部分脚本主要添加了与表单管理模块相关的权限项，包括：</p>
<ol>
<li>表单元数据管理权限</li>
<li>表单数据管理权限</li>
<li>业务规则管理权限</li>
<li>图表管理权限</li>
<li>租户数据库管理权限</li>
</ol>
<p>每个权限项都包括查询、新增、修改、删除等基本操作权限，以及一些特定功能的权限（如导入、导出、测试等）。</p>
<p>最后，脚本重置了外键检查，确保数据库完整性约束生效。</p>
<p>这样，整个SQL脚本就完整了，包含了创建所有必要表结构、添加菜单项和权限项的所有SQL语句，可以直接在数据库中运行以初始化元数据驱动表单管理系统所需的数据库环境。</p>
<h2 class="group flex items-center">Notes  </h2>
<p>这个SQL脚本是基于之前讨论的元数据驱动表单管理系统设计文档生成的，它创建了所有必要的数据库表和权限配置，以支持表单设计、数据管理、业务规则管理、图表管理和租户数据库管理等功能。</p></div><div class="flex items-center gap-1 text-neutral-300"><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M234,80.12A24,24,0,0,0,216,72H160V56a40,40,0,0,0-40-40,8,8,0,0,0-7.16,4.42L75.06,96H32a16,16,0,0,0-16,16v88a16,16,0,0,0,16,16H204a24,24,0,0,0,23.82-21l12-96A24,24,0,0,0,234,80.12ZM32,112H72v88H32ZM223.94,97l-12,96a8,8,0,0,1-7.94,7H88V105.89l36.71-73.43A24,24,0,0,1,144,56V80a8,8,0,0,0,8,8h64a8,8,0,0,1,7.94,9Z"></path></svg></button><button class="rounded-lg p-1.5 transition-colors hover:bg-white/10 hover:text-white"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M239.82,157l-12-96A24,24,0,0,0,204,40H32A16,16,0,0,0,16,56v88a16,16,0,0,0,16,16H75.06l37.78,75.58A8,8,0,0,0,120,240a40,40,0,0,0,40-40V184h56a24,24,0,0,0,23.82-27ZM72,144H32V56H72Zm150,21.29a7.88,7.88,0,0,1-6,2.71H152a8,8,0,0,0-8,8v24a24,24,0,0,1-19.29,23.54L88,150.11V56H204a8,8,0,0,1,7.94,7l12,96A7.87,7.87,0,0,1,222,165.29Z"></path></svg></button></div></div></div></div></div><div class="min-w-0 flex-1 scroll-smooth xl:[flex-grow:3]" style="scrollbar-width: thin; scrollbar-color: rgb(90, 90, 90) transparent; min-height: unset;"><div class="sticky left-0 top-0 overflow-y-auto rounded-md" style="max-height: calc(-55px + 100vh);"><div class="flex flex-col gap-2 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-3 dark:border-[#2f2f2f] dark:bg-[#141414]"><div data-state="closed"><button type="button" aria-controls="radix-«r3a»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned index-tree.vue.vm</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r3a»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r3b»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned index.vue</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r3b»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r3c»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned index.vue</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r3c»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r3d»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned index.vue.vm</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r3d»" hidden="" style=""></div></div><div data-state="closed"><button type="button" aria-controls="radix-«r3e»" aria-expanded="false" data-state="closed" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanned index.vue</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" id="radix-«r3e»" hidden="" style=""></div></div></div></div></div></div><div class="mb-8 mt-16 h-px w-full bg-neutral-300 dark:bg-neutral-700"></div><div id="24" class="flex flex-col gap-3 pt-8 lg:flex-row" data-query-display="true" data-query-index="23"><div class="flex max-h-fit min-w-0 flex-1 flex-shrink-0 flex-col xl:[flex-grow:2]"><div class=""><div class="flex flex-col"><a class="flex items-center gap-2 text-base text-neutral-400 transition-colors hover:text-black dark:hover:text-white" href="https://deepwiki.com/1211454975/crowdmarket"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 256 256"><path d="M224,128a8,8,0,0,1-8,8H59.31l58.35,58.34a8,8,0,0,1-11.32,11.32l-72-72a8,8,0,0,1,0-11.32l72-72a8,8,0,0,1,11.32,11.32L59.31,120H216A8,8,0,0,1,224,128Z"></path></svg>return to 1211454975/crowdmarket</a><div class="flex flex-col items-start gap-2 text-white"><div class="group relative flex items-center"><span class="text-base xl:text-lg" style="overflow-wrap: anywhere;">现在我们根据这些数据库模型，开始设计模块的代码生成，请先仔细回顾一下前面的业务需求分析和总体设计，以及数据库的模型，开始设计与生成所有的代码。整个生成过程需要保持前端代码和后端代码在逻辑上的一致性，在整体风格上应该与现有的代码库上前后端保持一致。在生成过程中，可以按照如下步骤循序渐进生成：1. 先生成设计模块后端，在生成设计模块前端，生成后需要统一检查前后端逻辑是否一致；2.先生成运行时后端，在生...<button class="relative ml-2 cursor-pointer text-gray-400 opacity-0 transition-opacity hover:text-blue-400 focus:opacity-100 group-hover:opacity-100" aria-label="Copy link to query"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="h-4 w-4"><path d="M117.18,188.74a12,12,0,0,1,0,17l-5.12,5.12A58.26,58.26,0,0,1,70.6,228h0A58.62,58.62,0,0,1,29.14,127.92L63.89,93.17a58.64,58.64,0,0,1,98.56,28.11,12,12,0,1,1-23.37,5.44,34.65,34.65,0,0,0-58.22-16.58L46.11,144.89A34.62,34.62,0,0,0,70.57,204h0a34.41,34.41,0,0,0,24.49-10.14l5.11-5.12A12,12,0,0,1,117.18,188.74ZM226.83,45.17a58.65,58.65,0,0,0-82.93,0l-5.11,5.11a12,12,0,0,0,17,17l5.12-5.12a34.63,34.63,0,1,1,49,49L175.1,145.86A34.39,34.39,0,0,1,150.61,156h0a34.63,34.63,0,0,1-33.69-26.72,12,12,0,0,0-23.38,5.44A58.64,58.64,0,0,0,150.56,180h.05a58.28,58.28,0,0,0,41.47-17.17l34.75-34.75a58.62,58.62,0,0,0,0-82.91Z"></path></svg></button></span></div><button class="text-sm text-neutral-400 underline">Show full text</button></div></div><div class="py-3"><div class="text-primary/70 flex flex-col items-start justify-between text-sm"><div class="mb-1"><div class="inline-flex items-center rounded-full px-2.5 py-1 text-xs font-medium text-neutral-400"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="currentColor" viewBox="0 0 256 256" class="mr-1"><path d="M213.85,125.46l-112,120a8,8,0,0,1-13.69-7l14.66-73.33L45.19,143.49a8,8,0,0,1-3-13l112-120a8,8,0,0,1,13.69,7L153.18,90.9l57.63,21.61a8,8,0,0,1,3,12.95Z"></path></svg>Fast</div></div><div class="flex w-full items-center justify-between gap-2"><div class="">Searched across 1211454975/crowdmarket</div></div><div class="mt-4 w-full rounded-md bg-red-500/10 px-3 py-2 text-red-500"><div class="flex gap-2"><span class="font-medium">Error:</span><span>An error occurred while running the query, please contact support</span></div></div></div></div><div class="h-fit rounded-lg" style="scrollbar-width: thin; scrollbar-color: rgb(58, 58, 58) transparent;"><div class="rounded-md bg-[#f0f0f0] p-4 dark:bg-[#141414]"><div class="flex animate-pulse flex-col gap-2"><div class="h-4 rounded-full bg-[#e0e0e0] dark:bg-[#242424]" style="width: 83%;"></div><div class="h-4 rounded-full bg-[#e0e0e0] dark:bg-[#242424]" style="width: 53%;"></div><div class="h-4 rounded-full bg-[#e0e0e0] dark:bg-[#242424]" style="width: 79%;"></div><div class="h-4 rounded-full bg-[#e0e0e0] dark:bg-[#242424]" style="width: 64%;"></div><div class="h-4 rounded-full bg-[#e0e0e0] dark:bg-[#242424]" style="width: 67%;"></div></div></div></div></div></div><div class="min-w-0 flex-1 scroll-smooth xl:[flex-grow:3]" style="scrollbar-width: thin; scrollbar-color: rgb(90, 90, 90) transparent; min-height: calc(-205px + 100vh);"><div class="sticky left-0 top-0 overflow-y-auto rounded-md" style="max-height: calc(-145px + 100vh);"><div class="flex flex-col gap-2 rounded-md border-[0.5px] border-[#d0d0d0] bg-[#f8f8f8] p-3 dark:border-[#2f2f2f] dark:bg-[#141414]"><div data-state="closed" data-disabled=""><button type="button" aria-controls="radix-«r3f»" aria-expanded="false" data-state="closed" data-disabled="" disabled="" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanning VelocityUtils.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" data-disabled="" id="radix-«r3f»" hidden="" style=""></div></div><div data-state="closed" data-disabled=""><button type="button" aria-controls="radix-«r3g»" aria-expanded="false" data-state="closed" data-disabled="" disabled="" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanning GenController.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" data-disabled="" id="radix-«r3g»" hidden="" style=""></div></div><div data-state="closed" data-disabled=""><button type="button" aria-controls="radix-«r3h»" aria-expanded="false" data-state="closed" data-disabled="" disabled="" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanning GenTableServiceImpl.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" data-disabled="" id="radix-«r3h»" hidden="" style=""></div></div><div data-state="closed" data-disabled=""><button type="button" aria-controls="radix-«r3i»" aria-expanded="false" data-state="closed" data-disabled="" disabled="" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanning multi_tenant.sql</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" data-disabled="" id="radix-«r3i»" hidden="" style=""></div></div><div data-state="closed" data-disabled=""><button type="button" aria-controls="radix-«r3j»" aria-expanded="false" data-state="closed" data-disabled="" disabled="" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanning GenTable.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" data-disabled="" id="radix-«r3j»" hidden="" style=""></div></div><div data-state="closed" data-disabled=""><button type="button" aria-controls="radix-«r3k»" aria-expanded="false" data-state="closed" data-disabled="" disabled="" class="w-full"><div class="flex items-center gap-2 text-sm text-neutral-300" style="opacity: 1; transform: none;"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" fill="currentColor" viewBox="0 0 256 256" class="size-4 transition-transform"><path d="M181.66,133.66l-80,80a8,8,0,0,1-11.32-11.32L164.69,128,90.34,53.66a8,8,0,0,1,11.32-11.32l80,80A8,8,0,0,1,181.66,133.66Z"></path></svg><div class="truncate">Scanning GenTableColumnServiceImpl.java</div><div class="h-[2px] flex-1 bg-neutral-200 dark:bg-neutral-700" style="transform: none;"></div></div></button><div data-state="closed" data-disabled="" id="radix-«r3k»" hidden="" style=""></div></div></div></div></div></div></div><div class="pointer-events-none fixed bottom-2 left-2 right-2 mt-2 md:bottom-4 md:left-0 md:right-0"><div class="z-10 mx-auto max-w-3xl"><form class="z-20 w-full rounded-md ring-[0.5px] ring-[#353535] backdrop-blur-md transition-shadow [pointer-events:all] focus-within:ring-neutral-700 bg-component/70 border border-indigo-300/20 shadow-lg shadow-indigo-500/20 [backdrop-filter:blur(8px)] dark:[backdrop-filter:blur(8px)_contrast(90%)_brightness(60%)]"><div class=""><div class="relative text-base font-normal"><div class="relative px-3 pt-3"><textarea placeholder="" rows="2" class="w-full resize-none rounded-none bg-transparent text-white focus:outline-none text-base" style="height: 144px;">现在我们根据这些数据库模型，开始设计模块的代码生成，请先仔细回顾一下前面的业务需求分析和总体设计，以及数据库的模型，开始设计与生成所有的代码。整个生成过程需要保持前端代码和后端代码在逻辑上的一致性，在整体风格上应该与现有的代码库上前后端保持一致。在生成过程中，可以按照如下步骤循序渐进生成：1.1. 先生成设计模块后端，1.2 再生成设计模块前端，生成后需要统一检查前后端逻辑是否一致；2.1.先生成运行时后端，2.2 再生成运行时前端，生成后需要统一检查前后端逻辑是否一致；可以采取逐段生成。</textarea></div></div></div><div class="flex h-12 items-center justify-between border-t-[0.5px] border-t-[#8f8f8f] dark:border-t-[#353535] p-3"><div class="flex items-center text-sm gap-4"><div class="flex items-center gap-1 sm:gap-2"><div class="flex gap-2 sm:items-center"><label for="useDeep" class="text-text-dark dark:text-text-light flex cursor-text items-center gap-1 text-sm">Deep Research</label><div id="useDeep" class="relative inline-flex h-6 w-11 items-center rounded-full cursor-pointer border-[1px] border-[#b0b0b0] p-[1px] shadow-none dark:border-[#535353] dark:data-[state=checked]:bg-[#ef9541]/30 dark:data-[state=unchecked]:bg-[#181818]"><div class="absolute bottom-0 top-0 my-auto h-5 w-5 rounded-full bg-white shadow-md data-[state=unchecked]:bg-[#535353] data-[state=checked]:bg-[#ef9541]/80 cursor-pointer" style="transform: none;"></div><div class="h-full w-full rounded-full transition-colors duration-200 ease-in-out bg-[#d5d5d5] dark:bg-[#535353]"></div></div></div></div></div><div class="flex items-center gap-2"><button class="rounded-full bg-[#e0e0e0] p-1 text-neutral-400 transition-colors dark:bg-neutral-700" disabled=""><div class="animate-spin"><svg class="h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg></div></button></div></div></form></div></div></div></div></div><!--$--><!--/$--><!--$--><!--/$--><script src="./DeepWiki _ AI documentation you can talk to, for every repo_files/webpack-acbbbb548492d4a6.js.下载" async=""></script><script>$RC=function(b,c,e){c=document.getElementById(c);c.parentNode.removeChild(c);var a=document.getElementById(b);if(a){b=a.previousSibling;if(e)b.data="$!",a.setAttribute("data-dgst",e);else{e=b.parentNode;a=b.nextSibling;var f=0;do{if(a&&8===a.nodeType){var d=a.data;if("/$"===d)if(0===f)break;else f--;else"$"!==d&&"$?"!==d&&"$!"!==d||f++}d=a.nextSibling;e.removeChild(a);a=d}while(a);for(;c.firstChild;)e.insertBefore(c.firstChild,a);b.data="$"}b._reactRetry&&b._reactRetry()}};$RC("B:0","S:0")</script><script>$RC("B:1","S:1")</script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[54276,[\"9453\",\"static/chunks/b1298b8d-549c141f97a3b262.js?dpl=dpl_FtH55N483hGiuv7EiiHjzmWv728e\",\"8970\",\"static/chunks/378e5a93-3b0f971d3611a8a5.js?dpl=dpl_FtH55N483hGiuv7EiiHjzmWv728e\",\"1585\",\"static/chunks/f7f68e2d-40290491c524df5c.js?dpl=dpl_FtH55N483hGiuv7EiiHjzmWv728e\",\"5009\",\"static/chunks/5009-cf1c1739f4eccbfa.js?dpl=dpl_FtH55N483hGiuv7EiiHjzmWv728e\",\"3377\",\"static/chunks/3377-d302682beb4206f6.js?dpl=dpl_FtH55N483hGiuv7EiiHjzmWv728e\",\"6671\",\"static/chunks/6671-b0da8a89e8d16b02.js?dpl=dpl_FtH55N483hGiuv7EiiHjzmWv728e\",\"3852\",\"static/chunks/3852-f786c46570f1c37a.js?dpl=dpl_FtH55N483hGiuv7EiiHjzmWv728e\",\"7177\",\"static/chunks/app/layout-069cb77866786652.js?dpl=dpl_FtH55N483hGiuv7EiiHjzmWv728e\"],\"RootProvider\"]\n3:I[87555,[],\"\"]\n4:I[31295,[],\"\"]\n5:I[90894,[],\"ClientPageRoot\"]\n6:I[38340,[\"9453\",\"static/chunks/b1298b8d-549c141f97a3b262.js?dpl=dpl_FtH55N483hGiuv7EiiHjzmWv728e\",\"8970\",\"static/chunks/378e5a93-3b0f971d3611a8a5.js?dpl=dpl_FtH55N483hGiuv7EiiHjzmWv728e\",\"1585\",\"static/chunks/f7f68e2d-40290491c524df5c.js?dpl=dpl_FtH55N483hGiuv7EiiHjzmWv728e\",\"4129\",\"static/chunks/7bf36345-20a79815585d2583.js?dpl=dpl_FtH55N483hGiuv7EiiHjzmWv728e\",\"2545\",\"static/chunks/c16f53c3-c80d3b6d0c4af7a0.js?dpl=dpl_FtH55N483hGiuv7EiiHjzmWv728e\",\"537\",\"static/chunks/537-d9d5e9261de3e69c.js?dpl=dpl_FtH55N483hGiuv7EiiHjzmWv728e\",\"5009\",\"static/chunks/5009-cf1c1739f4eccbfa.js?dpl=dpl_FtH55N483hGiuv7EiiHjzmWv728e\",\"3377\",\"static/chunks/3377-d302682beb4206f6.js?dpl=dpl_FtH55N483hGiuv7EiiHjzmWv728e\",\"2136\",\"static/chunks/2136-0f8d797058c844d4.js?dpl=dpl_FtH55N483hGiuv7EiiHjzmWv728e\",\"6671\",\"static/chunks/6671-b0da8a89e8d16b02.js?dpl=dpl_FtH55N483hGiuv7EiiHjzmWv728e\",\"5217\",\"static/chunks/5217-9d83ca492e50c5ed.js?dpl=dpl_FtH55N483hGiuv7EiiHjzmWv728e\",\"9514\",\"static/chunks/9514-78acba0a55208c16.js?dpl=dpl_FtH55N483hGiuv7EiiHjzmWv728e\",\"168\",\"static/chunks/168-d8e567d7acd9a9f8.js?dpl=dpl_FtH55N483hGiuv7EiiHjzmWv728e\",\"5938\",\"static/chunks/5938-519c27ef114f0cd3.js?dpl=dpl_FtH55N483hGiuv7EiiHjzmWv728e\",\"6422\",\"static/chun"])</script><script>self.__next_f.push([1,"ks/6422-90b4a59eb579f66b.js?dpl=dpl_FtH55N483hGiuv7EiiHjzmWv728e\",\"3852\",\"static/chunks/3852-f786c46570f1c37a.js?dpl=dpl_FtH55N483hGiuv7EiiHjzmWv728e\",\"7276\",\"static/chunks/7276-c86c83812f0fb8ad.js?dpl=dpl_FtH55N483hGiuv7EiiHjzmWv728e\",\"7111\",\"static/chunks/7111-a7096d6b9901350a.js?dpl=dpl_FtH55N483hGiuv7EiiHjzmWv728e\",\"3239\",\"static/chunks/3239-be1b92c3873b597a.js?dpl=dpl_FtH55N483hGiuv7EiiHjzmWv728e\",\"5049\",\"static/chunks/app/search/%5Bslug%5D/page-5656bcf3c53e5305.js?dpl=dpl_FtH55N483hGiuv7EiiHjzmWv728e\"],\"default\"]\n7:I[59665,[],\"MetadataBoundary\"]\n9:I[59665,[],\"OutletBoundary\"]\nc:I[74911,[],\"AsyncMetadataOutlet\"]\ne:I[59665,[],\"ViewportBoundary\"]\n10:I[26614,[],\"\"]\n11:\"$Sreact.suspense\"\n12:I[74911,[],\"AsyncMetadata\"]\n:HL[\"/_next/static/media/569ce4b8f30dc480-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/93f479601ee12b01-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/f30152c0704fba31.css?dpl=dpl_FtH55N483hGiuv7EiiHjzmWv728e\",\"style\"]\n:HL[\"/_next/static/css/a9b1eca4ad71d9b0.css?dpl=dpl_FtH55N483hGiuv7EiiHjzmWv728e\",\"style\"]\n:HL[\"/_next/static/media/3478b6abef19b3b3-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/97aa57a0cb43847d.css?dpl=dpl_FtH55N483hGiuv7EiiHjzmWv728e\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"kcl6bu0NjDNCNPYs4kOwK\",\"p\":\"\",\"c\":[\"\",\"search\",\"_dd232342-720e-45e5-a4bd-016f04757a5f\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"search\",{\"children\":[[\"slug\",\"_dd232342-720e-45e5-a4bd-016f04757a5f\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/f30152c0704fba31.css?dpl=dpl_FtH55N483hGiuv7EiiHjzmWv728e\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/a9b1eca4ad71d9b0.css?dpl=dpl_FtH55N483hGiuv7EiiHjzmWv728e\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"head\",null,{}],[\"$\",\"body\",null,{\"className\":\"__variable_5cfdac font-geist-sans relative min-h-screen __variable_9a8899 bg-background antialiased\",\"children\":[\"$\",\"$L2\",null,{\"children\":[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]]}]]}],{\"children\":[\"search\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"_dd232342-720e-45e5-a4bd-016f04757a5f\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[[\"$\",\"$L5\",null,{\"Component\":\"$6\",\"searchParams\":{},\"params\":{\"slug\":\"_dd232342-720e-45e5-a4bd-016f04757a5f\"}}],[\"$\",\"$L7\",null,{\"children\":\"$L8\"}],[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/97aa57a0cb43847d.css?dpl=dpl_FtH55N483hGiuv7EiiHjzmWv728e\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"$L9\",null,{\"children\":[\"$La\",\"$Lb\",[\"$\",\"$Lc\",null,{\"promise\":\"$@d\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"pjYw1cPZofz9HdFZuuOcN\",{\"children\":[[\"$\",\"$Le\",null,{\"children\":\"$Lf\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],null]}],false]],\"m\":\"$undefined\",\"G\":[\"$10\",\"$undefined\"],\"s\":false,\"S\":false}\n"])</script><script>self.__next_f.push([1,"8:[\"$\",\"$11\",null,{\"fallback\":null,\"children\":[\"$\",\"$L12\",null,{\"promise\":\"$@13\"}]}]\nb:null\nf:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\na:null\n"])</script><script>self.__next_f.push([1,"13:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"DeepWiki | AI documentation you can talk to, for every repo\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"DeepWiki provides up-to-date documentation you can talk to, for every repo in the world. Think Deep Research for GitHub - powered by Devin.\"}],[\"$\",\"meta\",\"2\",{\"property\":\"og:title\",\"content\":\"DeepWiki | AI documentation you can talk to, for every repo\"}],[\"$\",\"meta\",\"3\",{\"property\":\"og:description\",\"content\":\"DeepWiki provides up-to-date documentation you can talk to, for every repo in the world. Think Deep Research for GitHub - powered by Devin.\"}],[\"$\",\"meta\",\"4\",{\"property\":\"og:url\",\"content\":\"https://deepwiki.com\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:site_name\",\"content\":\"DeepWiki\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:image:type\",\"content\":\"image/png\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:image:width\",\"content\":\"1200\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:image:height\",\"content\":\"630\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:image\",\"content\":\"https://deepwiki.com/opengraph-image.png?8391a278ea71bf13\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:type\",\"content\":\"website\"}],[\"$\",\"meta\",\"11\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"12\",{\"name\":\"twitter:title\",\"content\":\"DeepWiki | AI documentation you can talk to, for every repo\"}],[\"$\",\"meta\",\"13\",{\"name\":\"twitter:description\",\"content\":\"DeepWiki provides up-to-date documentation you can talk to, for every repo in the world. Think Deep Research for GitHub - powered by Devin.\"}],[\"$\",\"meta\",\"14\",{\"name\":\"twitter:image:type\",\"content\":\"image/png\"}],[\"$\",\"meta\",\"15\",{\"name\":\"twitter:image:width\",\"content\":\"1200\"}],[\"$\",\"meta\",\"16\",{\"name\":\"twitter:image:height\",\"content\":\"630\"}],[\"$\",\"meta\",\"17\",{\"name\":\"twitter:image\",\"content\":\"https://deepwiki.com/opengraph-image.png?8391a278ea71bf13\"}],[\"$\",\"link\",\"18\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"48x48\"}],[\"$\",\"link\",\"19\",{\"rel\":\"icon\",\"href\":\"/icon.png?66aaf51e0e68c818\",\"type\":\"image/png\",\"sizes\":\"16x16\"}],[\"$\",\"link\",\"20\",{\"rel\":\"apple-touch-icon\",\"href\":\"/apple-icon.png?a4f658907db0ab87\",\"type\":\"image/png\",\"sizes\":\"180x180\"}]],\"error\":null,\"digest\":\"$undefined\"}\n"])</script><script>self.__next_f.push([1,"d:{\"metadata\":\"$13:metadata\",\"error\":null,\"digest\":\"$undefined\"}\n"])</script><next-route-announcer style="position: absolute;"><template shadowrootmode="open"><div aria-live="assertive" id="__next-route-announcer__" role="alert" style="position: absolute; border: 0px; height: 1px; margin: -1px; padding: 0px; width: 1px; clip: rect(0px, 0px, 0px, 0px); overflow: hidden; white-space: nowrap; overflow-wrap: normal;"></div></template></next-route-announcer><iframe id="_hjSafeContext_37641779" title="_hjSafeContext" tabindex="-1" aria-hidden="true" src="./DeepWiki _ AI documentation you can talk to, for every repo_files/saved_resource.html" style="display: none !important; width: 1px !important; height: 1px !important; opacity: 0 !important; pointer-events: none !important;"></iframe></body></html>